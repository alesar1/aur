From b4cf6d1246f98d94f9c0ccf3d998478893488aca Mon Sep 17 00:00:00 2001
From: Michal Vasko <mvasko@cesnet.cz>
Date: Wed, 9 Nov 2022 10:26:14 +0100
Subject: [PATCH] tests BUGFIX ignore yanglint warnings

Fixes #1936
---
 tools/lint/tests/expect/completion.exp | 3 ++-
 tools/lint/tests/expect/feature.exp    | 3 ++-
 tools/lint/tests/expect/list.exp       | 3 ++-
 3 files changed, 6 insertions(+), 3 deletions(-)

diff --git a/tools/lint/tests/expect/completion.exp b/tools/lint/tests/expect/completion.exp
index 971e105df..ed4f6bd45 100755
--- a/tools/lint/tests/expect/completion.exp
+++ b/tools/lint/tests/expect/completion.exp
@@ -10,7 +10,8 @@ if { [info exists ::env(CURRENT_SOURCE_DIR)] } {
 
 spawn $yanglint
 
-expect_output "> "
+# skip no dir and/or no history warnings
+expect_output "(YANGLINT.*)*> "
 
 expect_command "clear -ii" 0 ""
 
diff --git a/tools/lint/tests/expect/feature.exp b/tools/lint/tests/expect/feature.exp
index d4073d370..37680b002 100755
--- a/tools/lint/tests/expect/feature.exp
+++ b/tools/lint/tests/expect/feature.exp
@@ -10,7 +10,8 @@ if { [info exists ::env(CURRENT_SOURCE_DIR)] } {
 
 spawn $yanglint
 
-expect_output "> "
+# skip no dir and/or no history warnings
+expect_output "(YANGLINT.*)*> "
 
 expect_command "feature -a" 1 "yang:\r\n\t\\(none\\)\r\n\r\nietf-yang-schema-mount:\r\n\t\\(none\\)\r\n\r\n> "
 
diff --git a/tools/lint/tests/expect/list.exp b/tools/lint/tests/expect/list.exp
index 4264cfdae..ec3cdba1c 100755
--- a/tools/lint/tests/expect/list.exp
+++ b/tools/lint/tests/expect/list.exp
@@ -10,7 +10,8 @@ if { [info exists ::env(CURRENT_SOURCE_DIR)] } {
 
 spawn $yanglint
 
-expect_output "> "
+# skip no dir and/or no history warnings
+expect_output "(YANGLINT.*)*> "
 
 expect_command "list" 1 "List of the loaded models:\r\n *i ietf-yang-metadata@2016-08-05\r\n *I yang@2022-06-16\r\n *i ietf-inet-types@2013-07-15\r\n *i ietf-yang-types@2013-07-15\r\n *I ietf-yang-schema-mount@2019-01-14\r\n *i ietf-yang-structure-ext@2020-06-17\r\n> "
 
