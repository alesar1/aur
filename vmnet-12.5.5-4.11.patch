diff -ur old/vmnet-only/userif.c vmnet-only/userif.c
--- old/vmnet-only/userif.c   2016-11-16 16:23:41.000000000 +0200
+++ vmnet-only/userif.c    2017-03-06 10:32:33.106432185 +0200
@@ -36,6 +36,7 @@
 #include <linux/slab.h>
 #include <linux/version.h>
 #include <linux/wait.h>
+#include <linux/sched/signal.h>

 #include <net/checksum.h>
 #include <net/sock.h>

diff -ur old/vmnet-only/bridge.c vmnet-only/bridge.c
--- old/vmnet-only/bridge.c	2017-05-14 02:24:23.764324763 +0800
+++ vmnet-only/bridge.c	2017-05-14 02:24:20.494352085 +0800
@@ -1146,7 +1146,7 @@
void *data) // IN: device pertaining to event
{
VNetBridge *bridge = list_entry(this, VNetBridge, notifier);
- struct net_device *dev = (struct net_device *) data;
+ struct net_device *dev = netdev_notifier_info_to_dev(data);
