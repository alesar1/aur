From 1b14809723a8de3980808e6b3b79c6e4d79a5458 Mon Sep 17 00:00:00 2001
From: egnappahz <egnappah@gmail.com>
Date: Wed, 23 Mar 2022 11:46:32 +0100
Subject: [PATCH] AURNEWS patch

---
 pikaur/install_cli.py      | 5 +++++
 pikaur/print_department.py | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

diff --git a/pikaur/install_cli.py b/pikaur/install_cli.py
index ee268bb..6bfc020 100644
--- a/pikaur/install_cli.py
+++ b/pikaur/install_cli.py
@@ -736,6 +736,11 @@ class InstallPackagesCLI():
             _pkg_label = bold_line(', '.join(pkg_build.package_names))
             _skip_diff_label = translate("Not showing diff for {pkg} package ({reason})")

+            for pkgname_eggz in pkg_build.package_names:
+                print_stdout(color_line("------------ Package comments for " + pkgname_eggz + " ------------",11))
+                os.system("curl -s https://aur.archlinux.org/packages/" + str(pkgname_eggz) + " | grep '<div id=\"comment-' -A10 | grep 'p>' | sed 's/.*<p>//g' | sed 's/<\/p>/\\n/g' | grep -v '</div>' | head -n20")
+                print_stdout(color_line("/----------- End comments for " + pkgname_eggz + " -----------/",11))
+
             if (
                     pkg_build.last_installed_hash != pkg_build.current_hash
             ) and (
diff --git a/pikaur/print_department.py b/pikaur/print_department.py
index e4c932d..59e4b79 100644
--- a/pikaur/print_department.py
+++ b/pikaur/print_department.py
@@ -49,7 +49,7 @@ def print_version(pacman_version: str, pyalpm_version: str, quiet=False) -> None
   l  /       \        l
   j  ●   .   ●        l      """ + pacman_version + r"""
  { )  ._,.__,   , -.  {      pyalpm v""" + pyalpm_version + r"""
-  У    \  _/     ._/   \
+  У    \  _/     ._/   \     With Magical AURNEWS patch by Eggz
 
 """)
 
-- 
2.35.1

