From 9055fba45b4b5bef1a9bcfcc512bc7ea2fed21c5 Mon Sep 17 00:00:00 2001
From: egnappahz <egnappah@gmail.com>
Date: Wed, 26 Oct 2022 13:45:27 +0200
Subject: [PATCH] AURNEWS patch

Signed-off-by: egnappahz <egnappah@gmail.com>
---
 pikaur/install_cli.py      | 5 +++++
 pikaur/print_department.py | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

diff --git a/pikaur/install_cli.py b/pikaur/install_cli.py
index 9ae3626..c233826 100644
--- a/pikaur/install_cli.py
+++ b/pikaur/install_cli.py
@@ -744,6 +744,11 @@ class InstallPackagesCLI():
             _pkg_label = bold_line(', '.join(pkg_build.package_names))
             _skip_diff_label = translate("Not showing diff for {pkg} package ({reason})")
 
+            for pkgname_eggz in pkg_build.package_names:
+                print_stdout(color_line("------------ Package comments for " + pkgname_eggz + " ------------",11))
+                os.system("curl -s https://aur.archlinux.org/packages/" + str(pkgname_eggz) + " | grep '<div id=\"comment-' -A10 | grep 'p>' | sed 's/.*<p>//g' | sed 's/<\/p>/\\n/g' | grep -v '</div>' | head -n20")
+                print_stdout(color_line("/----------- End comments for " + pkgname_eggz + " -----------/",11))
+
             if (
                     pkg_build.package_base in self.reviewed_package_bases
             ):
diff --git a/pikaur/print_department.py b/pikaur/print_department.py
index 2fb4db5..c942688 100644
--- a/pikaur/print_department.py
+++ b/pikaur/print_department.py
@@ -51,7 +51,7 @@ def print_version(pacman_version: str, pyalpm_version: str, quiet=False) -> None
   l  /       \        l
   j  ●   .   ●        l      """ + pacman_version + r"""
  { )  ._,.__,   , -.  {      pyalpm v""" + pyalpm_version + r"""
-  У    \  _/     ._/   \
+  У    \  _/     ._/   \     With Magical AURNEWS patch by Eggz
 
 """)
 
-- 
2.38.1

