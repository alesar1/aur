From ad36631532e72114dd6ce9f29c188dec49a60304 Mon Sep 17 00:00:00 2001
From: "Patrick Burroughs (Celti)" <celti@celti.name>
Date: Fri, 20 May 2016 00:37:42 -0700
Subject: [PATCH] Arch SVG hack

---
 Makefile | 28 +++++++++++++++++++---------
 1 file changed, 19 insertions(+), 9 deletions(-)

diff --git a/Makefile b/Makefile
index d7fc3f6..ef1b44e 100644
--- a/Makefile
+++ b/Makefile
@@ -24,0 +25,2 @@
+# Image converter to use (rsvg-convert or lasem-render)
+SVG_CONVERT ?= rsvg-convert
@@ -26 +28 @@
-DEPS = rsvg-convert
+DEPS = $(SVG_CONVERT)
@@ -60 +62 @@ $(ICONS_DIR)/16.png: $(SOURCE_ICON_XS) | $(ICONS_DIR)
-	rsvg-convert -w 16 -h 16 $< -o $@
+	$(SVG_CONVERT) -z 1 $< -o $@
@@ -64 +66 @@ $(ICONS_DIR)/22.png : $(SOURCE_ICON_XS) | $(ICONS_DIR)
-	rsvg-convert -w 22 -h 22 $< -o $@
+	$(SVG_CONVERT) -z 1.375 $< -o $@
@@ -68 +70 @@ $(ICONS_DIR)/24.png : $(SOURCE_ICON_XS) | $(ICONS_DIR)
-	rsvg-convert -w 24 -h 24 $< -o $@
+	$(SVG_CONVERT) -z 1.5 $< -o $@
@@ -72 +74 @@ $(ICONS_DIR)/32.png : $(SOURCE_ICON_SM) | $(ICONS_DIR)
-	rsvg-convert -w 32 -h 32 $< -o $@
+	$(SVG_CONVERT) -z 1 $< -o $@
@@ -76 +78 @@ $(ICONS_DIR)/48.png : $(SOURCE_ICON_SM) | $(ICONS_DIR)
-	rsvg-convert -w 48 -h 48 $< -o $@
+	$(SVG_CONVERT) -z 1.5 $< -o $@
@@ -78,3 +80,11 @@ $(ICONS_DIR)/48.png : $(SOURCE_ICON_SM) | $(ICONS_DIR)
-# Generate icons 64 128 256
-$(ICONS_DIR)/%.png : $(SOURCE_ICON) | $(ICONS_DIR)
-	rsvg-convert -w $* -h $* $< -o $@
+# Generate icon 64
+$(ICONS_DIR)/64.png : $(SOURCE_ICON) | $(ICONS_DIR)
+	$(SVG_CONVERT) -z 0.125 $< -o $@
+
+# Generate icon 128
+$(ICONS_DIR)/128.png : $(SOURCE_ICON) | $(ICONS_DIR)
+	$(SVG_CONVERT) -z 0.25 $< -o $@
+
+# Generate icon 256
+$(ICONS_DIR)/256.png : $(SOURCE_ICON) | $(ICONS_DIR)
+	$(SVG_CONVERT) -z 0.5 $< -o $@
-- 
2.8.2

