From d8795e6bea6b920f995cac1fffbbf3d36a92845b Mon Sep 17 00:00:00 2001
From: Nicola Murino <nicola.murino@gmail.com>
Date: Tue, 7 Aug 2018 08:07:16 +0200
Subject: [PATCH] cmake: fix link with MinGW

---
 CMakeLists.txt | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 27a1a5b..22458f4 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -452,6 +452,8 @@ if (srt_libspec_shared)
 	target_link_libraries(${TARGET_srt}_shared PRIVATE ${SSL_LIBRARIES})
 	if (MICROSOFT)
 		target_link_libraries(${TARGET_srt}_shared PRIVATE ws2_32.lib)
+	elseif (MINGW)
+		target_link_libraries(${TARGET_srt}_shared PRIVATE wsock32.lib ws2_32.lib)
 	endif()
 endif()
 
@@ -476,6 +478,8 @@ if (srt_libspec_static)
 	target_link_libraries(${TARGET_srt}_static PRIVATE ${SSL_LIBRARIES})
 	if (MICROSOFT)
 		target_link_libraries(${TARGET_srt}_static PRIVATE ws2_32.lib)
+	elseif (MINGW)
+		target_link_libraries(${TARGET_srt}_static PRIVATE wsock32.lib ws2_32.lib)
 	endif()
 endif()
 
@@ -497,6 +501,8 @@ set (SRT_LIBS_PRIVATE ${SSL_LIBRARIES})
 
 if (MICROSOFT)
 	set (SRT_LIBS_PRIVATE ${SRT_LIBS_PRIVATE} ws2_32.lib)
+elseif (MINGW)
+	set (SRT_LIBS_PRIVATE ${SRT_LIBS_PRIVATE} wsock32.lib ws2_32.lib)
 endif()
 
 # ---
-- 
2.18.0

