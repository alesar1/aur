pkgbase = pipewire-common-git
	pkgdesc = Server and user space API to deal with multimedia pipelines
	pkgver = 0.3.20.r1.g44cad2d5
	pkgrel = 1
	url = https://pipewire.org
	arch = x86_64
	license = MIT
	checkdepends = desktop-file-utils
	makedepends = git
	makedepends = meson
	makedepends = doxygen
	makedepends = graphviz
	makedepends = xmltoman
	makedepends = valgrind
	makedepends = jack2
	makedepends = alsa-lib
	makedepends = gst-plugins-base
	makedepends = sbc
	makedepends = rtkit
	makedepends = vulkan-icd-loader
	makedepends = dbus
	makedepends = sdl2
	makedepends = ncurses
	makedepends = libsndfile
	makedepends = bluez-libs
	makedepends = vulkan-headers
	makedepends = libldac
	makedepends = libopenaptx
	makedepends = libfdk-aac
	makedepends = ffmpeg
	source = git+https://gitlab.freedesktop.org/pipewire/pipewire.git
	sha256sums = SKIP

pkgname = pipewire-common-git
	install = pipewire.install
	depends = sbc
	depends = rtkit
	depends = vulkan-icd-loader
	depends = alsa-card-profiles
	depends = libdbus-1.so
	depends = libncursesw.so
	depends = libsndfile.so
	depends = libudev.so
	depends = libasound.so
	depends = libsystemd.so
	optdepends = pipewire-common-docs-git: Documentation
	optdepends = pipewire-common-alsa-git: ALSA support
	optdepends = pipewire-common-jack-git: JACK support
	optdepends = pipewire-common-pulse-git: PulseAudio support
	optdepends = gst-plugin-pipewire-common-git: GStreamer support
	optdepends = pipewire-common-ffmpeg-git: FFmpeg support
	optdepends = pipewire-common-bluez5-git: Bluetooth audio support
	optdepends = pipewire-common-bluez5-hsphfpd-git: Bluetooth audio support (using hsphfpd for HSP/HFP support)
	provides = pipewire
	provides = libpipewire-0.3.so
	conflicts = pipewire
	backup = etc/pipewire/pipewire.conf
	backup = etc/pipewire/media-session.d/media-session.conf
	backup = etc/pipewire/media-session.d/alsa-monitor.conff
	backup = etc/pipewire/media-session.d/bluez-monitor.conff
	backup = etc/pipewire/media-session.d/v4l2-monitor.conff

pkgname = pipewire-common-docs-git
	pkgdesc = Server and user space API to deal with multimedia pipelines (documentation)
	provides = pipewire-docs
	conflicts = pipewire-docs

pkgname = pipewire-common-jack-git
	pkgdesc = Server and user space API to deal with multimedia pipelines (JACK support)
	depends = pipewire-common-git
	depends = libpipewire-0.3.so
	depends = libjack.so
	provides = pipewire-jack
	conflicts = pipewire-jack

pkgname = pipewire-common-pulse-git
	pkgdesc = Server and user space API to deal with multimedia pipelines (PulseAudio replacement)
	install = pipewire-pulse.install
	depends = pipewire-common-git
	depends = pipewire-bluez5
	depends = libpulse
	provides = pipewire-pulse
	provides = pulseaudio
	provides = pulseaudio-bluetooth
	conflicts = pipewire-pulse
	conflicts = pulseaudio
	conflicts = pulseaudio-bluetooth

pkgname = pipewire-common-alsa-git
	pkgdesc = ALSA Configuration for PipeWire
	depends = pipewire-common-git
	depends = libpipewire-0.3.so
	provides = pipewire-alsa
	provides = pulseaudio-alsa
	conflicts = pipewire-alsa

pkgname = gst-plugin-pipewire-common-git
	pkgdesc = Multimedia graph framework - pipewire plugin
	depends = pipewire-common-git
	depends = libpipewire-0.3.so
	depends = gst-plugins-base-libs
	provides = gst-plugin-pipewire
	conflicts = gst-plugin-pipewire

pkgname = acp-pipewire-common-git
	pkgdesc = ALSA card profiles shared by PipeWire
	provides = alsa-card-profiles
	conflicts = alsa-card-profiles

pkgname = pipewire-common-ffmpeg-git
	pkgdesc = Server and user space API to deal with multimedia pipelines (FFmpeg SPA plugin)
	depends = pipewire-common-git
	depends = libpipewire-0.3.so
	depends = libavcodec.so
	depends = libavformat.so
	provides = pipewire-ffmpeg
	conflicts = pipewire-ffmpeg

pkgname = pipewire-common-bluez5-git
	pkgdesc = Server and user space API to deal with multimedia pipelines (BlueZ 5 SPA plugin)
	depends = pipewire-common-git
	depends = libpipewire-0.3.so
	depends = bluez-libs
	depends = libldacBT_enc.so
	depends = libopenaptx.so
	depends = libfdk-aac.so
	optdepends = ofono: HFP support
	provides = pipewire-bluez5
	conflicts = pipewire-bluez5

pkgname = pipewire-common-bluez5-hsphfpd-git
	pkgdesc = Server and user space API to deal with multimedia pipelines (BlueZ 5 SPA plugin, using hsphfpd for HSP/HFP support)
	depends = pipewire-common-git
	depends = libpipewire-0.3.so
	depends = bluez-libs
	depends = hsphfpd
	depends = libldacBT_enc.so
	depends = libopenaptx.so
	depends = libfdk-aac.so
	provides = pipewire-bluez5
	conflicts = pipewire-bluez5

