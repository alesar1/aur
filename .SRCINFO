pkgbase = python-onnxruntime
	pkgdesc = Cross-platform, high performance scoring engine for ML models
	pkgver = 1.13.1
	pkgrel = 1
	url = https://github.com/microsoft/onnxruntime
	arch = x86_64
	license = MIT
	makedepends = git
	makedepends = cmake
	makedepends = pybind11
	makedepends = python-setuptools
	makedepends = nlohmann-json
	makedepends = chrono-date
	makedepends = boost
	makedepends = eigen
	makedepends = flatbuffers
	makedepends = onednn
	makedepends = python-coloredlogs
	makedepends = python-flatbuffers
	makedepends = python-numpy
	makedepends = python-packaging
	makedepends = python-protobuf
	makedepends = python-sympy
	makedepends = cuda
	makedepends = cudnn
	makedepends = nccl
	makedepends = gcc11
	depends = nsync
	depends = re2
	depends = openmpi
	depends = libprotobuf-lite.so
	options = !lto
	source = git+https://github.com/microsoft/onnxruntime#tag=v1.13.1
	source = git+https://github.com/onnx/onnx.git
	source = git+https://github.com/dcleblanc/SafeInt.git
	source = git+https://github.com/tensorflow/tensorboard.git
	source = git+https://github.com/dmlc/dlpack.git
	source = git+https://github.com/jarro2783/cxxopts.git
	source = pytorch_cpuinfo::git+https://github.com/pytorch/cpuinfo.git
	source = build-fixes.patch
	source = install-orttraining-files.diff
	source = system-dnnl.diff
	sha512sums = SKIP
	sha512sums = SKIP
	sha512sums = SKIP
	sha512sums = SKIP
	sha512sums = SKIP
	sha512sums = SKIP
	sha512sums = SKIP
	sha512sums = 8f0bd7ae59f86f002c88368a8c2852b9613363771aae61f91a90bfc13dcd3173e43d7988a59ccef86657cf6abfcc53837bbf445c216a7994a765a7e0770d0f5f
	sha512sums = 7d55b0d4232183a81c20a5049f259872150536eed799d81a15e7f10b5c8b5279b443ba96d7b97c0e4338e95fc18c9d6f088e348fc7002256ee7170d25b27d80d
	sha512sums = ab48d27be98a88d3c361e1d0aac3b1e078096c0902ba7a543261a1c24faed0f1f44947a1b7ea1f264434cd2199b9d563d2447c14b6afbdf9900e68a65f7d2619

pkgname = onnxruntime
	depends = nsync
	depends = re2
	depends = openmpi
	depends = libprotobuf-lite.so
	depends = onednn

pkgname = python-onnxruntime
	depends = nsync
	depends = re2
	depends = openmpi
	depends = libprotobuf-lite.so
	depends = onnxruntime
	depends = python-coloredlogs
	depends = python-flatbuffers
	depends = python-numpy
	depends = python-packaging
	depends = python-protobuf
	depends = python-sympy
	optdepends = python-onnx: for the backend API, quantization, orttraining, transformers and various tools
	optdepends = python-psutil: for transformers
	optdepends = python-py-cpuinfo: for transformers
	optdepends = python-py3nvml: for transformers
	optdepends = python-transformers: for transformers
	optdepends = python-scipy: for transformers and various tools
	optdepends = python-pytorch: for transformers, orttraining and various tools
	optdepends = python-cerberus: for orttraining
	optdepends = python-h5py: for orttraining

pkgname = onnxruntime-cuda
	pkgdesc = Cross-platform, high performance scoring engine for ML models (CUDA execution provider)
	depends = cuda
	depends = cudnn
	depends = nccl
	depends = openmpi
	depends = nsync
	conflicts = python-onnxruntime-cuda
	replaces = python-onnxruntime-cuda
