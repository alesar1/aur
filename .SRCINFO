pkgbase = linux-t2
	pkgdesc = Patched Linux Kernel with support for T2 Mac's and their newer broadcom firmware
	pkgver = 5.15
	pkgrel = 1
	url = https://github.com/jamlam/mbp-16.1-linux-wifi
	arch = x86_64
	license = GPL3
	makedepends = bc
	makedepends = kmod
	makedepends = libelf
	makedepends = pahole
	makedepends = cpio
	makedepends = perl
	makedepends = tar
	makedepends = xz
	makedepends = xmlto
	makedepends = python-sphinx
	makedepends = python-sphinx_rtd_theme
	makedepends = graphviz
	makedepends = imagemagick
	makedepends = git
	provides = linux-t2
	options = !strip
	source = https://www.kernel.org/pub/linux/kernel/v5.x/linux-5.15.tar.xz
	source = https://www.kernel.org/pub/linux/kernel/v5.x/linux-5.15.tar.sign
	source = https://raw.githubusercontent.com/archlinux/svntogit-packages/packages/linux/trunk/config
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/0001-ZEN-Add-sysctl-and-CONFIG-to-disallow-unprivileged-C.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/0002-HID-quirks-Add-Apple-Magic-Trackpad-2-to-hid_have_sp.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/2001-drm-amd-display-Force-link_rate-as-LINK_RATE_RBR2-fo.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/3001-applesmc-convert-static-structures-to-drvdata.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/3002-applesmc-make-io-port-base-addr-dynamic.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/3003-applesmc-switch-to-acpi_device-from-platform.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/3004-applesmc-key-interface-wrappers.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/3005-applesmc-basic-mmio-interface-implementation.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/3006-applesmc-fan-support-on-T2-Macs.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/4001-HID-apple-Add-support-for-keyboard-backlight-on-supp.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/4002-HID-apple-Add-support-for-MacbookAir8-1-keyboard-tra.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/4003-HID-apple-Add-support-for-MacBookPro15-2-keyboard-tr.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/4003-HID-apple-Add-support-for-MacBookPro15-2-keyboard-tr.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/4004-HID-apple-Add-support-for-MacBookPro15-1-keyboard-tr.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/4005-HID-apple-Add-support-for-MacBookPro15-4-keyboard-tr.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/4006-HID-apple-Add-support-for-MacBookPro16-2-keyboard-tr.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/4007-HID-apple-Add-support-for-MacBookPro16-3-keyboard-tr.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/4008-HID-apple-Add-support-for-MacBookAir9-1-keyboard-tra.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/4009-HID-apple-Add-support-for-MacBookPro16-1-keyboard-tr.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/6001-media-uvcvideo-Add-support-for-Apple-T2-attached-iSi.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/7001-drm-i915-fbdev-Discard-BIOS-framebuffers-exceeding-h.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/8001-corellium-wifi-bigsur.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/8002-Add-support-for-BCM4377.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/8003-Add-support-for-BCM4355.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/9001-bluetooth-add-disable-read-tx-power-quirk.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/9002-add-bluetooth-support-for-16,2.patch
	source = https://raw.githubusercontent.com/jamlam/mbp-16.1-linux-wifi/main/intel-lpss.patch

pkgname = linux-t2
	pkgdesc = The Patched Linux Kernel with support for T2 Mac's and their newer broadcom firmware kernel and modules
	depends = coreutils
	depends = kmod
	depends = initramfs
	optdepends = crda: to set the correct wireless channels of your country
	optdepends = linux-firmware: firmware images needed for some devices
	provides = linux=5.15
	replaces = virtualbox-guest-modules-arch
	replaces = wireguard-arch

pkgname = linux-t2-headers
	pkgdesc = Headers and scripts for building modules for the Patched Linux Kernel with support for T2 Mac's and their newer broadcom firmware kernel
	provides = linux-headers=5.15

pkgname = linux-t2-docs
	pkgdesc = Documentation for the Patched Linux Kernel with support for T2 Mac's and their newer broadcom firmware kernel
