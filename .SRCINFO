pkgbase = caffe2
	pkgdesc = A new lightweight, modular, and scalable deep learning framework
	pkgver = 0.8.2_1.6.0
	pkgrel = 1
	url = https://caffe2.ai/
	arch = x86_64
	license = BSD
	makedepends = git
	makedepends = cmake
	makedepends = gtest
	makedepends = snappy
	makedepends = cuda
	makedepends = cudnn
	makedepends = nccl
	makedepends = pybind11
	depends = google-glog
	depends = protobuf
	depends = openmp
	depends = python
	depends = python-numpy
	depends = python-protobuf
	depends = python-yaml
	depends = blas
	depends = lapack
	depends = gflags
	depends = numactl
	depends = intel-mkl
	depends = opencv
	depends = libuv
	optdepends = python-flask
	optdepends = graphviz
	optdepends = python-hypothesis
	optdepends = python-matplotlib
	optdepends = python-pydot
	optdepends = python-nvd3
	optdepends = python-yaml
	optdepends = python-requests
	optdepends = python-scikit-image
	optdepends = python-scipy
	optdepends = python-setuptools
	optdepends = python-future
	optdepends = python-tornado
	optdepends = python-six
	optdepends = python-lmdb
	conflicts = python-pytorch
	options = !emptydirs
	source = git+https://github.com/pytorch/pytorch.git#tag=v1.6.0
	source = git+https://github.com/pybind/pybind11
	source = git+https://github.com/NVlabs/cub
	source = git+https://github.com/eigenteam/eigen-git-mirror
	source = git+https://github.com/google/googletest
	source = git+https://github.com/google/benchmark
	source = protobuf-protocolbuffers::git+https://github.com/protocolbuffers/protobuf
	source = git+https://github.com/Yangqing/ios-cmake
	source = git+https://github.com/Maratyszcza/NNPACK
	source = git+https://github.com/facebookincubator/gloo
	source = git+https://github.com/Maratyszcza/pthreadpool
	source = git+https://github.com/Maratyszcza/FXdiv
	source = git+https://github.com/Maratyszcza/FP16
	source = git+https://github.com/Maratyszcza/psimd
	source = git+https://github.com/facebook/zstd
	source = cpuinfo-pytorch::git+https://github.com/pytorch/cpuinfo
	source = git+https://github.com/PeachPy/enum34
	source = git+https://github.com/Maratyszcza/PeachPy
	source = git+https://github.com/benjaminp/six
	source = git+https://github.com/onnx/onnx
	source = git+https://github.com/onnx/onnx-tensorrt
	source = git+https://github.com/shibatch/sleef
	source = git+https://github.com/intel/ideep
	source = git+https://github.com/NVIDIA/nccl.git
	source = git+https://github.com/google/gemmlowp
	source = git+https://github.com/pytorch/QNNPACK
	source = git+https://github.com/intel/ARM_NEON_2_x86_SSE
	source = git+https://github.com/pytorch/fbgemm
	source = git+https://github.com/houseroad/foxi
	source = git+https://github.com/01org/tbb
	source = git+https://github.com/facebookincubator/fbjni
	source = git+https://github.com/google/XNNPACK
	source = git+https://github.com/fmtlib/fmt
	source = git+https://github.com/pytorch/tensorpipe
	source = git+https://github.com/asmjit/asmjit.git
	source = git+https://github.com/01org/mkl-dnn.git
	source = git+https://github.com/emil-e/rapidcheck.git
	source = 010-caffe2-fix-include-system-path.patch
	source = 020-caffe2-use-system-libuv.patch
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = SKIP
	sha256sums = e3d8ebbed02311d065f32a10e8264b1ad76e8df691d78baac3caa1b5b3f1e9f6
	sha256sums = 4e8840d3c6311c17ff19184fa5a7dec2d51ad6f0520708616af0f03a6c231648

pkgname = caffe2
	pkgdesc = A new lightweight, modular, and scalable deep learning framework (cpu only)
	provides = caffe2-cpu
	conflicts = python-pytorch
	conflicts = caffe2-cpu
	replaces = caffe2-cpu

pkgname = caffe2-cuda
	pkgdesc = A new lightweight, modular, and scalable deep learning framework (with cuda support)
	depends = google-glog
	depends = protobuf
	depends = openmp
	depends = python
	depends = python-numpy
	depends = python-protobuf
	depends = python-yaml
	depends = blas
	depends = lapack
	depends = gflags
	depends = numactl
	depends = intel-mkl
	depends = opencv
	depends = libuv
	depends = cuda
	depends = cudnn
	depends = nccl
	provides = caffe2
	conflicts = python-pytorch
	conflicts = caffe2

