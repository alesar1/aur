pkgbase = postgresql-src
	pkgver = 12.2
	pkgrel = 10
	url = http://www.postgresql.org/
	arch = aarch64
	arch = i686
	arch = x86_64
	license = custom:PostgreSQL
	makedepends = python
	makedepends = perl
	makedepends = openssl>=1.0.0
	source = http://ftp.postgresql.org/pub/source/v12.2/postgresql-12.2.tar.bz2
	source = postgresql-run-socket.patch
	source = postgresql.pam
	source = postgresql.logrotate
	source = postgresql.service
	source = postgresql-check-db-dir
	sha512sums = 0e0ce8e21856e8f43e58b840c10c4e3ffae6d5207e0d778e9176e36f8e20e34633cbb06f0030a7c963c3491bb7e941456d91b55444c561cfc6f283fba76f33ee
	sha512sums = 031efe12d18ce386989062327cdbbe611c5ef1f94e4e1bead502304cb3e2d410af533d3c7f1109d24f9da9708214fe32f9a10ba373a3ca8d507bdb521fbb75f7
	sha512sums = 1e6183ab0eb812b3ef687ac2c26ce78f7cb30540f606d20023669ac00ba04075487fb72e4dc89cc05dab0269ff6aca98fc1167cc75669c225b88b592482fbf67
	sha512sums = 9ab4da01337ffbab8faec0e220aaa2a642dbfeccf7232ef2645bdc2177a953f17ee3cc14a4d8f8ebd064e1dae8b3dba6029adbffb8afaabea383963213941ba8
	sha512sums = ec2625c3ccfb6c142ea12ef4392b00f3d4cb0a5411d603b98157d55cd162ed3b422dbbd42e8b13211063db94a42f6d1f3febd4acaadde69ea17bfd8eccae3539
	sha512sums = 1d08b426b93cffdcf90d93c7a6d6939e4575ee3df3ca0bbbf89df73e2a7393928b44658b15c967af6d42a1440f17f068ea0112c5fbb8cd4b64cf78291ad367e3

pkgname = postgresql-src-libs
	pkgdesc = Libraries for use with PostgreSQL
	depends = krb5
	depends = openssl>=1.0.0
	depends = readline>=6.0
	provides = postgresql-client
	provides = postgresql-libs
	conflicts = postgresql-client
	conflicts = postgresql-libs

pkgname = postgresql-src-docs
	pkgdesc = HTML documentation for PostgreSQL
	provides = postgresql-docs
	conflicts = postgresql-docs
	options = docs

pkgname = postgresql-src
	pkgdesc = A sophisticated object-relational DBMS (from source, LTO enabled)
	install = postgresql.install
	depends = postgresql-src-libs>=12.2
	depends = krb5
	depends = readline>=6.0
	depends = openssl>=1.0.0
	depends = pam
	depends = llvm
	depends = clang
	optdepends = python: for PL/Python support
	optdepends = perl: for PL/Perl support
	optdepends = tcl: for PL/Tcl support
	optdepends = postgresql-old-upgrade: upgrade from previous major version using pg_upgrade
	provides = postgresql
	conflicts = postgresql
	options = staticlibs
	backup = etc/pam.d/postgresql
	backup = etc/logrotate.d/postgresql

