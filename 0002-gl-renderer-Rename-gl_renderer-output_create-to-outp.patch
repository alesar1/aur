From 91a4ade03a1d92f275a046dcf1b616b551e8bbc5 Mon Sep 17 00:00:00 2001
From: "Miguel A. Vico" <mvicomoya@nvidia.com>
Date: Wed, 30 Mar 2016 15:09:14 +0200
Subject: [PATCH 02/12] gl-renderer: Rename gl_renderer::output_create to
 output_window_create
X-NVConfidentiality: public

No functional change. This patch renames gl_renderer_output_create() to
gl_renderer_output_window_create(), which is something more descriptive
of what the function does.

Signed-off-by: Miguel A Vico Moya <mvicomoya@nvidia.com>
Reviewed-by: Andy Ritger <aritger@nvidia.com>
Reviewed-by: James Jones <jajones@nvidia.com>
---
 libweston/compositor-drm.c     | 12 ++++++------
 libweston/compositor-wayland.c | 12 ++++++------
 libweston/compositor-x11.c     | 13 +++++++------
 libweston/gl-renderer.c        | 14 +++++++-------
 libweston/gl-renderer.h        | 12 ++++++------
 5 files changed, 32 insertions(+), 31 deletions(-)

diff --git a/libweston/compositor-drm.c b/libweston/compositor-drm.c
index c6ec767489ee..d10734a6e777 100644
--- a/libweston/compositor-drm.c
+++ b/libweston/compositor-drm.c
@@ -1886,12 +1886,12 @@ drm_output_init_egl(struct drm_output *output, struct drm_backend *b)
 
 	if (format[1])
 		n_formats = 2;
-	if (gl_renderer->output_create(&output->base,
-				       (EGLNativeWindowType)output->gbm_surface,
-				       output->gbm_surface,
-				       gl_renderer->opaque_attribs,
-				       format,
-				       n_formats) < 0) {
+	if (gl_renderer->output_window_create(&output->base,
+					      (EGLNativeWindowType)output->gbm_surface,
+					      output->gbm_surface,
+					      gl_renderer->opaque_attribs,
+					      format,
+					      n_formats) < 0) {
 		weston_log("failed to create gl renderer output state\n");
 		gbm_surface_destroy(output->gbm_surface);
 		return -1;
diff --git a/libweston/compositor-wayland.c b/libweston/compositor-wayland.c
index 621e59ecac5a..6370f6a2ecb3 100644
--- a/libweston/compositor-wayland.c
+++ b/libweston/compositor-wayland.c
@@ -671,12 +671,12 @@ wayland_output_init_gl_renderer(struct wayland_output *output)
 		return -1;
 	}
 
-	if (gl_renderer->output_create(&output->base,
-				       output->gl.egl_window,
-				       output->gl.egl_window,
-				       gl_renderer->alpha_attribs,
-				       NULL,
-				       0) < 0)
+	if (gl_renderer->output_window_create(&output->base,
+					      output->gl.egl_window,
+					      output->gl.egl_window,
+					      gl_renderer->alpha_attribs,
+					      NULL,
+					      0) < 0)
 		goto cleanup_window;
 
 	return 0;
diff --git a/libweston/compositor-x11.c b/libweston/compositor-x11.c
index 84747a052d10..ef98f74bb9da 100644
--- a/libweston/compositor-x11.c
+++ b/libweston/compositor-x11.c
@@ -953,12 +953,13 @@ x11_backend_create_output(struct x11_backend *b, int x, int y,
 		 * but eglCreateWindowSurface takes a Window. */
 		Window xid = (Window) output->window;
 
-		ret = gl_renderer->output_create(&output->base,
-						 (EGLNativeWindowType) output->window,
-						 &xid,
-						 gl_renderer->opaque_attribs,
-						 NULL,
-						 0);
+		ret = gl_renderer->output_window_create(
+					&output->base,
+					(EGLNativeWindowType) output->window,
+					&xid,
+					gl_renderer->opaque_attribs,
+					NULL,
+					0);
 		if (ret < 0)
 			return NULL;
 	}
diff --git a/libweston/gl-renderer.c b/libweston/gl-renderer.c
index 9d5d65b03e46..7e6a707406ad 100644
--- a/libweston/gl-renderer.c
+++ b/libweston/gl-renderer.c
@@ -2544,12 +2544,12 @@ static int
 gl_renderer_setup(struct weston_compositor *ec, EGLSurface egl_surface);
 
 static int
-gl_renderer_output_create(struct weston_output *output,
-			  EGLNativeWindowType window_for_legacy,
-			  void *window_for_platform,
-			  const EGLint *attribs,
-			  const EGLint *visual_id,
-			  int n_ids)
+gl_renderer_output_window_create(struct weston_output *output,
+				 EGLNativeWindowType window_for_legacy,
+				 void *window_for_platform,
+				 const EGLint *attribs,
+				 const EGLint *visual_id,
+				 int n_ids)
 {
 	struct weston_compositor *ec = output->compositor;
 	struct gl_renderer *gr = get_renderer(ec);
@@ -3183,7 +3183,7 @@ WL_EXPORT struct gl_renderer_interface gl_renderer_interface = {
 
 	.display_create = gl_renderer_display_create,
 	.display = gl_renderer_display,
-	.output_create = gl_renderer_output_create,
+	.output_window_create = gl_renderer_output_window_create,
 	.output_destroy = gl_renderer_output_destroy,
 	.output_surface = gl_renderer_output_surface,
 	.output_set_border = gl_renderer_output_set_border,
diff --git a/libweston/gl-renderer.h b/libweston/gl-renderer.h
index 32ba1536b60e..ee32790463aa 100644
--- a/libweston/gl-renderer.h
+++ b/libweston/gl-renderer.h
@@ -69,12 +69,12 @@ struct gl_renderer_interface {
 
 	EGLDisplay (*display)(struct weston_compositor *ec);
 
-	int (*output_create)(struct weston_output *output,
-			     EGLNativeWindowType window_for_legacy,
-			     void *window_for_platform,
-			     const EGLint *attribs,
-			     const EGLint *visual_id,
-			     const int n_ids);
+	int (*output_window_create)(struct weston_output *output,
+				    EGLNativeWindowType window_for_legacy,
+				    void *window_for_platform,
+				    const EGLint *attribs,
+				    const EGLint *visual_id,
+				    const int n_ids);
 
 	void (*output_destroy)(struct weston_output *output);
 
-- 
2.10.2

