--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -547,6 +547,11 @@ if (MSVC AND CMAKE_GENERATOR STREQUAL "Ninja")
     )
 endif()
 
+if (ARCHITECTURE_x86 OR ARCHITECTURE_x86_64)
+    find_package(xbyak REQUIRED)
+    add_library(xbyak ALIAS xbyak::xbyak)
+endif()
+
 enable_testing()
 add_subdirectory(externals)
 add_subdirectory(src)
--- a/externals/CMakeLists.txt
+++ b/externals/CMakeLists.txt
@@ -6,7 +6,7 @@ list(APPEND CMAKE_MODULE_PATH "${PROJECT_SOURCE_DIR}/externals/find-modules")
 include(DownloadExternals)
 
 # xbyak
-if (ARCHITECTURE_x86 OR ARCHITECTURE_x86_64)
+if (FALSE)
     add_subdirectory(xbyak)
 endif()
 
