--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -136,6 +136,11 @@ if (DYNARMIC_TESTS_USE_UNICORN)
     find_package(Unicorn REQUIRED)
 endif()
 
+if (ARCHITECTURE STREQUAL "x86" OR ARCHITECTURE STREQUAL "x86_64")
+    find_package(xbyak REQUIRED)
+    add_library(xbyak ALIAS xbyak::xbyak)
+endif()
+
 # Pull in externals CMakeLists for libs where available
 add_subdirectory(externals)
 
