diff -aur tclreadline-2.3.5.orig/tclreadline.c tclreadline-2.3.5/tclreadline.c
--- tclreadline-2.3.5.orig/tclreadline.c	2019-04-11 12:14:01.511907023 +0200
+++ tclreadline-2.3.5/tclreadline.c	2019-04-11 12:15:31.349254754 +0200
@@ -47,7 +47,7 @@
 static const char* tclrl_patchlevel_str = TCLRL_PATCHLEVEL_STR;
 
 #define MALLOC(size) malloc(size)
-#define FREE(ptr) free(ptr); ptr = NULL
+#define FREE(ptr) do {free(ptr); ptr = NULL;} while (0)
 
 enum {
     _CMD_SET = (1 << 0),
