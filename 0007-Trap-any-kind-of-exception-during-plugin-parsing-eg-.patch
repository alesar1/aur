From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Marko Lemmetty <marko.lemmetty@jollamobile.com>
Date: Fri, 15 May 2020 15:44:22 +0300
Subject: [PATCH] Trap any kind of exception during plugin parsing (eg IOError
 for a dangling symlink)

---
 osc/commandline.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/osc/commandline.py b/osc/commandline.py
index 2225d5a4237d1f3763a61cd3a1d71afff50cbdb1..65d67066fe927a1e61aa4b0036d1e31e25d576f3 100644
--- a/osc/commandline.py
+++ b/osc/commandline.py
@@ -9389,7 +9389,7 @@ Please submit there instead, or use --nodevelproject to force direct submission.
                         if (inspect.isfunction(data) and inspect.getmodule(data) == mod
                             or inspect.ismodule(data)):
                             setattr(self.__class__, name, data)
-                except (SyntaxError, NameError, ImportError) as e:
+                except (SyntaxError, NameError, ImportError, IOError) as e:
                     if (os.environ.get('OSC_PLUGIN_FAIL_IGNORE')):
                         print("%s: %s\n" % (os.path.join(plugin_dir, extfile), e), file=sys.stderr)
                     else:
