--- Rprofile.site	2016-05-10 23:05:06.000000000 +0200
+++ Rprofile.site.new	2016-05-26 11:47:54.542644822 +0200
@@ -1,25 +1,15 @@
-Revo.version <- structure(list(major = "3", minor = "2.5", "BuildID" = :::BUILDID:::), class = "simple.list")
+Revo.version <- structure(list(major = "3", minor = "2.5", "BuildID" = 'Arch Linux'), class = "simple.list")
 repos.date <- "2016-05-01"
 
-if  (identical(.Platform$OS.type, "windows")) {
-	options(download.file.method = "wininet")
+if (capabilities("libcurl")) {
+   options(download.file.method = "libcurl")
 } else {
-    if (capabilities("libcurl")) {
-       options(download.file.method = "libcurl")
-    } else {
-		dmethAvail <- Sys.which(c("curl", "wget"))
-		if (any(dmethAvail != "")) {
-			options(download.file.method = names(dmethAvail[which(dmethAvail != "")[1]]))
-		}
-    }
+   options(download.file.method = "curl")
 }
 
 options(repos = c(CRAN = paste("https://mran.microsoft.com/snapshot/",repos.date,sep="")))
 
 
-if (.Platform$OS.type == "windows" ) {
- options(help_type="html")
-}
 quiet <- any(match(c("-q", "--silent", "--quiet", "--slave"), commandArgs()), na.rm=TRUE)
 	if (!quiet){
                 cat( paste("Microsoft R Open ",Revo.version$major,".",Revo.version$minor,"\n",sep=""))
@@ -27,11 +17,8 @@
                 cat("The enhanced R distribution from Microsoft\n",sep="")
                 cat("Visit https://mran.microsoft.com/ for information\n",sep="")
                 cat("about additional features.\n\n",sep="")
-
 	}
 	
-
-
 load_if_installed <- function(package) {
   if (!identical(system.file(package="RevoUtilsMath"), "")) {
     do.call('library', list(package))
@@ -41,20 +28,6 @@
   } 
 }
 
-if(Sys.info()["sysname"] == "Darwin"){
-  local({
-    options(download.file.method = "libcurl")
-    hw.ncpu <- try(system('sysctl hw.physicalcpu', intern = TRUE))
-	if (!inherits(hw.ncpu, "try-error")){
-		ncores <- sub("hw.physicalcpu: ", "", hw.ncpu)
-		msg <- "Multithreaded BLAS/LAPACK libraries detected. Using %s cores for math algorithms."
-		if (!quiet){	
-		    message(sprintf(msg, ncores))
-		}
-	}
-    invisible(NULL)
-  })
-} else {
 if(load_if_installed("RevoUtilsMath")){
   local({
     ncores <- RevoUtilsMath::getMKLthreads()
@@ -66,10 +39,9 @@
   })
 } else {
     MROversion <- paste(Revo.version$major, Revo.version$minor, sep=".")
-	msg <- "No performance acceleration libraries were detected. To take advantage of \nthe available processing power, also install MKL for R Open %s. Visit \nhttp://go.microsoft.com/fwlink/?LinkID=698301 for more details."
+	msg <- "No performance acceleration libraries were detected. To take advantage of \nthe available processing power, also install MKL for R Open %s. Visit \nhttp://go.microsoft.com/fwlink/?LinkID=698301 and/or https://aur.archlinux.org/packages/revomath/ for more details."
 	if (!quiet){
         message(sprintf(msg, MROversion))
 	}
     invisible(NULL)
 }
-}
