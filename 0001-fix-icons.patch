From 9d7c9168c2ea0efa2921eb993508a2f4647dc78d Mon Sep 17 00:00:00 2001
From: "Patrick Burroughs (Celti)" <celti@celti.name>
Date: Fri, 20 May 2016 00:32:31 -0700
Subject: [PATCH] fix icons

---
 Makefile | 30 ++++++++++++++++++++----------
 1 file changed, 20 insertions(+), 10 deletions(-)

diff --git a/Makefile b/Makefile
index d7fc3f6..2efb321 100644
--- a/Makefile
+++ b/Makefile
@@ -24,0 +25,2 @@
+# Image converter to use (rsvg-convert or lasem-render)
+SVG_CONVERT ?= rsvg-convert
@@ -26 +28 @@
-DEPS = rsvg-convert
+DEPS = $(SVG_CONVERT)
@@ -60 +62 @@ $(ICONS_DIR)/16.png: $(SOURCE_ICON_XS) | $(ICONS_DIR)
-	rsvg-convert -w 16 -h 16 $< -o $@
+	$(SVG_CONVERT) -z 1 $< -o $@
@@ -64 +66 @@ $(ICONS_DIR)/22.png : $(SOURCE_ICON_XS) | $(ICONS_DIR)
-	rsvg-convert -w 22 -h 22 $< -o $@
+	$(SVG_CONVERT) -z 1.375 $< -o $@
@@ -68 +70 @@ $(ICONS_DIR)/24.png : $(SOURCE_ICON_XS) | $(ICONS_DIR)
-	rsvg-convert -w 24 -h 24 $< -o $@
+	$(SVG_CONVERT) -z 1.5 $< -o $@
@@ -72 +74 @@ $(ICONS_DIR)/32.png : $(SOURCE_ICON_SM) | $(ICONS_DIR)
-	rsvg-convert -w 32 -h 32 $< -o $@
+	$(SVG_CONVERT) -z 1 $< -o $@
@@ -76 +78 @@ $(ICONS_DIR)/48.png : $(SOURCE_ICON_SM) | $(ICONS_DIR)
-	rsvg-convert -w 48 -h 48 $< -o $@
+	$(SVG_CONVERT) -z 1.5 $< -o $@
@@ -78,3 +80,11 @@ $(ICONS_DIR)/48.png : $(SOURCE_ICON_SM) | $(ICONS_DIR)
-# Generate icons 64 128 256
-$(ICONS_DIR)/%.png : $(SOURCE_ICON) | $(ICONS_DIR)
-	rsvg-convert -w $* -h $* $< -o $@
+# Generate icon 64
+$(ICONS_DIR)/64.png : $(SOURCE_ICON) | $(ICONS_DIR)
+	$(SVG_CONVERT) -z 0.125 $< -o $@
+
+# Generate icon 128
+$(ICONS_DIR)/128.png : $(SOURCE_ICON) | $(ICONS_DIR)
+	$(SVG_CONVERT) -z 0.25 $< -o $@
+
+# Generate icon 256
+$(ICONS_DIR)/256.png : $(SOURCE_ICON) | $(ICONS_DIR)
+	$(SVG_CONVERT) -z 0.5 $< -o $@
@@ -99 +109 @@ install: $(LICENSES) $(INSTALL_FILES) $(PNG_ICONS) $(SCALABLE_ICON)
-	ln -s -f -v -T ../../../../$(APP_ID)/$(SCALABLE_ICON) \
+	ln -s -f -v -T ../../../../nuvolaplayer3/web_apps/$(APP_ID)/$(SCALABLE_ICON) \
-- 
2.8.2

