diff -up src/xrdp-git/instfiles/pam.d/xrdp-sesman.orig src/xrdp-git/instfiles/pam.d/xrdp-sesman
--- src/xrdp-git/instfiles/pam.d/xrdp-sesman.orig	2015-07-13 18:05:56.000000000 -0600
+++ src/xrdp-git/instfiles/pam.d/xrdp-sesman	2015-07-13 18:06:11.000000000 -0600
@@ -1,5 +1,5 @@
 #%PAM-1.0
-@include common-auth
-@include common-account
-@include common-session
-@include common-password
+auth include system-auth
+account include system-auth
+password include system-auth
+session include system-auth
diff -up src/xrdp-git/instfiles/xrdp.service.orig src/xrdp-git/instfiles/xrdp.service
--- src/xrdp-git/instfiles/xrdp.service.orig	2015-07-13 18:04:27.000000000 -0600
+++ src/xrdp-git/instfiles/xrdp.service	2015-07-13 18:04:30.000000000 -0600
@@ -6,9 +6,9 @@ After=syslog.target network.target xrdp-
 [Service]
 Type=forking
 PIDFile=/var/run/xrdp.pid
-EnvironmentFile=/etc/sysconfig/xrdp
-ExecStart=/usr/sbin/xrdp $XRDP_OPTIONS
-ExecStop=/usr/sbin/xrdp $XRDP_OPTIONS --kill
+EnvironmentFile=/etc/xrdp/xrdp.ini
+ExecStart=/usr/bin/xrdp $XRDP_OPTIONS
+ExecStop=/usr/bin/xrdp $XRDP_OPTIONS --kill
 
 [Install]
 WantedBy=multi-user.target
diff -up src/xrdp-git/instfiles/xrdp-sesman.service.orig src/xrdp-git/instfiles/xrdp-sesman.service
--- src/xrdp-git/instfiles/xrdp-sesman.service.orig	2015-07-13 18:04:27.000000000 -0600
+++ src/xrdp-git/instfiles/xrdp-sesman.service	2015-07-13 18:04:30.000000000 -0600
@@ -6,9 +6,9 @@ StopWhenUnneeded=true
 [Service]
 Type=forking
 PIDFile=/var/run/xrdp-sesman.pid
-EnvironmentFile=/etc/sysconfig/xrdp
-ExecStart=/usr/sbin/xrdp-sesman $SESMAN_OPTIONS
-ExecStop=/usr/sbin/xrdp-sesman $SESMAN_OPTIONS --kill
+EnvironmentFile=/etc/xrdp/xrdp.ini
+ExecStart=/usr/bin/xrdp-sesman $SESMAN_OPTIONS
+ExecStop=/usr/bin/xrdp-sesman $SESMAN_OPTIONS --kill
 
 [Install]
 WantedBy=multi-user.target
diff -up src/xrdp-git/instfiles/xrdp.sh.orig src/xrdp-git/instfiles/xrdp.sh
--- src/xrdp-git/instfiles/xrdp.sh.orig	2015-07-13 18:04:27.000000000 -0600
+++ src/xrdp-git/instfiles/xrdp.sh	2015-07-13 18:04:30.000000000 -0600
@@ -17,7 +17,7 @@
 # Description: starts xrdp
 ### END INIT INFO
 
-SBINDIR=/usr/local/sbin
+SBINDIR=/usr/bin
 LOG=/dev/null
 CFGDIR=/etc/xrdp
 
diff -up src/xrdp-git/sesman/startwm.sh.orig src/xrdp-git/sesman/startwm.sh
--- src/xrdp-git/sesman/startwm.sh.orig	2015-07-13 18:09:26.000000000 -0600
+++ src/xrdp-git/sesman/startwm.sh	2015-07-13 18:09:45.000000000 -0600
@@ -8,6 +8,17 @@ wm_start()
     export LANG LANGUAGE
   fi
 
+  # arch user
+  if [ -r ~/.xinitrc ]; then
+    . ~/.xinitrc
+    exit 0
+  fi
+  # arch
+  if [ -r /etc/X11/xinit/xinitrc ]; then
+    . /etc/X11/xinit/xinitrc
+    exit 0
+  fi
+
   # debian
   if [ -r /etc/X11/Xsession ]; then
     . /etc/X11/Xsession
diff -up src/xrdp-git/xrdp/xrdp.ini.orig src/xrdp-git/xrdp/xrdp.ini
--- src/xrdp-git/xrdp/xrdp.ini.orig	2015-07-13 18:12:33.000000000 -0600
+++ src/xrdp-git/xrdp/xrdp.ini	2015-07-13 18:12:42.000000000 -0600
@@ -51,7 +51,7 @@ grey=dedede
 # require_credentials=yes
 
 # set a default entry for autorun if the client send login and pass directly
-autorun=xrdp1
+autorun=xrdp2
 
 bulk_compression=yes
 
@@ -139,6 +139,15 @@ tcutils=true
 # for debugging xrdp, add following line to section xrdp1
 # chansrvport=/tmp/.xrdp/xrdp_chansrv_socket_7210
 
+[xrdp0]
+name=sesman-Xvnc-delay
+lib=libvnc.so
+username=ask
+password=ask
+ip=127.0.0.1
+port=-1
+delay_ms=2000
+
 [xrdp1]
 name=sesman-X11rdp
 lib=libxup.so
