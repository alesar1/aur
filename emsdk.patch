diff --git a/emsdk.py b/emsdk.py
index 0b7a4a2..a17a531 100755
--- a/emsdk.py
+++ b/emsdk.py
@@ -167,6 +167,9 @@ def to_unix_path(p):
 def emsdk_path():
   return to_unix_path(os.path.dirname(os.path.realpath(__file__)))
 
+def usercache_path():
+  return to_unix_path(os.path.expanduser("~/.cache/qt5emsdk"))
+
 
 EMSDK_SET_ENV = ""
 if POWERSHELL:
@@ -1473,7 +1476,7 @@ JS_ENGINES = [NODE_JS]
     text_file.write(cfg)
 
   # Clear old emscripten content.
-  rmfile(os.path.join(emsdk_path(), ".emscripten_sanity"))
+  rmfile(os.path.join(usercache_path(), ".emscripten_sanity"))
 
   path_add = get_required_path(active_tools)
   if not WINDOWS:
@@ -2418,7 +2421,7 @@ def copy_pregenerated_cache(tools_to_activate):
   for tool in tools_to_activate:
     config = tool.activated_config()
     if 'EMSCRIPTEN_ROOT' in config:
-      em_cache_dir = os.path.join(config['EMSCRIPTEN_ROOT'], 'cache')
+      em_cache_dir = os.path.join(usercache_path(), 'cache')
       break
   else:
     debug_print('Not copying pregenerated libaries (no EMSCRIPTEN_ROOT found)')
@@ -2466,7 +2469,7 @@ def set_active_tools(tools_to_activate, permanently_activate):
     print('Setting the following tools as active:\n   ' + '\n   '.join(map(lambda x: str(x), tools)))
     print('')
 
-  generate_dot_emscripten(tools_to_activate)
+  #generate_dot_emscripten(tools_to_activate)
 
   copy_pregenerated_cache(tools_to_activate)
 
@@ -2603,7 +2606,7 @@ def construct_env(tools_to_activate):
     if 'EMSCRIPTEN_ROOT' in config:
       # For older emscripten versions that don't use this default we export
       # EM_CACHE.
-      em_cache_dir = os.path.join(config['EMSCRIPTEN_ROOT'], 'cache')
+      em_cache_dir = os.path.join(usercache_path(), 'cache')
       env_vars += [('EM_CACHE', em_cache_dir)]
     envs = tool.activated_environment()
     for env in envs:
