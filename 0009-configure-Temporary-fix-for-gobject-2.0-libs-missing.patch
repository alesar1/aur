From c5c8d75dd72b44076af00fa4f0dcfbdb5b9c9f2f Mon Sep 17 00:00:00 2001
From: "Miguel A. Vico" <mvicomoya@nvidia.com>
Date: Tue, 26 Mar 2019 15:44:26 -0700
Subject: [PATCH 9/9] configure: Temporary fix for gobject-2.0 libs missing in
 pango pkgconfig
X-NVConfidentiality: public

This fixes the following build error, until the pango pkgconfig is
restored to also include the corresponding flags to link against
gobject-2.0:

  /usr/bin/ld: clients/weston_editor-editor.o: undefined reference to symbol 'g_object_unref'
  /usr/bin/ld: /usr/lib/libgobject-2.0.so.0: error adding symbols: DSO missing from command line
  collect2: error: ld returned 1 exit status

Signed-off-by: Miguel A Vico Moya <mvicomoya@nvidia.com>
---
 configure.ac | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/configure.ac b/configure.ac
index b219d2e2..18cdfecb 100644
--- a/configure.ac
+++ b/configure.ac
@@ -462,7 +462,7 @@ if test x$enable_clients = xyes; then
 	  [AC_ERROR([cairo-egl not used because $CAIRO_EGL_PKG_ERRORS])])],
   [have_cairo_egl=no])
 
-  PKG_CHECK_MODULES(PANGO, [pangocairo pango glib-2.0 >= 2.36], [have_pango=yes], [have_pango=no])
+  PKG_CHECK_MODULES(PANGO, [pangocairo pango glib-2.0 >= 2.36 gobject-2.0 >= 2.36], [have_pango=yes], [have_pango=no])
 fi
 
 AC_ARG_ENABLE(resize-optimization,
-- 
2.18.0

