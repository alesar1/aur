--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -786,6 +786,11 @@ add_definitions(-DBOOST_ERROR_CODE_HEADER_ONLY
     -DBOOST_REGEX_NO_LIB
 )
 
+if (ENABLE_WEB_SERVICE)
+    find_package(httplib REQUIRED)
+    add_library(httplib ALIAS httplib::httplib)
+endif()
+
 enable_testing()
 add_subdirectory(externals)
 add_subdirectory(src)
--- a/externals/CMakeLists.txt
+++ b/externals/CMakeLists.txt
@@ -97,7 +97,7 @@ if (NOT libzip_FOUND)
     add_subdirectory(libzip EXCLUDE_FROM_ALL)
 endif()
 
-if (ENABLE_WEB_SERVICE)
+if (ENABLE_WEB_SERVICE AND NOT TARGET httplib)
     find_package(OpenSSL 1.1)
     if (OPENSSL_FOUND)
         set(OPENSSL_LIBRARIES OpenSSL::SSL OpenSSL::Crypto)
