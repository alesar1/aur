# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=72.0b11
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox-beta>=$pkgver")
source=()
sha256sums=('0d3b50b9c0c2d147faf1f266f1084eb12b16738747149ff9913b0ead696f0b12'
            '0f0b54f34437c3e51844eea4981a62f7e1055626c940771bcc4378bfd73f576d'
            'b69510f3aae03b82d1359ea9d47b41811e3aaa31e6183681b7aa41ee9b2fc573'
            'e8ffa92205a57e9e1a078b37b59a8a4188597caf585d4eb3bcd277e34d571559'
            '1d86ee280e43ccac5d92f29a6971c14d530d7b15be90f929293d5f9c1e223a77'
            '735bb29cfe7da6b689c71d145e404db60c0cabeb8628e242678d0334f150c2e8'
            'f6f4f7138b52e1e1df2d83089ee6f69f8758d848a1165a04d694488d671781f0'
            'aaa03364ade166bbbb788cb20a6b1bacd417543654f897411230a035aac1a69d'
            '6eae339a03f55327fb5f48217138bcabe2426af8709042291bb64c97e222d6ce'
            'c28b9c166669d0dde8254cdc5823eb5891d4616fa07e49d684cc4efa5de2d9c9'
            'f57c7312d88e9707e85814c87e7f243f071fa4cac94b7f34f6280bc53ce63163'
            'd4e8af5fcc7aa83525eb34d7999b27b1820a8ebf26509b00037851bda859b494'
            '9899c510964ad40eef39993998ab41fddcdd076a6245f328271055afec1a150a'
            '91504cfbb45b873a66bc9f41bc9c3eb7e51b45475c89f5eed1096dd0c1bcf821'
            'b58db7d2397094680853ef08a8bbb9028a650d18e4e064fd831ab171355ba159'
            '72d1b8070c5428a4ccfd134a88739677bb2dfd4253f7dccdaaf2e930fdc83a96'
            '7e1c72617f81b4b667c1b0199b2080a78bd7a811b8af4f9b51a37dfb2be7df39'
            'd2c2f7542001b5aebcaea31c07d8aee41a1c1efeec0700f5e7bd6b1cd241e6f6'
            'e5fb80cd37d5efff7c47bd6e3d9ad044d8c45ef8d3f2035281082e6880ab23ef'
            '469058e00e1b7e30946394c45d6605cf4288c2266a08ab488f1a2d89eeac07c5'
            'da2b471fa7d1aced08b71a749b752fded498fb6598ede3923289bfac1125774c'
            '02d3d2b1b905acecbdb7987907b4385ebea3c0ddf80de9c470cfbfb784c41c88'
            '1088846fd7b6bc6dfe17f66f29598a133cb67e949125ed7d209952c2a1b70d0a'
            'f4d1dcd7f8b72e65d57472f74a82d8f623d90a75a51c0f81316ad1bf1153e68b'
            '9678af796ee5c4a3a83372c8c7a3880eff5fda046e39d65775cacff803a9ebef'
            '5765b0567d8066bbf9494a46326f5460ec6ebd952e61564a21623ad810243bfb'
            'cab8d86ce1d7e615daf686d6ab99ca3b313bfd2a34fe1f485e6e80b9f30d6fe1'
            '0af07b7e4f431266de4fa0b801b2fdf1cb351398df69cadda62b4e2b14ef895a'
            'd144f59de510c7fddc28c2c414d71848b0ed08a7753e9dd4f66578147ffa94b5'
            '3ca8abb29557f1411b475dd3450f8c5aedbf8c889cc3bb6494c232d2e37a3d35'
            'de78772b182c826572057a42a5c68760dd9dd08de2db4cb735805db61327f82f'
            '7d7d5b3928717aeb548b12a01003fbfd692ee6606f3f8211bc541550789789a7'
            'f0be35cac0ee16872a4444292a7a90ac0357d3c45da695b9858f2dca4ebfee0f'
            '47a9e2bf6a31f8e22119bc1b0124efaee5b98cdd45d33b79e8389d8c8ef13a48'
            '1870047e498ecf51a535c648c29ff7a8036c81e60a196ae11101c0fcbef71847'
            '5dccfe073b15895eda243691f417b32a513cd30822dc1855ae5662c7631a5ad6'
            'fa7c7fc40852b622a843c6fe0bd7d025af48c3b24df9f477e1f08a5b81484223'
            'f771fde51e9229035b26bd4d1e26378839d49a18ab5f9d8ea0c9031c84170216'
            'b4e4f9e91b3e525b6880a68d1981df1306d28d9abf3eef27fd2f4202834c7017'
            '645b1eeae5418c553d4d4aff7aa3b33784f95618540df964bef9cb2da0556772'
            'a5235211c18c90df28d382da480b6b7aab8fc27462d4e776d36431b51efdb0b4'
            '6679f0bfb6222b985cda80500d3ec6827403a6e571f70a4687efa24b3ac55145'
            '697ff4f03b6cf8e3c8769fb2dc616a2dd41d130d688d28c73eef70ea3000ae95'
            'cecc5ad5279eb189fbc80480716ec3ce6463aa420c4be2f812457b4f851568d8'
            '5454676011d8c4e7b7a30f38c94205dd91e186fadae3e9b6f6a7cb5112dead26'
            '5501ef8f6b5fed487d92a57f2a2f5239b9eaba207e68b4ab8df8468f219adccf'
            'caac69221c14be0ab27060b2c1dfa5491013b83379ac251ee9a1b16d3dccc3de'
            '98966304137f4bf46c75e9f6f7399773aae1fb673adbd8961181717859c8cf31'
            '53274eff474657a3a15256b43c13fbbf4a1a967a2c326d1be29dee55d60f6818'
            'bacc04e3abf34a3fa08238a18625070789127b659d92bce5d418b1637895c720'
            '65761bb10ffc930e7dbce65c0fd1054135a76665e90704b1f5817efea5136547'
            '0d749e6c6bf3ddb67a715155f538cb02285cc1ecd43217baf1dd0eac28d844eb'
            '21a9baeff1e5b64804f7d189930d0967c7727686c794aaff35563d1f8ddb45a3'
            'b64a291d64afbfe49c0705b4d3ea0c32dd308ac431638550c7818d1956980443'
            '4b3c10da59a99db0aad319c9ef9f3c54a9da53e6dbc1f43d3024f3b69b5bf6df'
            'f292dd405de9b23dfb9e1e4728a0edc2e1d40b3b2a8e54203f5f18065a84a466'
            '5bd93fe2204f7964fbed2222d3039690f5d53815dd50569599d8e8d0346146e3'
            '5f26fa8a0e06759aea4861fc8282b30a583234bea6048a521df7a61b77f671ac'
            '996b2c4820096cb0a2d5cbea54d88a3f3aecfbbb0b5792f298dd6564b4637ac4'
            'bba59226b5cea49bb644e571803b81182eb2602abde6c49e53f785fed568d30e'
            'c834561ea34843405f8b073c3e8b5b57e101215f41aed9772a3e370caf39ff7b'
            '8d4cf0e9ff4dc38f1b6e1ac8a106f1993d5aaf4d5d7e3e95ade28702c45f2f7a'
            'd4e3e22cb10bb556b04925ddce3411db76669dfea9481280a47b95edd20be365'
            'a563b9db4bb306a6dd71e2bf4231a695f2939219006b554a595f07caf7c70790'
            '881bc05c8052f2c5ef1648482d5202aea4c78321efccc40043ea96ddcfa4f73d'
            '766d7c5726cb0a9ec99a9a3f8db052ac3b6db7397b8ac4a0e55c851fb8481512'
            '4415bcb007b302a1d470c381002df4009aa88b5043d913ac49702b58871e69e1'
            '9151be1beed7cee82e6747cb7794082704698e36679a6022f7ab39fdcd2ec92f'
            '11a47612ab1234284a6dd095dd5ae55456ceebdb683d0b05c15d97fa58decaae'
            'e488fea634ec17e74a0586d73711876ec8d9f47dea7a6c455472b0540482ae0f'
            '080ea6572a0a9f2d5e3ca80c839d1e1a09db211f5b9940a7d3b15326d11cc5a2'
            'a8d882a21262224736aaed8d13d3a0bcd0149683c9a3ad16b248012ceeca10c6'
            '81e32e74621eeaf3b558c6c443b785030197e522dc8d5be05f92b0ff1541c304'
            '4767014cb71b2f6d1361df30d8704a9be487dc2bd1771f97bcc7979a7726f51c'
            '5b3be9a36e2400da187ca78361962c0dd4e6b6015d42b6dec333d12f6fffa1b6'
            '8007c1e70d7c06fa0153e6ed5106b5aa88effaa49baf2581ac1f71a4911b4968'
            '1e94b666f7b3aa9f3b977caa29473e08e82f93dd03328fb5c94ba340e2d4dd75'
            '000fdb8366f6cfc0dd433370a8210c888fe7601ad2d579d60bf4ec483be6c7ea'
            '1aa767a0242007a39360b64187f86c7402772ec02c95c9a3d7326ed5dea6e25b'
            'aa9ba0557230c3c9b2b36c8e2e8d016a9b9879df44b8847bc0a700308e94a00a'
            '298d10cd1a4743a12d335a53c2cb17440159e976349d83be30b888e637f5b026'
            'dcc7e1e52439a17f8fde861ebfbe91be7e93a188dd83f5328ccda35ed66ee7ed'
            '171bc0bcc10b1df25d1e867423bd46c4ea765ac14578803c7f070216994ef5b3'
            '2e4d92adc2d30fc0703c977c25f8bb5f64d61679b762390d1b5aca051e977709'
            '306fc24c8d31a4a83fd440771f5abc437c47dd9a3c7d58e2548f9caa2809f810'
            '1ecfc09f9b327e5873c65d76e5ce70e9b94ece4fda4c7169cf4a2f2cf695d2b8'
            '3f48291c45fc7e4fec14027927d256952ed933ec029917cce049af8d29943f85'
            'b6d00777edc7dba38db65fd8de95d923db52d274ac7d51870fa63d2eba44f9a4')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
