# Generated by debtap
# Maintainer: elmo-space
# Contributor: elmo-space
pkgname=stride-desktop
pkgver=1.22.76
pkgrel=1
pkgdesc="Stride is a cloud-based team business communication and collaboration tool - Desktop client"
arch=('x86_64')
url="www.stride.com"
license=('GPL')
depends=('alsa-lib' 'atk' 'cairo' 'dbus' 'desktop-file-utils' 'electron' 'expat' 'fontconfig' 'freetype2' 'gconf' 'gdk-pixbuf2' 'glib2' 'gtk2' 'gvfs' 'hicolor-icon-theme' 'libappindicator-gtk2' 'libcups' 'libnotify' 'libx11' 'libxcb' 'libxcomposite' 'libxcursor' 'libxdamage' 'libxext' 'libxfixes' 'libxi' 'libxrandr' 'libxrender' 'libxss' 'libxtst' 'nspr' 'nss' 'pango' 'xdg-utils')
optdepends=('kde-cli-tools'
            'kdebase-runtime'
            'opera'
            'trash-cli'
            'gnome-keyring'
            'libgnome-keyring'
            'lsb-release'
            'pulseaudio')
source=("https://packages.atlassian.com/stride-apt-client/pool/stride_${pkgver}_amd64.deb")
sha256sums=('82cde945eb16412b030c595bae22b738d5e8fbd50c93a7d1f626427be1f676ea')

package(){
    # Extract package data
    tar xf data.tar.xz -C "${pkgdir}"

    # Move license
    install -dm755 "${pkgdir}/usr/share/licenses/${pkgname}"
    mv "${pkgdir}/usr/share/doc/stride/copyright" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
    ln -s "/usr/share/licenses/${pkgname}/LICENSE" "${pkgdir}/usr/lib/stride/LICENSE"

    # Remove all unnecessary stuff
    rm -rf "${pkgdir}/usr/share/doc"
    rm -rf "${pkgdir}/usr/share/lintian"
}
