# Automatically generated by pip2arch on 2020-07-02
# Maintainer: Joakim Repomaa <aur@j.repomaa.com>

pkgname=python-yalafi
pkgver=1.1.7
pkgrel=1
pkgdesc="Yet another LaTeX filter"
url="https://github.com/matze-dd/YaLafi"
depends=('python3' 'languagetool')
makedepends=('python-setuptools')
license=('GPL3')
arch=('any')
source=(
    'https://files.pythonhosted.org/packages/0f/57/57827ab252b49616253bb007e823b810005a9a4873b8c0ff0f70ef1954d7/yalafi-1.1.2.tar.gz'
    'ltdirectory.patch'
    'ltserver_local_cmd.patch'
)
sha512sums=('a7c0ffcdc918eb2c60339cbb7fc3ae4339966e0fde11d86ce75479433a1dde1cdc8ca6dca8cb904a884d2f2a60a72e302e5a4ff0226d20a2b52c2f0f5a3484f2'
            '325c907378215d8dc617810fc2f5ebc53f5c77c2a061287d22dc2b36715d24a4037ce83ae6b7a57fb74b5ff1b5c945da848cb82d7569385600de95bb6bef8318'
            '4fddb5052391d2e8b612ac83640a1e8bcedccf8ed7c4477e68863d13c69da49342924bc0435565002161beaed09d22ca06d87c46354096e8bb2a08e746597790')

prepare() {
    cd "$srcdir/yalafi-1.1.2"
    patch -p1 < "$srcdir/ltdirectory.patch"
    patch -p1 < "$srcdir/ltserver_local_cmd.patch"
}

build() {
    cd "$srcdir/yalafi-1.1.2"
    python setup.py build
}

package() {
    cd "$srcdir/yalafi-1.1.2"
    python setup.py install --root="$pkgdir" --optimize=1 
}
