# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=72.0b8
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox-beta>=$pkgver")
source=()
sha256sums=('135ebedbb89b3ee26d6a3e14f80eb095a8d6ead11b962ef07fe718618b03d7ff'
            '9d38d049cad2dd7fb3ad32be20f42e3d9dd1eb8b81b7d1161bc07fd338f5c1f0'
            '04e78ca7d9ec3d18c50af8a431bfb41945c66f2e7410ca64f0782d5dfb0543a0'
            '912e6846993d1f0cbcef3c6e2c5c29287b5c9f385a8f3d2dc2b115f67d014b2e'
            'a622fa518519977ccd97bd6c3dac42a04beeab1e9078df1c00d3eff7dd944d16'
            'e1408580432f4c835bd9886bba52cda78e4ccdabc9cd5662a54ae1fe2f46e034'
            '52d4a0cf63cb203080cbbc501861e64173de1f174c2a4825d0158c3451ddd9b1'
            'f1a7afcc920c7f95946708dde9e28e0e85993e7d5af356a6cd46a8b007b6adcb'
            'f4f6312021ee833471fe458ce687eb960a4d4814e42a8709f511a358bbfccd6a'
            '5f0581da255e8be563548c18e3d6842f2bebe6115ece990d986d24661dce467f'
            '0b6482aeccbad51f0e78a3b893e1e491a7e4fa3d5d6c7790a79485e7e3fac649'
            '39c42d26fa0dfb306b0c93fd55bf86424bdce8bb00ca4ab2c9f77a90c39995d8'
            '5ecfb46487284109e90879022d81ceea22635744cb1562e66910a30cf1218442'
            '2b4fa37cf619515d21cd82a528c334846a04b96f1292b0c714c89d88898700b4'
            'd942af1c19bb38ff2ba068d9147cc58194361daea9ee036d94bc930497f26da6'
            'f2403edb521cc7bc21795b246bcf0e112d329d9db71cdb8dc5d0ef70bc712ed3'
            '93d223cbe6bf50392b61cd6f090d309e57855e6199c07393fe8eba5c3a2546c9'
            '8586cbea575f37a7bc9f98d0afe1b3e056dc029fe789c6937f681c7914ae1a1d'
            'ccf74d829719f8c8ae32e7384fa3b817a9d8bd152159805fe7e7594b3c05b7f8'
            '235a031defef049c0591b614ab05c8b8149a690a9593ef786ca4cf6ef94d6e05'
            'edb9153aa7cf0c69bb0ec9693296c2dc21e3119d9897b367c4983731c40af577'
            'ce8bd566264b75ca4535ebc8bf081bad05beef753eafbe1f55646e01acf56332'
            'e5a542ce3dacd7dadb43bfd82179e22610c4a3a39cc235d878989929d707c8bd'
            'ec3e4d69739eb1c89571edf92869819c3c566b9b466f97949ddc2f1b1b02ccf3'
            '723b58afb377dc2957c65969acc2221b2aa617de44b114bee964e898cd4c6b2c'
            '24cae09791393f3d9ce6517b5be3f85f89a46e24ed1bb87963a0db33e718bcdd'
            '32dc7c3de9ea5ba9689d6a98962134e3f7a0abc573951778109dd952bf7137a2'
            'd07d7987567fb18290ea5bf2d6984e0dce8df6551347c9fe09db355b1989095e'
            '95ab78d754a6ceadd415fde46009a17135771621ff8facf8a94382ca6cb50081'
            '43c9e166ffe238bb32b5c41ec173c71fb93fa67abe86f80c17bf459682dcb0fb'
            'a4bb4efd38682231389db321103e3bdc4d7e4733d913b43074048a0a9488f5c3'
            '37eab82cf2b149e5977a26ae3153aa4ac5548a2f231afa8bd0f60443352ebe08'
            '321c9199593f17473f8921f432cd9e9620cc28741c11d4dfbad07e824d857ff9'
            'f1a714630b000d27026300f86c3d5506798023ec23489d3fc541d77c6bdea80a'
            '557d2710950f0cfe03cd5cd004fcd04bc689f2db5eb7627aa98fa00671b795d2'
            'a999c26b39851be77dbdde68c47fc61fcc34bea593cd1582e86f18800a315e0f'
            '3450cf078807afbe8ee89ebe3302baec09766b6849757accddcdb6467b9c4cf3'
            '836bd1abbe9236fae765170c725eb24697e0164763886ab051e0e2465b0c7c0e'
            'eb621688ddff58d824557c5e434a3f8c71d7b44c23237663a5a2da2d026153c4'
            '1814ad796b2b342e2eb7fab36e73b9bd79e24e7c068aa0d6a01e3c7449754c18'
            '14ccdfdcc3f094d83b8ff15e5b6fb57e14b3474447bbecbe04006b711118539e'
            '83acd052df3e26f38f8f45359cff45e3a49aa14da4f708d7abe1e884bb23a2d6'
            '682e40e1e5b614c047f9961548260a7eba24ec2d924d4c53bc87217268eee1db'
            'c356b91c273ca6650bfa2b2b38b3117b6456f79ec6e2e68408ed6ba33cbe43ce'
            '563f357d9c6d496e404e3db923f5d79d307be2340bb4930a2b2ad768bdb8890c'
            'bb7935e4787e4332c6f1beb8c279a4e69954f3dad3e3ed853e002e9cdc8f75f2'
            'c4314817f1f2dd8066ed700e99b7706e67383f94e291260a5391f9a7b9679904'
            '9b772248e7518aa4133aa87ef5c34c2dc5c117ec2dcb497423ad4fe30742d408'
            '38bbcb58a18b641c28e9e1e327820e0def6437df342db716fabfd41844ffe9f9'
            '600fec4ae36a736a9998646be14a4b0f6a90c0982668a18a72b714d02b3423b1'
            'fc53aebc3a9fd903603fb53d1e2b8d492f93857557395aa1cadfae1054a6ef6b'
            'd4cab10e88944f805d1765e4c0df28692a6c0b2ada2c8e8bde7426d390944d7d'
            '1d8a9fb5632f9fb65d634d38cef9167793838aa57ed8a7f5e4d0b21dd429f8e7'
            '83fa5e664785bda74123ba434503de41c9b3d3a6a41190f7d12af76b35459472'
            '890b482ba531f3a9eaf2dc6d890be600b4c85f02f4d15faf498f845833705669'
            'f33a183084ab661712dadfc5060e198c55073b9acc860cb81e5622e08ccb831f'
            'ec94cdcbc911fa2ff38ad60084ba00fe5bd0a09d02397a9417488f7300cf0ba5'
            'f7809fabcee275dbf53253b39656abfd1381ffa1960c29ef0ee04f8b10139fb8'
            'bafc6ccd2faf4b3a68523822ecddc39205fafe501920e18d03c94f8b47f7077a'
            '32b1a6d1ee77c82ceed67d5b461e5366f1809d991ef947f08136ec2194cb2100'
            'dd7467240eca801e6496714bc776f2e912d40150592a6057b5dc10516aa34b1d'
            '8266269a4312aca558a6f83c7fea57b982fb40bf3c2609cca2de2c1ac7013a97'
            '459e5359eb4ad31dc4ff757381686e32c3f87e862fbb2ddfd564955a6f48e4b7'
            'a682230e92e19af73ccfd61a85b5023a63a2ff73d658b449867dfc6ffc628298'
            '375cdaa8315ecfcee08575ffcd7c1bea58017fa8be48cdf0ab1fa40cc1a009c1'
            '2996719eaa730a526636d31da8859d801e047c8ba98be7e02f2e62bd04b79322'
            'ac2bab41174188416266d02319e939198f5b385c628df931469fc1da7382d999'
            '6d813a89abccd7220763b29660cf32b825f9731682b416ee3c6e6bbdf328b65b'
            '89a6ad857b64a5b1dbfa74c2ceaf90047f720caff108081c72a7187880a208a0'
            'bc1345f8076fc7b6f205b7b74687b562f78451b418ab558acec3b01e5968031e'
            '406dbc6da30cfe662daaf246fc673a2f8edcacb834720f502dd353abe4721ab8'
            '978a20d24985be0dedb6498deb20b7239a64c4078b4224d6cc1f08a38e15f7a3'
            'ec6340722a119210e6927ca29b8d97a15bd6b9d6b228f2e53953d2a025a4fe7d'
            '83419c58852ca08b60f1c48562ed1fe00613e62969ddee4f7766da7a2997f5e6'
            '3b4b9f615abfab2739bb54ebb1f775e6cdb15083bbbc4dd1693397b19ef0d9c7'
            '5e2af09b3614b1271a36c232ce4f7c9c8f90b5b3c35c1e2d87f7568e6a3b0afb'
            '1be5c229a37d505adb474182270bb7049ecf3bbffb06ba99a2662a833c57caee'
            '7695d082511cd73a6cfb45b4bee86bfa349b4dda7786162a4e010b45a3bff2de'
            'db9af9826f7cabc4761f00263c2c62f21918382b8a53770542b2c2893f5966c2'
            'fa1c0fa835a9bfef64c777e3388900784a53bfbcc07d24139ccf730a55d68dfb'
            '5a003cf19f157d6479767ba14b76d99d0be62f319c6f01c988d56e884f9d7a62'
            '426745a260e3116657132bb1308b73ffbde1ec7796a17fd042df8ff5ea63c9f3'
            '38fe1593036b87ec2bd538771e7ddef937ad640d04459c7ebc2d8d0f3274a74e'
            '6f52b9a31aa588835bef9aaa6ffae434683fa4747619d62b820260f917f45711'
            '34bfb3d0efe12f74de4993c128c1e68950e8839becdb1080f59a835193bfabd2'
            '51328b5df3be670796e7e96a91c2a5e095ac795a3ba6b7ec4469f1a1b579808e'
            '75449e5f179a78f4233c61da6d89bd7c1a549208df9dda6fd0f32712808b1b59'
            'ee713c90b97ff3a706afc75733de899bff0d6b708a24ab0942f70b91b5ca0aea')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
