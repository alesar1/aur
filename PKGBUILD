# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=71.0b10
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('c22829c78ca7ada4e8a4eecc6ddcc3165136f55bb5fcd57ffb3beec135b76f5c'
            '8003b2a7aaa7ecdb02e230690aebb6c0b770fbbd638e2b457c6cf881ed2f20c2'
            '831459826d86cbefbf614099c6e6d5348102bd9d05b799090974962b1cb06a65'
            'fcb5b92f0805dcb9fe58b7d3eb8b4d95dd49af878677ad2791a23207abe90f1b'
            '5c0f5b261a2298f5f75e9601da3ad89423234d1a5bb1264796c80375423aacb6'
            '5485790f7cfa3087592397f8844316448626b4bc6ba2773f4af7ed4f56ab6f60'
            '7f601786de1742151984cbfbc894f4f5c0452530076bfa4765beba8839181683'
            '603f26bd608c683f90a114a4c272396f23a2586d8518b001d6afb68dd1a07f15'
            '22761a4abc0c08befee5487268017863714fdca4386d290f3210f0aa5632e2ca'
            'c5b4157299a66b839bf1a71e686190e1cc8a9742b8d859ba4ca16ed9b8fe9f2e'
            '9a467c02b34ee70ca39b235afd030874d14acb250738b1b7dac0130136799513'
            '565ebd5ebc86ebd9ba9d8d805ca63c0f8b601212c3b3effc977bc63bd332fd05'
            '9f9ee3e4812c9a056c446ec6350e974f7d0ae88978b5f6db827c78d1fc95fdc1'
            '9dfc00c38fe104e51dd8ec23b3f0244902811e7f190605548ed33b292a1d6784'
            'a54ec2879f18ef32782823cc073ceedd590da243387838fb9c77834029e4d9c3'
            'cf0190d859509d9851113b6ec1d3308704b029215826b6881474727a15e0a3f6'
            '64f51283ccc4ab714f05460cdf506d742e59bcbc834956a5ea417f53b14fd67c'
            '7c1a9abbdad94a836c71a12b1d8bbeb5d24ef1e9e92dbfb59d559037785ee92a'
            '778626294a01d7f81d3353a077864fe732d710dd22896aae5e6cd21e11d03180'
            '82dbac2a48ad7d63b3676e8599fda9e9949dad2e6ec0a3971ea276112b205ff7'
            'f792d4602d69b64ea90839b6a575f5c685e8f28ea392a5c8acede4fa56d1bfba'
            '0927fad33e1be910c52aa9a6bb91cff9f1764a9b3b717380b8c7a421714de58e'
            '31bca80622cab3290047d8cb4f7715c04beb743994ae35f041bd67f424e81be8'
            '31354c4ff5ae1f7fd5df429584f40e5c164f84ea365e9548d4fd0a939d88e99c'
            'f2a5eb9f726e8c76f3f755d1749f6f57b1bfb2b566480d3e8c2e94b8c20a873f'
            '81ec6e5d86bdda9fefecb38e965ed56281b896c5b08b3f72cd1a95cca2e3ad90'
            '9765befba531f460f1504027a3e9801f0b555bf7a647e47e3ef81cc73799f28a'
            'b3da6193d0c579e14e4d03a847820aec9ae9257bca29113c0fc422fe243074e4'
            '9e08c27c4c787dc7ea8b44422b4a25dbf82a0a9cb21b220a6ceef0510fc65bc1'
            'a2bcbd9794667665de8f08a48f67396d9ad36f7a9898e002a76517aaff1c65ef'
            'caeb52d48d1da6c3932ebf1720b88771576023419963f19269ff07d6136177f3'
            '9c7ab803d58253f565029710f9c72861c4f39e688695155951078da6d10b443f'
            'e77acaf01b54c8381257f24aeed812a4a146a2df4c02dd7696c27b1751c002be'
            '617640595ebaaf7e525705b789a2f86cfe84629a1ddb29244b333f9dfc7eda60'
            '329a1333e481e23bc778fd03a67206364b002e443573ab3bbd4b681d0af83c63'
            '25839757fdc4d9eacb4d08a8b093ae54edef165a875a3e0fe422732f9147b085'
            'd39ee4fac3f898a452e36fe4bbecdf8e27176e4a28f09073ca773e66ce9fcc35'
            '8769d832cb60238f3aa87d473ac508d4253bb39d8ac4b978ac370f0c9f03be19'
            '69ca7526e024aea39a0b639b21b5fa60b61e732f2a7640c7a381deab2e5328a8'
            '0d17bcae819465d528992cf4f7b467f15ddff9d8c6d3e3989d594f0e534a49ce'
            '1d4347f8fda98ca1a61c8371fbde879e6a94a1e8562ad39ccb879f5fba827a08'
            'daba19bef81a9833ff02efb488872be7ffab2b795fa4080a7f74a2b80af0ee60'
            '5af9ab9387387be9f9b93c1cd0235942b605eeabc03425dc3b70ca86c4b5b332'
            '367046860618fc1dbf7e7beb15f48e3e5d74bdc50fcdb5e0ba4a8c9b32288dd5'
            '7847286326056fd5402d9776e7a89b6db7829ead893241b680a505983b71e468'
            'f55ab780ae65341a36a95043cdef8bd949bff341d8fe716c2648fc515b61f154'
            '058c851ba5d56aa47b47c1344346d09154335fefc196e824136ca584c1453221'
            '856c545f386db4f2c8e80746954fcb5dcd4a0256ddea914d589c2ee52fa5d352'
            '487aa01f230b63151f7ba3a6bedde99faa7fb2bb7fd0be42d1cb315b68dd5f24'
            'cfd077142a8b453f3c76e5ce982d8e63d3997e580fd54069eb448b8a36bbd4db'
            '7dc9198561b38781b56ecf747db977f1486626ccfb3b4c31a293fad29255f752'
            'b55cd205c1d4e82c8647cf1a2cdde08ecfee2e0bcd1469d2abc59964bf0397d6'
            '235a21c4ec052edf17b18b51475502cc1baa48f19bbe346139c11539e3ffd036'
            '61ebedc272a9084b9a9c100c5e8a7fb932b258769dc3a39a9c0d2e40daba7121'
            '628bc61c8aa8ef95bc6a7306fd79588f29a35103a358f326153761a6cd7702b1'
            'c6ba28b59edcb715e4260cfdc084e812b061879d68c1f53e30b3873bf16b387c'
            'b9c5c2fff1818aebb5752424d61ab06369fdd30a7585146dd5a34ca32475f4da'
            '839022c0318d9877a66d4811f67a6981b2a27551e206d3a46f18342213df3581'
            'a8a6420f16402f902e82596647bf07ab52b05914c45111d4e7782b6be7aae94d'
            'a50f9c721809ba98bccc3c002911b0af38d188ae77e3dec4ca1befba890732c3'
            '2ea34cd9dfb68fbb1c3df416e8fde19675c0d58771a9ead10a20ba2a7ac64539'
            '8a2b42cd499b6f26aa0630eacab5d2b013e54b966954ae91785350c035eae467'
            'bc3326294f456782aae53faaf26611d204feab46bb07c70fddd64bf4858d2078'
            '4e681b69905aacb2584420f29bf05ffe9b813f555d858b821ee9d4394bcd22dd'
            'bc40a00019518bdb81e1d487de54bbcd1afe111cedd712f4d1a165c14a3e7ff0'
            'b191e365dd4640c95d0eb3937a13646906c951198f50b3a187a916ce56c15e39'
            '0f3d833c49df59ac679e7ab189c45bf2043fbab6ab6e8c377754261b1cf2cdaf'
            '3f6ed4f631bba4f0bb42fd6e62a93859a6ad3587816ad0265ec52986c35cc63b'
            'f4bb4707ad8f9fef7f301e035b44bcbeeddef0840da58a47ef505fb6db1cc6fc'
            'e556c0b845201a13af25ead40938e1add7d53bdc51cf451e9d0d85aa74101f13'
            'ebc4eca9d2a9d98fd4aeb5a150d8c7efe5c7c9a54692189a6f258dac9ad8f258'
            '71a7772962e9d705ebedc00b8865c4db6724e63307ab907c00d7d245a11ac6fd'
            '0590f9b002df19261ecc5cc45e1bf23845f2d836d3e31f7c8cd03b16984b031c'
            'b68b1abd9443a0ed243871ce8210ea4908bcfea6e14f415c587b6fbdc08c40e0'
            '233f12886e06c0a0fc1eb6237ed8464e1ec9f1a1e6b730c8dcd7f3c0f9343945'
            '85c66ca21bd5dbf63750e64905e076c8931ee6ced90130d5a2eec2b2511fa987'
            'a647591695d686431ba7c48066776dd1a644f8e4e6d59c11df3d9abd723d868e'
            'c2591fa4a9b9bbc366d01e6ffe52653b1cbe5eb2260d383f07c62cf9dc21e4aa'
            'd5019fa73421ff46ade298f8d3c1b2516772d6b429209f9fc013a5ad876a3deb'
            'c678c2312309d9d2aeea64e4927bc80778b1fa89ef5e6e1cb4a5c3a49a80e497'
            '86c9a403fa60808567066512e628ed951604c1505e95746705ce3a794cf1baa9'
            '9da30a5459bc4449bbd06a0f31d377707c4ffef1f46ae208e91e5447207b8532'
            'fb595cb0cfd3514dbf0949ee1eac743066198551de07dbea503b88afd32774be'
            'dbf90b66ed6e5130ba1d6af643a0b78b4765fe581a96dc399ad0bf331266054b'
            'd0b270a6da5540ddd8b41b159b726a1c56ca9ed4c6513ee1ca45b1be12a5ce81'
            'a60f37700837e136f4d07968bc554e7ada184a1af3986df86b054c55595d4f74'
            'cc7f2ce6fb5a377fab78b95f2221bee3664e5bd054db3ef7890f3ea9363d0b83'
            '5881b5b3c4e1203d3e3dba0a920dc9ca3124d5c6b5e34f769d0c5ca3ed2d5016')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
