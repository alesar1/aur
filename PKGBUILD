# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=70.0b9
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('b75fa184bdcd18c04a75ebf09832c389a92e05b094be1d49c35a583ed26f4d3c'
            'cdacc7c63ee44d99a69fdf237018b608dd3670cbbc3df6147fc6aefbaa8610c2'
            'a6b58513694c2a7e9228f54b195441212dedd92c9fe1b031f5a3e814dba6d822'
            '4ec8f97cbecd8fea188e6e46b7674489f4f24c95ce505ad6e3c607e539ec2fc5'
            'b8eaa5e3e2be1cf1c2ec6c5a43ccbd59ae3da50fdf33f206ba255ea43ecf004d'
            '6a420bee2cca8b8bd1d961097c707f41d815baa32928982c49ddb298dc569960'
            '2ba7816083cea5a3b726f52a6500ab4813db1ad3b0f85d1a548a531c03653fb3'
            '6de843179d07d4b8b975e2c6ab3216e17adacc375149ad5b14f8690e268d476a'
            '7b7295fc4dcbfcd0238a1c155cc098349f2a87be3161290154d2b92ffbf55a57'
            '46f2129188b9dc4ccb8d88aea66ee77da7d9483d6300c1071d380ab72f09bb78'
            '1a77a58d8a50a875fc5f49ce8b666cb4352f37bfb879276fbced8348fb2cf588'
            'b1ba57868938566b0accd0eb6134940b5ba9b32d370eb6afc1b14f9416c85c20'
            'f2c5e29c9f0fff045dfb51f24f4acdcabc0039d0d128e5623b9405bfa0729307'
            'bb623bdedd398e2a0a19e1893a028f21684bdc9cf43d59ad12ebde7412ed1bae'
            '91f902930a0d7abc82ed18ca946d04f93235b5a009e9fa287e996a37309e97ca'
            '7d8e55fe007c87442e51b450fbb1c124f837ed456afef5a0e754a96ddd137634'
            'dabd899e66129b304454db14802c67889310b7de100d25f78db640baf4bff505'
            '803316995351427265d33724720fdf70242e88778cc8be7338535fb2490b0d44'
            '4e7be95791081b811c9f00d8ee1df49947cd5030f0ccdba5fda066124d152cbb'
            'f2ce127bd542c7860651e2e44259771c35dac184d7fad20f099908657d893dc0'
            'f1c545d1688ff5ab57571955a2d7b4bb6e9900e1641ea1bea12c1041909bdc52'
            '2ea7db58c7c30aa61b76cd6c5d14c54624a59d50f903a6a55d9ccdbf24ccba55'
            '603edce61f7415190ad639f21cc8e13a3f2387a1dc6406483664ea0a15d82bba'
            'b0041cb206d7ae27e404af4ad7c4632d400a6307e3cab69e59ff54e86068bb62'
            '810e964f642c101f45fe971c2c12fdc28c27591a9769137877fc337562ecd11f'
            'b21733882dc92dd13910f6eb17791c20dea33d2f67ae7a91186a2a3b611591ae'
            '63592d636e2301202905d5fdbb1fe503ad970c9eca3671b07227fe7df4136341'
            '346f828a3f573c2dc87dbe73b2bb6e62480b9f77c55c9991406bf20b247366d0'
            '89720dd89bea5a175f4a69386a697571523137e08e7033eefee9f8927349ce40'
            '9bd00ee999b746d9e2a28bbea08b1c1df1e2a8703c8d2af477c86bdabcfaae21'
            '759bdc9d9dc72154924c8b2d6815eded1a5f42a5e1d7c3a096eef65cfc1f92b6'
            '9dcf43638dc8167e04be140c575a8f23a119f586e45c71e37cd5b51096a232b2'
            'fd87a0ffea7b7ccbf5204aa3de25428610a9be21aa8bd2f057c5cf7a3778dc5a'
            '15e80ecb60a58ba140be37eefc0102b2a659fe52d8feae0096d4e27a11f2b0e2'
            '92762bade419f6634844f1fa0f80b47de4cb9cb1880c517a94e098fea204fff0'
            '742b78b24d5089778dd11c88e71912f867a371342fcb1e943f859cd09d712b5a'
            'c173d32c3cb88c0f3614cd1d2be010fde51d77a86b555ba600d786a21dfade89'
            '15024bd27ec93d91c0d11fa4f694cb55d6d7a518cc8301661320bc257ff1d9f0'
            'be4eb6052f3fc9849b06e1e7986aaae569286e65ad1b4460e39394a146b5fdab'
            '60033eeed700466e14dad3b94e5dbd8c24a2b0fd8327c613354a6ccf44ac6f2c'
            '8e1208c8494ee14438fddae37e041ebe06f46cd5df075bebdeacb845f14f4141'
            '2f63231046f58dab3051aed0de454d75a2d6882fb0206ff78689379b1746e9fe'
            'a7866bd2a003aef2d04a376798d76ccff645a40afbe0f6995dcd3d01a267602e'
            '403ce2eb8e8080d8e94100da733243a6856ea8125c71ac03c4e862fe5bf73e76'
            'a696d2a1749057c3021f37d3bb0c62c13ed06af7590bf7eae6c209e402aeb282'
            '2786ab5f802bb32369759b1e0c170d786b3447b23ec9aa46cce1a6c467e48790'
            'a83a56d871d0e9e077ac0b47fd2867a6155d0f97441c39e62a68b773e27c780a'
            'b8c5e573d6eec2677fadb63aa453a9cb73038b7dc77b7d5084d8f5521746e356'
            '123ccc1d4db7178f014f1704c28df3ae9ae5aae718048164a297b69c9cca2945'
            '9c153e84ad554678a4c80bcf17ca0329704ad3eba23d2dc6fb0f729650d6c2f7'
            '29e828e7cc66cc69088240acbd9c0f700ddef88d3fdd2c87e431888887aa4a42'
            '6da3609ad4e2ffc9061f71f71a36514ba37b730a33c1936b8a86db0d1b881634'
            '5b337e19ff9d1c64bf0ec3df9fac11e709c2e69a20b0a6c341b351f3abdfde3f'
            '66ae0b6382fa46a062d1acf9438aa39e3fecfb5207dcab16b7c6b6a60283c1ca'
            'f89524ee8ad893f25e82f146a5ea8a8e659a9194b711a714c1662dd94abced8e'
            'e71b229e1b1f1e74495b2bb1797d0a03827ad9a837d01996286b685157729c86'
            'c400115327a2b39ddf895254a6e3d9e5787702d82dad86adb8c821829c00ddaa'
            '2b3889ce71ea6932bb85603fa27f19db7a46f74d879b7549d301fcf0f2396eeb'
            'c7c1c8e64fb81f0739c97e91d31b56c348ce316d62ecef89dc8f55923316278f'
            '138fd4814191abb2133430c466dd8c0aeb19691d7b41bb5e76baf183d0c7ad5f'
            'ad072327cb518381dcb823038f72b4ed7075dcbcc8f67b4977214a2aabb2e30d'
            '9251786d69edb4d65ec02e8ba5dfdf87484f5612f9dd89e4f1b3384ed45ebafc'
            'c0fe14a5ed2eef8a2403943457f19538395f4fa10f986578ae3e93867271ac8b'
            '0ea80567ef1d5267b86e99034182bd9d435044e2279ea560088833147c3f75c3'
            '8b92710f8b9d6b3ce60092c623d3fc60e1ff2dd0f827a2a2a78f421bf7042c1c'
            '4461659f23fb5506234c5e4557ae5bf45056b9a22809bfe8484bea1b55dbd496'
            'd7e947c660882ff3bd6ef739080bd6fccec7996f0d6833c44c9a1cf5948a2438'
            '30c274bc5a1f075790a80ee0b03bbf584ada0e5946f13315b5461518e6a03801'
            '816577facae5bdaba00b754f19abbd1fc447afa02a72f991c5390760daf65e71'
            '155489b8b974037de6a5a11e44fa1edecb1ddb5bc65f082d7774fffd5d955cff'
            '159a8b0bd7ae2c97217a1099d101281abf0ca8400589c19a533bde879cf9f324'
            'db4bf721bbfb8bec83f478b0da51be4c3e0b8bd0815c2c9177212ecd5f3c71db'
            '35beeb4f8c237dcf83e0d5287aa79476e46209053b2a795775e7838680e44e08'
            'b7d5cdec462473b09fd92d7891731cf3f38c7116a1d3c1c5504738cfd56aff76'
            '317c1b3aafead9d221bede28321ab40ef694bd6fbd0b2bc407551a8c3b8ff685'
            '4c3544cff7aabe34d8cb619c84153f3261d900b8e411a94238d15232a6c1fbd2'
            '5076333e0cc5711f01e8def9fa6cbacb4aa5d206a163807bab8f792a89e33494'
            '5d4b1940578d18270c0bf4a70a9b8fb58743806b6d1e51250c8efdc9062dd18b'
            'aabee12d1ad0f9d7f1a949761dd25cc8b2e87b869defc6ff40eb55d887c838a3'
            '955e426ea05509ab39dcd6d70f60b3b0d715b131164e4952745c280b28369a52'
            '60f2cdfde77fb95fb0bd07ee73a07ccd600b955baff7a69baa46cc01c355a80b'
            '2dd4f1f777ad7ec2e4fcdaf3d5776379fddcb30eda84e6a19f13fd3ae8ffcc7b'
            '63b89c6ba9a17acc8260afd16aacdd191e82155de2c7b906225f7d312986215a'
            '3f671caa0104b8d94d2b06e6751603207e305f6b4f0b14c0ea5c7b5ef441730b'
            '38394b698ca744d72fc584383ef2244bed099166ffbc1a3fea51eb4e626bc491'
            '583bd2efcd569d90da6953510dc0a9251e0339e3677bd4114a674784b90738da'
            '169f0bd9744d2e30b0a0fd1f552a294334d441b9d1a6bf4f8f1cf6c2147f6837'
            '1d067a23c26382602b1d70f1e2da69a28a34717928b2d93458a39fa321059a3b')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
