# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=71.0b8
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('60e1b2ee85ca5498c545da42f9aad3506e3a99a991976a75435cbf7008cc3d6f'
            'd36ca3962bf31f934fd33da8ee4cda83fe028c8e3482efb5ec572be0a75c1e85'
            '97cb2150b8c06887cdaa67dbbed121cb62036234cfbabafdb1f7e73b7db4e7b1'
            'b3fba22e15e9c9603a96a55b7c958bc9414c2464e837def1d1047bbda7762244'
            '3c7cb98ee21fe18eb548f25f06fcd8e2c5578dae4f7193c0c8ebf396fd60b15a'
            'dae4cb2e5e49e3a5f516afa27bc8a2f5870595822a14a361956d48bb58430238'
            '51e14dde32351db80af4bfcad6874e1cf2ab9e0599d647195135c1b496e5360d'
            '2d71a419f0f9566eed78aeb5c4d46b5f5bb8194838b6bc9ad4df64d54aa7bdce'
            '21ecb7067c7f466c52197c5530bb85532df62040a977971a8993385f3419a845'
            '8cd1be6957639e84c7d0fde461cac00f55fa7a263f1da2ecd892d71f38c03375'
            'd54805df397719e9beca5b758f88985829d6927f823fe1e94c3238b62ea6bccd'
            '56af5537a45dbb12725a863e4bb643bbdcdb101b6e680f63d20d3c20b8c9e7d8'
            'b8c58ff15179588dbad488d764757e2f8d0324178e68f28470027789a5fe3689'
            '61fa498551b6a6b69f5f5b749f486e8ec6e7a20dc7cf66470e2e447b34ed5bef'
            'dc77da8e60746d57918d65011fd71c6bd7439fd011e9339e8d73da6c700f819b'
            '341f6d5159b1f7422649911ede7574023c492e48efb6e208eb4b0e046d82d955'
            '93764d4fbcb5cd0897c6f7b9a073910ded5c41a80642030559318b86ed6118ab'
            '261fafb542fcd70cc3cda1aebf62367ff37b39479fb02b03dcb76b09e9608819'
            'becfc0952f95f7b36f50dea28049fde91c5810dde5f99e33f3f6c44fa1f788d2'
            '08ca87c6217e0325cb6e9f962667ccbebd582b9d44d65e140237e26a2f955f0a'
            'f80a0bc8cea0644aec35057537d2017ed3a28c456e09d5a39041e40e998566e1'
            'f30a73ca84e180a999d484f69f859629fa29fc1247e629e644f0f1464e74049e'
            'd1d8bb0d03b4909f832af7849195fb5c643d891ea0893d361787f1dc299d7d1c'
            'f505fda269650dbeab3ee57f4eafd30ab0dc47c094c0e5ba4bfa07985227406e'
            '752f52b92770090db17a814222026f57ef732ac79ffa5fc926e5402e041a0b6d'
            '537cbcabf71ca3fc80f46d3b81dd6561312e197e3fe7989c5391cc1743b23c2c'
            'bafd59fc22296103bd80390d433e7c0d2bf698b5234f8132d4930f3d8a23a8fe'
            'a770d3f3e70a656007810f3c88b05d53581a084b3d0d38b78c81d26fb8dca02b'
            'bd7f07e6663b55bb8c854d352d4b6a71d9d6f671b0ed0de3d2ca593ee918caa0'
            'b6c03eee4790bd1c78918873c3975cd17bab5d479c1157b76a53c0eebee92556'
            '054e924ad3d180334a3aeb19348a0da7f133d301e05717a0a298410e6ad5ef1b'
            'a380714484dc90ecea12c8dfd478b2feab89546a980aa3e44746c576ee6393aa'
            '99085592b67ed0c9fddbb84cb1f28d42c701add1a0e7e9db60a6700b6ad36e98'
            '8d58cf5d3f6980969bfe428913cb81bc929f9ee07ffb1c92bbc495f0113df9c0'
            'd8e25ff5eaa10432993a00c160c4a299e03aef1e38e023f9b85d446fe29fea74'
            '6e5935ab489fc7d8c81262a6186c1c0e1f012ee861ea444586da35e72d66425f'
            '3715263bb0f58e3467c03d3af507876a815d112c2b42125f6c551ae1841ed529'
            '6e44ee202c0b4028b056a292f83e1110ed4025ad5e382c225f99e3521cf7f703'
            '39bbc16c915fb2d81bfc2692abd90008b49dd6b99467e1f9f2589ca7ff036932'
            '3581b94bb1b314cdd68784d6600e54e38b3a967ec1d100bd333879aa873420f7'
            'e51416dee438ff4fa8ecee362062bea6c21dad3ba5ba014869ac2972012d5bed'
            'a7f477c2106c2fe1304cd885bcbb9f8e05d5fb956f71de3c5ba80ab886174a1a'
            'd46de1f57352b6fd7bdee8e649a261fc9df575b2abf2d756827dffadce018099'
            '717bc6c9a207e7adad466062a449c6bed7b50135fba8e692fbf6390c15bb59b9'
            '067123235700c9d3defaac3df277459f3eb924c3559f3707042d119de69360d3'
            '1f935f07745fde7de8fb5424fcb8bd5d453a63d6f31b2cfb95a953b4c257b8b6'
            '7859e8929a332d09adb27585e879196bd1b00bbcb82b7a6880711cdacbe2e866'
            'a2f3da9b226d3bd3b6eb3acc05a630d98c25d53638d4638b3fff8bc2d8520297'
            '7385c2ebbdfcbce1207b9e42c1e1288044b7eaa14def91a363bf84417113892b'
            '90f5f66bdc883fc03c72a7f524e63c9f301175ba3c36cd58cd7d13484d33d608'
            'fac9898494eba266cdf8279db23f7ad2c676bf612a00e7eef319f35141ea248c'
            '685f83237970c99857077758e4fab4b167beaf36a8a7d70799211bc5db475a72'
            'b6cacf8e7197172209707941662cb293a8c8a2f71074dc5552cd0371bd450186'
            '4b1faf4a9600e38adc9c6621f2aea6b80e88e432f2d0639434a75cbd62429d13'
            '7c98fd5e1212530bb41577ba3f4b951b75ceedf6c482887013a5f605ce5f39fe'
            '6db50de6006440cdadd10b17dde6ebc42fbeda65f5736baf900247679e8e01af'
            'bde065df4df61e24b4d4747cca138871c7e076aa036d6521b1b8d546404dfb4c'
            '2542bededd94b5b2d764e40264821f46a6e7a8b8f576800b4caa76513b1e89b5'
            'cde7d6aacbe83932045248a4f2e4b62d67f2e74fa221ea90f0b273491d750b81'
            'c79ec9205e606afbdc90d2478451b2666cd843dcc948b2f20043e26df51ce7fd'
            '7205c36de933084c0524d65fb623603275ee8b5bc3859ffef1a4c686d72e2ecf'
            '331496f1dc139c8befe1954d480af001c0d8cf08e949a4bddf5ba88f2718bc83'
            '678d0925e6ac015478302dd0dd05b912016c267626243309c0b267a8f4bcef8e'
            '8f642950ea921a9d7f97f11aaf597e388fbdb4050654bb886458d1b3f81bcd73'
            'a20f02ec5e3b4100059c5aff4fd8cb576af505a8893ae28a54c103dd57cf2a30'
            'b65802b56cec789ebf143dc1c0839d43a0fb4b51f00a434ab337629e6ab68949'
            '7b7927250a186720c54f848109ee1aaa9e7301006f7566b15528ff036ff63df9'
            '254525bc2cf91cd01c4a38ab5da355fc475353445ad222a82cabb4d1ea8d486a'
            '3b1cf3220adecdb7e4c8371aa472c546efc317856c188edde76fec923d178148'
            '58b1d4cf6385c44d859c48054d910525a0ed275f56eba1b8000a3da27ad6bda0'
            '7f5ff52e139eced656591fbb20797c351d52d85c0c523fab8ed8eb60560d4b81'
            '1864dbfda5cb1c7f62e236f3c5fd9d955873dd3d6eed317d2f9ee4055a480198'
            'f1598bb0301186fa6dbaa8d2e5932dcd791a64c4db7ac587453c9cba4021064f'
            'b8f6380b2bf7c39e32e7b588875d5883f69952e963d90496dc95163a0d13395c'
            '5858d6c13f75c7b5890aefeb290b40998a444f8684d203e830ce1f3d6300f35a'
            '2568b475c891e00e372d80fa2b82ebb44ea352ffa58de0a0f7ddfa4d52ebcb4e'
            '2882c07f0ac534ddc01c1ed67cc51143a91577a44a540ca1b7eb1e5eb02f4afb'
            '1b0c7a1f7bff01bca2fccfcae1f5a5c0229b2749491d5d24f3c96aa399ef0633'
            'b3d785a4f12d04e968ece79d18d06f96a40644d0842b37fea91c3912bf1f46c6'
            '70f152aac8d7a6b8582f96c51f8ca45d00cb8eaa8e3f3bd93512ef0deca9a10d'
            'd68c9de3b68a1ab2c120409bcc70816d410b70163b6f9cdca02129407569a684'
            '83850a876f2282de9e8413b896ea0321f6313b17da1a88491a9bd7aea54532e8'
            'df03cd14fde165b48397f95e419fc53ba979eff7a70c4a8de2ae44b34618b995'
            '080cb1b92b213f5ba12bbb875224ad084ba6b9dc12e60c0974e84828d3c587ee'
            '6088f5170a02b56859e57d7c57655117b2660361c7d2c8483d8d93e9f8d5c226'
            '6a8776b5bfb85121243dea34241a2ebc8a488903dabc3849517707fdfe253bc8'
            'a0932a580e7263b101c02e26bf16b82d18583fd5df529cf60f8a840b7d93bb0a'
            '8953258f392b88f1245e77bdcd1842ae9d6140e3f51a34294cc81bcc458e9853')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
