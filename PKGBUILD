# Maintainer: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=57.0b13
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('4143dd4c8f1498c1068340a18bb53d451861777d8b193c4a00c0f2a82e3b3dc9'
            'd7c883df3e0b089b6a88cbe968545810ee44b46b899c51a63beca2002ae4278e'
            '862a491353b1170cdfc03056d16d89ba933b05a16494d697640d37809dd7b611'
            'd9b4822ea9cf91376b07c20d3f3a8ea5dc3efd845ee360a094fa6aecd8e1569b'
            '28a31ba5ac4ca2614a40ee1778ddd52f8149f5af0fc1232f3364a863397a5e2a'
            'e330b60a178a78f758c07b49d07c7d64dbe6052ca9f57494fb6b4133cc4493ea'
            '41a576be5f61c904e16eb85ba7ed3b43cb303aa8d92a8c4db501d7031b51dcbc'
            '14014daab6975af7bba07d14d3c2345f335109982bfc9595dd95e286d0399f44'
            '057022f29b07ddb170d4ae4bcc5ef384a874b6ccba2ac240c64483bde2bb8a4c'
            'bd915fea57b195317d34236cfa3a9c4f390bc11c43a0646e1f68a3dc6f9ee599'
            'c96414b7a3b435496b579716ac424183c391641a7fed52a5ee5e5e5cd26dd658'
            '29989f17835e1cbde31eec06250a686a0afad364e19990f5c247b8854918d19e'
            'e2437ed1ea83c972c922803e3b4dcbd1a6f460159af0b81692e7e9a3cd92c2b2'
            '72cf63ab33280e455a23953b6f44fd39e05a2a0b0c1b7ec411a58479f5891f5d'
            '0eb04a0f7d4decacbae64faed4ef666f11bd3a49f15bab6ef4847f08df317b95'
            '103fb76b03550b054c718a4e611cb3039f01fd2df3f0f5418f4b8a33f0c212c1'
            '1fee4cb313492f57439d30798b4d822adbe9fadb53587cdc076ece367031d99d'
            '5d6d82bba701b8e0a8a13d8f8cd935c5e65ea27a2065d13850f21a87818c5792'
            'f5a3151789e3cf6a11d0813617111b033aa22dc94f37f4614a5c641910e2e0b9'
            '078cb5e463887a11ff794f6a07e0753df6691286b45e7afa6f4d21590e155ef6'
            '2ed59b99484b487f539e3108a6df6f4c8b13d6facdc545cb025ea621d6b8ec25'
            'df877de1bc899f9c5c7741a06ef222d4fb59bb6a393bf193c1580ff5c57a750f'
            '629fd830ad4a5261391aa0a380f4c9e1dc63d2dfb539d9ae3a603b7650573eb5'
            '712a6476d7aec9001fad6abbf1b762293222b9eb51f184219118dfb0a3499d52'
            'dde909d332df9ef2e4973086b1cc06de7467d9678bd1a16eb6b9a8c5bb0aff4c'
            '6a9ebe0520010bbed700aef4ed00f4e6113c29605947ea9d32e6d3784a4954e3'
            '9ccee16820dc7c7268b5027c6ff8bb0e66ed762a5f8abf2c18ad08806cc3a95d'
            'cab059c1781b8eb87e571531aba3309c7f7c6189158634ca58476e6fbf67b78a'
            '707c6dd9f69c6e33bc95dc3678455d6c8f90823ce51dc9d2d5f916ceca109fbe'
            'e4bf4e11f1b70d369f9560b011682ac53049578a94137288aed8e19ef1508227'
            '0425be3c9b63f2ce4fd15570b7fd5fd18fa86d8da0199e8f6fbb44fffa1aad02'
            '77a79022e5780f4561dc1bf214b823bdffddde4de1b2a3077db5a842c81466e1'
            '23f5b5ddb99266ba93b99fa80944eca67c5d537522277a3c02dc9701a8249c3f'
            'c7f49f0983f49400d7595ce31ebaf0567ba565dfef73ffcf7cde922410fe916e'
            'a2db89c3745f9cb6245c506c51986e6b1b1b04ec373638d877238cfdb4ec1cc7'
            'c36c9bbea4a69e79eda3922f270d41cf61e68ec1a6771e43813d8746e88159c2'
            'aafd5de5e8ce591d6f23fa1bd2fd6025056b939a16cf4f520d20f86e3d043ab4'
            'f2bdbc8a59682ced1c458300e4279ef5be1d5e4ce9501d40dd25ce26da700e2d'
            'bc69b36cd604e3cd7d0ac2392f31d17c4fcb1220eeb06fc5e46fceee0974f4fa'
            '13aa972d3efc44a94144954af13dcef51cc26503d907847f3dcfb5dc18080b64'
            'a302894a3fc9c9536262dc0e9008f4969e137fa08a1df066e3206d65963e9a74'
            '4bb2134cdc37649e661f0b6e21ef6b89c4eb12a91458b03a00e416acdceca7eb'
            'c82b5200c7bf63a827dc644e738ecf9eca843e25b1c1fbb4562016918f57e670'
            '00d946df46cf846260e72f45288dc368f622bcc64a483acf065c5442ff0e21cd'
            'e79ac4adcc2d1817a9cfc2fe7823540107ba8ba0f0af5ec9f838aac6e184bbf1'
            '75afb346c95119c6c8af7fba9d221db11f032ae1108e8e0fb1553a062e9b84fd'
            '7e25177e892aa15e0ae6c621a3e714aaa5b85f187f87469574d68d7aa83056f8'
            '92dae37b299175ff2f4ec11f6bc609ddde5c48b8009fb830f2589dae54b36548'
            '6d2740ccf0d9807b597aa8e186817024428df88bf3042af31f7d6f30895ac93b'
            '6428a3c0c21f55e5a75445ab593c4aa4fb2afce57930238a916e42b16a0c3f6a'
            '2ee645479f907b4118c2475a24488cff790ce3a8da965b48019ef55afa5040a7'
            'cedcfbc83e8a3319c72d9a7bc1c500aa7519abd96c17022dcdabe283d65ebb30'
            '7ee487a12591dfd0882d9ea1a820b43e9cc5f3f3ce18d9497f4c58256a9c66ca'
            'ab746acf8066507702d178f43da5628c5d5c5225bf94e43a1534d1c5fcf0df8f'
            '5246f724bf7d6a2b043028f56cfb08f7aa4f8e8f0ccdac819c4c8aa041b805f2'
            '6cbac3ed126c129b22f80a15165ab22d994a119f7e7b76ddc0add78b55feb8fd'
            '98969006fa1da02452a57ab2904a359114dc5ee36e79fd8e76a90ebdf6c511dc'
            '96280b88461e4c30f118cc1c85962ae3ace203d6d5d3dbf84cc97854c133b3c1'
            '241fd805e32fb4f1f9742ebdc1e3ca089e93fc348dce5e6afbb6c80f25fe9576'
            '7e22d67417e8bffcee9f78fba2fa8e8388b1cae7a3bf52d3edb4bdca983d1c9a'
            '6219e7c025fdf3d55e78f7919892490d980f79fe83607fcc19eb41fb7ca008d9'
            'c2b7f863c43c65f693e54c3640e7e884bb9bc7afbd19dddc7329190e78820fe3'
            '5cde4795de8ac98c41c73ae77e8d689f5ecad381f3bad697c2a9ab0ee9b6c7c3'
            'e5d6a1b210c82bf984cc93cd61a40e427714cf5baebf19f4bd18d64933ed7666'
            '31591393223751940b3a9ea601840aa7397c4b4e7d472a7865f2df8b41749718'
            '8b9cbb4bc8e7dec11a30187acf7f74568249324afd7cc9587e8f3e489ccb1088'
            'dfc5e75c15f78b8f31d89566a28506286539919a8316ea6c79f37cef5a5900df'
            'de39f7e7e0617879326b2c83bee6335c32509d1e36122eb66f0141f78752a211'
            'e59d61d4dce786da4e6ee6f5a10044569bf85fc2ada711bbbd725a0c6507630d'
            'cf835b40936e1f65915af8affb889264a3246c457a4f2406976356af6e82497f'
            'b53b98ed699ecf0dbb5172116bbbf68d611d818833d5cfc0b67e98b4a341cad1'
            'b9e9952666ea1d937b1e40c1a7b8f943df4e0ecd8ce27440994da54bfaddebee'
            '8d25300fda24be5fe5f78fe0ef74826b0947b966425fdd0ce301084cb2bcd4c9'
            'c2e3913d0458dee3307c72ee45f0a7122cc70cd6179e62d1f05f02eb9a2f4b38'
            '1c955b1a7652c54d8de0acce6901b7537fbb35744cea508e1c9724413c4735db'
            'df78864f45b1381470928d02da4abb00ca0991ae1db73ac9acb7704ff4c86ae8'
            'c1a6c64e7982dc69bd9d78fc6c6fefa59996b564d0b625afad087a3599c328b1'
            '94385e7462a2baf65244192835238ad1ca8c0951b70d44ce696e7536687b99c9'
            '5ebb498e498b715ab4539b65b7519a3a0fd3b1239621344c552693a5aad06a1a'
            '818a9f42fb804109b728dfbab3a327c0c20fef2d11642000ed72efddbac0e7bc'
            '6fa42e977fe73ab7f5ba40dd365e0c7f27b05aeb4653994bfaa5ef589675fca9'
            'e9c498badc80686e129fde96a219136032591c5e684e9c56bd16a8ab42c2a4a7'
            'bbe14d7a5fca03e9acedba64c073e679c857311cf4856d9c8d1ee84a564fd5ba'
            '1ddc820741eae93316129e8be8dd57e83d14faeaa2db11872db3d408354dc23c'
            '6733c475f1b07cc2d8a420b1c5cdf185ab4c43270957ec48b9afab208ab205d5'
            '77b27d2a0cbb23eb07de9b0350dd1d391598e03eedb41c85cbe8fc91e7c2f6ba'
            '6e28fca8a0a21a0462d40580edde49acffdce5c6019c283890d3b98f9713ab20'
            '5b72a4297838059de073bf1e720ce0929af860f23f0ccad0ecf6e24c75d63814'
            'f451e0aaf987f651771fe525403ded0e4460f2577f2438a58becf4982ce58604'
            '9082bc671556d950ad11ac96482c03f658455fe3f985d0e985357f3e342c0461'
            'd29df71118ca2688de28641b953d239d0095eac62981f71c9f4dddbbae1e8db6'
            'fc747e21dd3e555c5470622abf3d407bad94d40da360f5a4db12a9750f1f651d'
            'a02e4bec95071b45d11001ee85e26cec6c6628ffde3c69dfedbfa09261902367'
            '43138c1402fec42de055433ec9f80e884d412e4d6447391dcc55116489ffa529')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['as']='Assamese'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn-BD']='Bengali (Bangladesh)'
  ['bn-IN']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['en-ZA']='English (South African)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mai']='Maithili'
  ['mk']='Macedonian'
  ['ml']='Malayalam'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['or']='Oriya'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$(tr '[:upper:]' '[:lower:]' <<< "$1")=$pkgver")
  conflicts=("firefox-i18n-$(tr '[:upper:]' '[:lower:]' <<< "$1")")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
