# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=71.0b7
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('6d44628ccbeb2ed6ceb0a13fb890712ecdce05200b4ae86318ad7a7bd1c60d57'
            '6cc4fca45ee5034a75aa5eb77250b1a41ba35462c6699bd3433b752fec140252'
            '7bc39087e8180f4918d408027ee408997505517c2bf8d51b4332293badf41d99'
            '87be51f874d7dd6e951c3004e62c7198d3a632a09dcdfbe423ea89badcf595d9'
            'a6b8c2bc028b641323a8089afbe614ee393135dff5f67ec056a3c2e5ebd8b8af'
            '9c69d6eaf08401d2f148ead588f3004a5e0c9162e53fcf6e36e5ecd5a17e0d01'
            'b69d0c5cf0029fe5e20c5f796695577d5721b381f3c2baa825cf0efd529dd465'
            'f05662c5dc143a79df4319d85e7165359032c7fc4d535337943ccb1f8997e4a9'
            'b3aff8a4e5341d61289d09dc50110e6d02caebb3103312a8c7a6d7727ad5f2c5'
            'b643987aea7d42b7e8eaa708ee0d5f9849b0bc3a302057f7ea20151f02afab2f'
            '29459abfc43592211ddb464e397dfd432da576de5dfd452d09e9e987aef891ec'
            '8f0afe5f861c79b94e8493f638ca13263147419679ba1df7caeccdc1d3d515b1'
            '0b727aa0a05f6cb03c1df55fced381e645109abb78481a006db5edc23bc8ba4a'
            '7332a0426c1f79e556b3e63f9c4ec094e624407e7316974ddc6df4f7fdea9691'
            '3706c6395c7c92f2be5c7abd6cf26956953a6ec52f6e3943a0981d1573d4b99b'
            '22cbc158eecfcbfe8272b7061030d1e16d569bfc707fa96eaf426e6d718814b0'
            'ceac9998fdbde8cf0098abc85879ff33eb802af4672088ddd1ab8cd06aad96ab'
            'ca81ef0dc418954caeae6be9078658ce2421502c0c56fed5ae6fedfcd022ae92'
            '362890f48481b7afb23d7f03d84da9cea0080a2dda47438cfbd161d3ffac549c'
            'b6e26219c7dd863a6910afd0d26854fb51a906c446fa4bcd78f2064b39af4224'
            '666f822eae2af33220986bc79b98abeabc7c852e5c581900e301bfae143e7ccb'
            'd58fc5db8f7a02f01c804036dd0e6e4c05a17d1ef40f7d6b8a8faadecc38eaac'
            'f399798adc91815541670ca3dfc215a7b2b518bc2bd189eee17ef131116805e2'
            '8ecca287c685c6419fa0f0e42d3293f54622137276ad800cbb0dd5ea9a57175b'
            'b6952236b277e02e2d41e2f2486108c86134fa1a1bedd4002fec39644ee19cd3'
            '448c9785d23546106dc14b772cd32738ed1689376fa115c14f4437c68e1b3db4'
            '2cdc1a09e293d42a883549a3900a7c4c3f9b19060dba9800760d0f513f0ab371'
            'c2962d32f0419491b7980c6bc0834fc1ce475968695a247b14746545da0c4ef5'
            '4ec9432694f5612a6cb1d709e739121abaf555f99c95b7121d2366402ff1e6e9'
            '1c3c21872034294cca86721a01d48b4ead607a5d5ff84c6aa1f6141c0b71afee'
            '6afd2cf15627bdd5639795c5fc66e65ea41bc5fe3886672aaf96a12d631dd562'
            '297125320c2aabfd507b19810c655f9e627fda0a579983ae8c42bb26e6be3278'
            '11df46ca6c423d3ed88363cbf9d9475309c73439b1b454e7ae67127d58e99f22'
            '42764e73a493c4712573befa3c1ecc2df462a3aa5930b24885e0d0f754c8f18a'
            'c23e86f57a4706959cf085b4376c5c1405612da878fe52e9e53b369889b19d7e'
            'd894524259cb2452b5305a8e901d78cec10955084c4d72ebac5b33e80872877f'
            'a9e15f984a03ac6a02ede9257f4904658b8df7f3fa54f3cb75892593441b3b31'
            'dd23f9849840543b70cc8a9d2f888cb5b5582eec468ec883296edd4a14e848c6'
            'f6e27af8cd2b202325984e3e6f33e2cb7cb69dab89b5da552d589588def2214a'
            '1d9cebe21352cf9d9108a3d6e84653646d98f7d536df7bcbbdd5faaa5304c769'
            'd47a1df40d3d400004cad81006adc43ce88b1b95d18bd88930ccacef378bb2c1'
            'dd26790d6a11e65b5fc073238be9fb694a186221a1792b3ca7914ac3f22d980d'
            'b850e3fcaf2a97bfd46e8be8728ca4a58bac3278760ab57fe506a7dc32e2153a'
            'e3b926bc7876337a7f65f4b3d5a48a014947d256da238c2cabc7dab55efc2893'
            '1f0fdc34df318db5cb8735a9f7f47d3494afcd8f03386aeb051fdb02524009c7'
            '47b501c45e43de4c019ccff49ff9585c96f975cc048752891fde352b9b5bb428'
            'bb08f33b8fa50b8513d5a263acd3cb50e821b19cc6ec6b503162c6966a1ac926'
            '6e6742ef5b97b69b073db6b0c91719620b1f589d077154da07dbf156633560a5'
            'eadb6c99b840544aec5a10e6b0431b87ce1bb1bd3cbeaeaf8474fb222e119fe2'
            '0384433220555d1227335cd7f902ad612b6c963c1d1c7373d90f139ad7da8a0f'
            '57427ab5688e309ababb1b05479d6d0e57a60e96b2ce7651b6293801ca917e96'
            '05d48d55b8be19517bede037729100bce76c6d36b7f10ca84ec32ae1439078ff'
            '3dd5b2ebecea034ccff3c65e5a40d867b1e64b5261640335742ffd07a663a54b'
            '4c1993debc2fb44940676ad532cae6f4b95efb17ac15800d83b1d3f64adeefaa'
            '6fd4c6ed9d4d47ee115f9a7dcab377d713abc946dfd8fbf8f1c0f151a8b31ef2'
            '69b2be7e6ff5797f55bc48b0318dc884a2bbd61198c03519db88d484b17c1502'
            '0ec41ab582069eeca65b8345d34786082cebb15fd6428d5e17112e4b2e9b5dae'
            'c9f5bb6e7b0dc2e6975c5f0c64becd9ebe325a10973192da254629c1204949e1'
            'a8492de8585927e05528b3ac989488c27826bca684707479c1f68ab58a3fdb17'
            '1b5990aca00020e0d1f79ad615899f5d933866d68aaac6ca0bbca8f7054d18da'
            'e6bf3f4f874e9dae2b83aa316868585f4346b78dac0adf0ae20ab1a85aebfa34'
            '156178430b408fee7278943238cd0f9b099004c11300693d56a3e1a8d2d4d0e5'
            '5a8b3a65f5341674cbe2633e57136e502091a8df906c821229de18d0788bff63'
            '39beb6833cf3aae494cc26be12329a9bd19ce72794d2003fdcdcac3eb0b48b43'
            'b2689c6008863545ae7413f17d692d4ea3616afcdb2695ceee24fb53304a00a3'
            '8beb773d1d804d1694afd8d4e2a60411b1391e366c3ee2a8724d42920848d556'
            '5fce3b91cb559d23587dfd0d64d3d5b9a00897f233eac76b12ceafee6868d27d'
            '7b05b856ac2b7fceea3ebfb9164baeb90f1a97141b39c11185e1b83fe78ee443'
            '69bb12e8c3d324ae414e73e864937a082c40b037999eddca6ac6242059f5b960'
            'eb177dbb22f1d99ad82b7af8395ce5af18e54782025a1b355f34c46c8bab4695'
            '912ee709f3731015dc4f3c1cbb7805f5120247397fc37e4be24566c5b0bd78ef'
            '48af8c7fce8f4101ac72c1895866620af9a8ac003cef0c01521e97b8c120ba24'
            '933d075ecfbac1607819a6349a0bf57cf30c67dbc3fd6ea6933be19637286ec5'
            '23aba4107bbef84cb0e0ec5f39cad15e9c1fffa074c09c5816332e66fcefcf71'
            'f4f2bdac893def50b5e6a8d6a022ed24cdc876d9d9548c8a269425009ddfd2dc'
            '79b839033e09b49adc4ccf5f4e8fe65db0c3bd03d56f0c3e835e466314072b2b'
            '07ed849f824c5f6b44a761731ae2d06b9add16bd333f192a6e5adc430ba1f4d7'
            'fce8801683d507e4b5847da34ac022d988f64080408d37b9e290b14ae8ce57fe'
            '2e6dbe3b5f1e6db297ef2aa018ef2b3a0ff17ccb68ce5cfcb59a644553cb6be0'
            '40156f24f7c2befb55a873866140a92e5dabd3965bf64d839b118e4b2337dd89'
            '37114ebf729a030887cbd6453cde1d5226a75c5424958581abc0d4b5f562bfbd'
            'beb438009691ffc9a51ba0273107646ab5a057640c6117873670cea4c65fe381'
            '8adb04dceace3e6ac27a1c05efca265640d764fb5c047aa84d6a2060e73efece'
            '50adc19cf3226731f4865b6fcbe45ca872a4eea5f97919a388d6ddd6f79c4b19'
            'c0a05707ee90d5a3c43f78194317de85ce4abfaa9c96fe0f2e61db296f0c9b9b'
            '543bba0ec304b05b6fbe85f3f54a3bb362f37b8ceddb160b283ece19c1ab1595'
            '2c2fa2bf0bd323e56848379471024b665e867401ba2a2d9e70c97d02544a948e'
            'd201c56af76a41852dc04a7eb564a01c1b3519c5960d15726f005fc8fa459e4f')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
