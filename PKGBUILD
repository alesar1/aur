# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=72.0b1
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('25795c4c467f6bce4a1f928267466f5328ec4eb47a2c56d07f35cf2e9ecf88f6'
            '41b104f28a8cf6a0969722e0928c38c95bc34d13db8bceab495b10c36a72f83a'
            '457ac4ec634f31c9b56f90da59fc7506f5d193eae494dd15f14cb75538c9267a'
            '325a727574e1b969e7a5b95c897cf9c4cce8df104dd3e140bbc08acb01adfd92'
            '03e85fb3dbf33342f0c7a8258dd50c61ba251cc8a5175f97e42da4a076fa5a67'
            'ecbe38993a6bb495bb0e63fc94e68c04f37c13e9a8d2ae8f85e2c029c1ad2248'
            '5261ac1f515ab6b2bd5decce612e6cc51e12a12102a28457b49e5be2dcc9ca5c'
            'e1830515ec79d10ecc6badf0e26543aa9b39a7124b2731ee91d03ed834d25b0d'
            'cc788d00a1efa8a9ca676165be60fa873b1b813ccfbe28e756bb81cb58259acf'
            'ee68c82257974f9e6d8ebd0709782769607c443a7fab58c1c6b752f6b4afe994'
            '950af9b1f699bbfb086c58f06b345745e632199ff4d601927a61607531964216'
            'b3191fca4ca23e3c1e7c2c287dc44e4765ea48d1514ab7bb77414e130aabd74d'
            'fd9eb61783d6a8c3051191dbf6eae449465d8f1073424e67044e7ebdfdfd39c1'
            '661149157eedac94b8f5301ac39cc3f8f783359d9f4a5ceb3a3596f4a5a19820'
            '8e88038f01b7ba6e54b7f641007655aadfc7c2e201838fb84d865c3a682b73b4'
            '1bb75b08f83dd2d0040cd71024b0d016dd77c469ff5de0d78465a8260a960b9c'
            'fcccf16888b4b9717080bf9749834f0e80a4ff1cb4ad670c74898ec6e534561f'
            '6fb73ab3f4f2003cc608d80214be67e1ec66c5b92e0e79af3415ac46a21f5937'
            '567f0a0698baa91377ef5e84842669525bcfe186d5bedfa9e6fb75fabad0ca5e'
            '439b5bd026566047cc0b4aefbfa48ad41395a3c8796c642cc461f6febe41a7a6'
            '86fbacf8d2f4616e407f78deb696e962dd50d13f87c88107fc89f17dfa39041b'
            '25e54926a1c2a06eec2083d4180fccd9904f1a1bc40a4c761ec144772161291d'
            'a94fb377d7efd81d522f16a9bca9cc0194c64c7bad7bae1fd8cdab1ffdb38d92'
            '3523b2758962eebbca88643f5d2a4d5b439195f5f44a179465f1e43d5edcce22'
            '8f4bbdf77b94189e62355385e8ea212f749302565090f906785cf7515a619b61'
            '0a13b1fbbc49e81911038dec5e372b298ab836887e3b19c61250bbbebf655d47'
            'c8e455bfdfa16038cf5fbcc4966b4ffbde17fec17191d2c7cb347d64de793fb8'
            'baba14c15febe23d4e833617791dcef8565ee39f1309d7274240f2b88f04eb2e'
            '696f5fd53933f5cb2532cfba43d246522a9f0b212505bb1cc85e537096e7e4f8'
            '12ffa3c454b1e3af360901b24e29d400c2df6e09d1383576ce5760bfec8e8ca4'
            '8e79061fea5d539dc21e36d6deb98c4d4176ddc53efcc9f071d3cd1668dda42c'
            'ef27811cc74b4e5610892024904e97cd357830d3ba627b31deec82606531b825'
            'a513e72a6ce9c1488785c013894442be8ff6d733bd0de27a0e8b10413fbae59d'
            'c68f7c98276e98c9483396583ae3fee6de01754b985e31a19cf9c9253d9bfd59'
            'bc3a0042a634a7bd4d1d3473e2ee5aa41ecafd84982e093994b073e8ba01274a'
            '529ef38411ecb172259aae441f1447679c97a61f7ffeff0f0fe07ba1e48d64f9'
            '490a87f8148ed1e23de7522bc05aa97763c20434e8ebaeff1621e99589cfc7a6'
            '7fcba60e87dbfdd1a926e2e2988545aeda6ad4fd03798523b2bac30308647360'
            '1a078fea8ca1dd97d5b2996283d591efc5634c56e522bc5ce17f915f22089c0c'
            'ee3b547803e3b8d8e5f1050bee3ba781e65e9a3fd0f94747ef97ee4404083c59'
            'f53c4a54c6e0c0b0f8c96944b30d4670fd64c39fbd8dc21ff6c030f5798467c8'
            'bb93a3e2a53430556d4937559d533916991fe85eea62943a425a81724949409f'
            'cc4b7bbe4d5c4419342e89826ab467db74b69ab6bab27e0c29ee84935f372eed'
            '4fee88e4a5e4567906d78a127bedd241b375ab437a8258051a64a12132c74996'
            '36fc17e0f9552483ac3269a30c27145dcf2738be20f9e25a1c8596f45e47b579'
            '5f5aa0662665dd2c637a1891d0eedca899be2b49f35c255c74773fb23525a4e3'
            '5e026e9b56f08b3d6751f764e538115d3ee58c8eba0ff04621c3dd7961edfdfd'
            '60ad860ac5f909d023ebd5ca09fa910a813f3f16030865b2e742be11ba56be6a'
            '211c5995f2068e3f83a9b0330a6b84d1e21ca541570bc6ce8d3420833ed15f7b'
            'd13ff4b3912a609a36f1cd3608bda52270901dd4968ffcdd661f4da454175a70'
            'e9e0c7e8d26b5774afeead6d8526b3935923dcadb8d1fbe07852b31412d17269'
            '8c35627a973d2f88a0c1589de8a1f07ad0aa8716424a8f94d495e100baa40305'
            '3b1aad42b8a4d75d561b5482edae571a8bec1024957d4a37018f51d49d64a728'
            'b08746b1a9c649c1292435bf3184db9949e53baba346ea28ce65acc146c138b4'
            '87148023e802c865b0507dd3d982f046f209355d788db0fde73a3e75f5b40c6e'
            'ea4ab00a8ba7093412432811fe59baec7f1060b8185ba9a90e952bb101b98074'
            'ecfbf65c837a4f5cdf0c2d8cb7b0bd9d4f434150f45c4848603859aa32b4d05b'
            '778572368bb8c6c4d491eac2f08c053eee69cbd8cac22b6b8d10e17abb702565'
            'abdf65db463df0a75f4b53222f1b7bf81b29215c7edb16fe02e98349b4f2e1e7'
            'f581a52b72f96b8d53fb58f972fd3f630907ef4cdba6129ba39e9da21dc7cd8b'
            '3dc628231e30e4d102dd0f31329b155258120d33cc4e472c3f95ee184b6d40c6'
            '7f6215aeddfe1bf54d12513497b065133bd2d728de25de3a7f4a5ed7ab153eeb'
            'dafad04c49639c0350e80172b2b92b89a1f89102595f1cb6f366e242a77a6e66'
            '7e1d8eee88765e97df26493c4d9bfa42c2f62624aab9206c365a936c1281973d'
            '0822ad1ad80ac0836d4b56d938fb28e14aa3ed867c0142202ceb82830433ef20'
            '414a044163612675eae635abf67a200165bc35f5b9dc39b95d42966751b95d7d'
            'de66d4096e7c0d4baec0d73ff87e9a372946a150d03b582fb4cd6c1816e6834f'
            'cd4d6eb738b85b479d50d1953eb2c374287b41eba6e28764981d065a9b13b15c'
            '2602f401af8e7cf3e80245b75526496d772a017029efe4c7aef4afe5b4f04cf5'
            '99cd1d5343bc2eed4c566396313271f8935fe8ef3668aa212c9f62f5925a8df5'
            '8703f2c393619fe3cc67ec069a3658a707167f0e846feb9b3933b56a1d297940'
            'c27a4f01765b789c80b25189ff0d9b1a541b482c3ada6ce5909329c941990d23'
            '4b632e11f5d6ca54906a0235eba6bc3059182ca62501672226c24fd48faf3f43'
            '46402caadcc24417147fb4893f3124c45e06f0b276f5b41ecf4994e746ccb323'
            'faed2f2bce38d49a3dac99aeb81565d53b5bbc004e18cdde6fbac9200d55fd95'
            'd8265b2a87b665d8a2510fcb1d155674699cfec94ff7a37d0a31747d2bb7906e'
            '0f2ddff9354dcdbd9bfc7beee661291563d1f7f230559d1e1ddae566ae5db155'
            '2a3df3cd64cae4a6f49bc124f3adf1d3d0707b7b179712f7e3c68172f4aa466b'
            'c0752f7234ea7bfa1c82a72d8e9c26fdee2e711d5ed46b3231da22cf4828b7a7'
            'a0508a5ce7eccd0ddbcee2e9a621f5117b7829f81a0156bcacd2f75a1ac47f37'
            '976a737a7e4125b9436140b792072524d02f8ae664be6ff584f0f2dd1d2c3dde'
            'be760791f188b66d12fc9881f4d3a9ea4253d7642b64e6359c4a7fb0c5e272f7'
            'e0040ec5fbf5c65bbd5408512f8c29ff5bbab45dde24f293908fe48c30db6dbf'
            'f4e549f757ba6a2a091c88f1700f60c946b1ecccbfcfae75c5f3f1e9706052cd'
            'e2cd8af32b7cdd164350461d21bb7168fa65fae1be6403de02d7a815d31826a6'
            '252a4a7f4561272f25494d9e02cde8a6af646384b4aa20ecfc7e190a27d588a1'
            'c7b59ffe2ae9bbd647402df0e8993a633b834e59063478b4198e88112c4c4c7d'
            'd6716c2d600b1faabadaf7655c337eac3ddabf2c5a4a1fb79426bffc34c8723c')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
