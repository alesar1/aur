# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=70.0b7
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('b2be2058b48de014960898c9b90c832ec369b56ae2d45d51be47f86b5bf39f9c'
            '6c6d6c84e1823ea2a521dfad65bb9e0555e3bd716ba3d60b074cec0257a6c38b'
            'b1c21bad71b66bca88797cb0fe85cb6ca5c5310964839974f4f0c3730380e732'
            '2a9d824ce50a955cc8816e38d7b92c68eda369adafe4a7cfcd8cf7aa1c91fee5'
            '465ad61fc9758252cb3b9442ffabe5090d326ca452454cf000acae7dd6c99d27'
            'd20ebbc1295b6b3fed25ee4561970cd2f2f7aca9910ff8a24617579918ee6813'
            'af76f485849a391d8421aadcb499412b02f5c139c715e5d735f98e05d9e29183'
            'e39c53909fa921591cfb674ebf62ab68abb1017dfad19f6b73d3bca778ce41b5'
            '0c622da72c50f98023d13cec2816df13a20bb2849384803796f49e4a3cf840d4'
            '4778d07bb9697f7fde5f03cf76756c6c2ff90fae3183d0baf400c7ee791769b7'
            'f467b608fcee29d3d361155bb3cbd27c2ab032be186589aec9c967f8ae038950'
            '78474cc8d66aa9e1b7a25634614252d90f39b7cc22e143ebffc44514d3ffdfc8'
            '90f8249c2c96ed0ae9e545daf17369b4eae5f13b52b1096f07677d6ade9dd713'
            '646bfac4adb2408b190404133ca490eea0967a4d098ad3d60cee5e761371d66f'
            '1b989488567cdb88c6a08cb3a3e9a53ed3c2f5fe4c6df61193d46fa0f6c4649c'
            '70b281d63c2be30544208762a57cf1fe60c597d947f2d7d4f5ee16db24d934b9'
            'f1408edb550109d191e826510ee7d1232f0b9eafb308730b820522fe1470f700'
            'c0e8db940f631c3cb8eec06281dfe6460c7c425a6bdf4c5421767381155a6cc9'
            '7cbbd98afe8ffc2eee5f609744aee729162af8d75478961a108c9ec235a56567'
            'd8ac77da96d14fe61231222e5218c7ddad97f4a87f63bd9791535cefb45d0288'
            'd9e2159f3b9d9ec5704b6c08120697b986cf57a3203665533820b2f3cc321976'
            '7ec39709b4b3d3af1eba96fbe740766a9190206e85e8c2c6c181babdac3fa2d0'
            '79f46ddb91381946486a5e72cd1c59d04169a787b997b21e6f48403ead0db7e9'
            'a9ea48a108291ecb65c2e143888cecd08844ebfa0b5abba5c956a977dc0f3997'
            'dce33d86ab0de1b1cfd66bbd2e6cf4412316b823d25b2dc3376df144f454375a'
            '255cba0e62c6b5b03a113263de12ba29a2d819f3b93d146190d8699c1d8f8cdf'
            '3a8cd662099f09fa9f4e71f561b5cd4b216daa3ecd2eef2472b648f9bc426d1e'
            '97ce248e08a204edd0974ac91ee140a02c70434393ba3e4359797652581ff0e0'
            '3d5a618ef61b87e6cf238a9b3c9805633ae72f03585449631a838be2b648ce36'
            '0db438c50f31d0dc602790f8e625ac9f0a46c797df231c9742946390495e7c4e'
            '8a0384a4f4de1da0a1976fa6312914d545b8dbc198efdf4265a9f21d8c9f27ca'
            '24e9f4548942424762de563a32216fc676667dfcb1fa55d3af28c3cd8ad2c1a7'
            '03481461ffc3eec0e7f9bb84cf138a68f995601ab7f662a6d5a9daa623098c63'
            '66a646ea5d18b25e2a8f82b3fc362d0e6811838c957f03ca3712bade16d1c1e5'
            '7e2d6c83e49de54ac620926c0925756c61519972365f0685331b0eaa616e2625'
            '0e333b03659d0906ff1ed9c592141191af3be4039cab4209cd87148653158b37'
            '029e06dc0d4a36192b0ff14829f6f6b773853c905b6c561a97e202d0c61abb33'
            '3b94c6adcbcdc137f952228261069ba3008f6ac0293c3d681dbc969b62837d75'
            '5d93261687c09c9674f3e5428be1d425885de94a9d340681f0101b74c63544e6'
            'f2a89fd8bc40bd1122705bc9b76f42ce425ba1875977795da6b131d50aef0f0e'
            '2eeb7ee40c8e05a596e5f4a2b5f8db955345928e4338140fe24895abf98393f1'
            'a4db7a467c9883cb82c60a7c5fe57580a7627ef2a4f82ab432a0d32740270ebb'
            '5d1c6f0b9300c414d142562a58c065eee965042966d5d8f7128a3ccad5cb9779'
            '9285d122b029eb5817e6ae50c772eb30b31c35af0624d3b0235331e32ee0282e'
            '41eca5fe9115430216b397e2542312279b8a592ad4232ab9d466b96f649c15d9'
            '41bdc5a908de13d9481dd0e2fc94564149ecbdef443e56463bac3bd03f14ef39'
            'd01defcb56739750aeeab48e79e2ba36ad273894ff6d41caafaf6bd46b3c40f5'
            'b701dd2d3544fda3986d1ce8f24380446a7a7be31bf6be8e724af194d84ae1dd'
            '0995a7a5f4133eb41dc6acd6a33d3b4d33e52af516529548ea0d94251b5b3caf'
            'b074639c47bc78d78d0b0631e496965c1f82bfb1c005946073e6efff34551a23'
            '271abb39aad4c0146389fd374f98f5195a40123edf188df2e0738657558c1dd8'
            '80eb2f11e45b068f0e382dd772cb63f1462117125148d576c7b8a7b6aef8fcc0'
            '634c3dcfcceae2df12277ca83d0699808d96cdbe8240ac0cb1f4059c031edfb6'
            '7da5ec66d3b03906c55ee01e9428a09114a7e7fed85108fbbb6399f37bb3f087'
            '0bc99910409b8cafffad280464124e6466aa0a127c7e159c5a5049d36df7d28d'
            '4251435bb14a7eb8545e82a61657b7dfa6e487dd6c5443b76b9f888e9d30f4e3'
            '4d430fe20d9d06dedbeccf9dc43f7cd540a9dee8acdd8541fb84c8c6be925a8d'
            'aad464fa8b7456b34c96d286a9d1b0e64e329826f6566ecbd1ba19d5f69cf344'
            'e7f6069ca5545bafd2492e184b9453816ff4de809691534806db3f3fbeb21c7d'
            'a18a45176037e141fd68ff1db5e7a7a15c62377a985bb4496af18c268b9a0ff8'
            'f8f24a1ea9f42d308e491b263c0cbc9b1e6ef46f64a021d9d49d8db6d097a7f6'
            'a30193d093f769c94347143b22e9ace444c77a2e7bf8a193e82cbb74c22db5a2'
            '726b166e1abdbffb7e6c80634ae38549833203b8987f22e31efb4ea6d6b2212a'
            'a7bd53e8f38bfb7170219c27448192ec9603c87a71363857c2845dfdec9ad777'
            'ed7f12f96f113294260b3475d3d8408a50afed3ac4bb199f0833c42e6ded60ee'
            '6a7cb163e75fcb9f7ea45cb364aea047b416a7f7b53d2070a26123b0c0f6609a'
            '713d92756330854533c978b07c4fa2fe50565c812483ffc581327f034588adc2'
            'd887bfa203da2cc5d73628c617da7d699861cb8497267345f7a67d258a1334da'
            '4a1a2788bd648ce7900c870223a31e058b75287c35f955d6b4f8d2ed5f0aa842'
            '5807de77fadc852ac99d8cf9b150a719dceeec5d8e06bde99fb9e6ff4c5a529b'
            '38bef2e2620e6252dc440798b58cf7cc85faed5531ac886385dbfd8859ac97f2'
            'fbb357cafbb9db203ad0e371edd6a225e5d1a4a2243e6ff89d53450fa98e0272'
            '086bbbb4a0cf42e4ceaba166d583b6dfdb7b2c6449d63bf48055fa8e454a5127'
            '93317f3e7a3d6f77b90290b979dbed5d4760f57b4082f363e8ee060af5a55fa9'
            '4d1f5346741a1e0eee61b84d6b13cfba199843a745bbfd00b6cdbadf11e391dd'
            '2edc890db3b79ed924fe2f33786d0469c2d64aab8364a28d79f270a1cb6bf193'
            'a15a13b3c1729f6757ae6b0db6fd2269e1de3acb5e216086c6de55dfbb4319d4'
            'ee927095cfa82170858e697ba792c5ca9aa88c7d69484571fac243458c1fbf23'
            'e9b0e6b1ad19cff5c8dffffcd1f089a56844e3e7c2d83830864f0f86ea8e117f'
            '7b9c91310c548ce1f327088f653c710846c00458b30a1bb6fa2e336ab2c0fdb7'
            '6c0e1f3b7a2523d56614095a6d778d35daba9344cfbbddf503c3dce4cc4f8f73'
            '71ea00a94356906d7f515ca027e5aae1152ed07e52e989b41258c7c96f5da064'
            'c514305995ee40c8927db99c81fd2aa2f52672e05820342966909040756cd9f4'
            '5c8fc7229de233f9d4328fb89cef4f2451ea0db3db8ad38b7553e4e0eb1b63e2'
            'fbab7b140116f3132247fc59019f1230e7c65419858886324d291f6010bb6e81'
            '4c93ffa265908cb6c123e011d5f43eff64922c54a20d3cafae5171168c4eb6f1'
            '4bb62244556b02a9b84e6a071d6dee5b308a804794aa0e897fac6e1788d8fc89'
            'bc14eb6f83671d613360567958b364419eab1e7a988524fe2dc45ef3065a0b64')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
