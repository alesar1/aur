# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=71.0b3
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('75b8d71d46ebdaf1d35064f39ae78bbff7b4d8929fb392c7678e0b7d9e6fbd99'
            'a5d5ff8058ac4947701dfe6975150b85f4d15189987d8f4bee27fde8f7d40f98'
            'c2b76a360b073a6d847a5bb02b2648ef60015b05128fb8e15a03ea1c89699560'
            '4dab95dd9c0f536e4bdef2329be076a962d44eecf6a9b8be91c01d2879a06f17'
            '8c877f742637824e74147e53797007c02570a0a4208aac3923d88d863c7e7a2f'
            '79ff88c7e7f3c1efcf116a0f9cfb0b87766cfbdcc9cb742cfaf15ac8cee5ffee'
            'e4a3ca2472b53f1df0df4f0403bb81760b385d56b7aa4620d5528852a46e969a'
            '1e5b76493f2c5f7f6ed16fdad7bb60fd46c41a14eb4fbda84f5edba5d879e80b'
            '1095c71819350880e9b8fa34903e772ea9528fbbc337a589de859ba0d4e7e3e7'
            '3e2a1a45e48a2716ef166f9d61219dd38c79d3c8f39c04f2654b240c2f2d4464'
            '3d5db61707f89eb3e2274009969646866e8f4f822e2a7f0cb23796ca96d63641'
            '6a3302c3aaa7b06c8246b00cc417dad921a26b924434d79edc895becddc4427d'
            '392a37b5338ddca3540760dd53bb0116cb1dbd7514c29e349d11a929cf53442d'
            '528f9c508f1bbd55c49f4591827fc47c0445b203045771ca347a11d966558fcc'
            '8db3ff502568f906036e4405c5ac4530d4c117f1bf73692411122cdfaa8846bf'
            '6bb7f405eb7b85b03f04aafbcc892f6e0c7018e26d20e2cb4b64b6d016aa2bb2'
            '87b213bea98a56c6fb85c97eda33b852657be9e594a2f0e7cbed11a93503e79e'
            '5dc62425c850e0d5b4a414060d93eb8431b0bb948dc80ee18d70ed41f2d275d3'
            '0f1ec9bef36c82494163bfe4d767e236ce54b57b3bab4f6abf317511684fce14'
            '4f9c74b6902dacc5b9ab6f1fd9a794ffbca44a070b2b2cd827f74446640dc137'
            '481adb47ab809de5dfc809689b72183aa1f9e7b98e5b7500035f0fcf58310208'
            'f68bbd56cee2e8931cdaab68f27f4d1316c2597b27a0f1a5b8c6ec5a5f059813'
            '593611a4d162f50e84d6fc723f80293af39532b9c713ea3fec14521876295119'
            'fda9160d3365cc3d985f82ae7cc7af697e06c7320453f5d4fb562164409af667'
            '8ba008d6e3da2442ae8494f31489edf4bade4261ad73ba31673d9090e8ea55a2'
            '6dfaf681ddabc53489567a56a2bbbdd2bea8d00885bcb1ce7f4d612fa30d2f72'
            'cc589600a440fbe3cccc13fc05624d85c4e93bdfe086ab79313a953638054113'
            '59bef7deb56597ede2ded031338253ae40d8b46420f5a13c490ae70867d92176'
            '6d5c9e134eef06737834d92673aa57b62fda2734100e17926d39b2c34c96f298'
            '5004534d6b1ad2ca4718be54e7aa4ae6c3d51a13a355315dfe81b7975793ec1c'
            'afbcb5fc9ea4a84b0af394c76bb975a7cf59ede40fdbeb17d6b3c12a4964cb51'
            'b07a1ccc9af36dfe1d01876cceb7f4497978e6502a50159976e292d2c5f7799c'
            '8c65e49fbe25ba938c31b349fe81b14e2921129a705a134778f1b371cc671a2c'
            '6771cc33c14dec72c218c4d51ecb0e5917fe0d5ec9515728ad97c537a0ae8fd0'
            '32bc2e0b3a718f445ad5536c92837e78df45168f4d89f9d2b96b026b2f96d1e5'
            'b30b988d3f36bfd0a4df6301408faa55ddbce3cb9e21ada6ea5034acb6e44609'
            'ff35ea491a615999ce738ec9a958333b0d01d471c825a55b0d925dc418436c0b'
            '497a056ed68c58e20accccd5a758906421d9c208d3b7e669d3e27325fff77fd7'
            '1dadbb8dd6a1edb54e9f6a57f755a33fa12788b85ee1fe303dc6e48d908bce7e'
            '2cb330409b60df452d45164c936025b226235166f576a82e1e9fb98e99e98bb9'
            'ec841a449ad030e7575a08e5ba6933ae32be695fc0bacc86b01968d408348269'
            'fe330bd1c5515ce453e8cbf525e34f7fc635bd924e8a4f207a6812e1a0e6129d'
            '8f67b52e5b0e400d9f11c23c75f3e78797fca63043635d7640d41f6efb39c7e2'
            '6036d34dc012f95f0202fc490494b6cc404ca6a0f6ce9b994b2143665cf47147'
            '7de12fe86e05bc820ea369a66a8727e6909d55e481ecedc7c739802bec987d2d'
            '558302458c9eda89f499cedb3cab9408790d5d05c0d2e8e58e56841ca8ab0a86'
            'a1476a09e0af3ea07ab7680ab270944cf82da66b67a5f582dbaccfe0377affb0'
            '820903e544bb78b56e1b97883e1fe5dde73cc6828dff6114b6b08cab7fde971d'
            '4ce4f4607e20f98689bc8151967d02c7190b5af5583101b8477abc6f65adeaed'
            'c945ad4a49273f660207647b6b65a1cebbd83ccb07a37ea6328e22e27df4f8b0'
            '18ca160299a20b81ff654c081b650acd6914dd4292bba3e7e48699169318a6d6'
            '9d069b7f7f12e4dcba9e044b16c6310be30d6258a1c7fde9930c3de8a862de06'
            '16ec9901d9e5e709604cfef845db8f02d80e25a74f33ee3b285aca2628f199ce'
            '9ac2abca4cb81645300dde32b5ed7c8e4e12b878050ffd5368090666cb828347'
            'cd8db87bbd2976a84b547a85eb473eacbd846567992c45dcbf48f2e3197c655e'
            '9c2269944e2590066e6d3099a4be03983968d2ecc376416663a60c9d3dcf9eaf'
            'a21eee39ce9550ddee6e72192afe8de37bb28fa6349f4656117a4c15be44eb85'
            '74867901479e1093aba03954a67d8302a55e454f05645e3b2af64902c9788791'
            'd3ab76e5bb660aaee058f83f4174a6208a77982de3a77c565114146c35517db0'
            '6703c380e8612da750aae20fad0b7db5e570a9ececf13bf8d0eeadf7797eda55'
            'c5f024339a6d7d1f9e64e5e8f9104fb3ed03de0ad6b546fdefb259f354000b48'
            '7525e11012fa81d8191dcd17243296ef35a62e0dc12c414d1a0d1d76b3906f9f'
            '1f6a830a0ff6ba22571f48d6b0c95060107a074c4e2cbe90545fa97d346c20e3'
            '4d41c26440b2179efa7ba679940ac2c0d18bd82a305aae369bef20a616403c3a'
            '309959234b916446c9ea34e450e47af5975cf9a1e85f2113ab2844269ac0ac85'
            '8668db5c97f61f3b835ad4edff71f13fc922da1c86620a074b886b6889a497a7'
            '24e7160293859e7e1a200c2d30838dacebe9bc5468fa0743c2de6e598b259fa2'
            'dcb388197ffb49ee1c8891068dadb748290128ebc66311090893051022077301'
            'cbf825d52602bfeb0d83c1869b938ed4cf4e9cd567c4108f13de382e688c05ed'
            '4a3cb547c62831fb321753030cf0dd70f3d7590eb65de63e453119cd2b504467'
            '61e519506c8deab27f86b588822c2a98546e268954c555a8be78999e3092d9ea'
            '7168f6be4ece3ca5cd6953322d9cadb2b7bb1db318b71ac9673f1d23f6851a61'
            '15cc3c22e215deae9534dc502e41294833c6ac4a36a81fd38f9c15b7a3d1aa8b'
            '2d1e6e4cb0ca826a4a49c84d1a6a98065d51f8627cf3cee07a12e43a5004d6bd'
            '4954cbdb7092fd8e31cf02d6e7d930ddc7bedf82e223576b42c6b131f1b8d0a2'
            '55ef0497344e4f4a724b0229cf0b05a93163f9f2c17f4f5f90f14ca2985937e7'
            '33e4287cbe3e94b6e9a2dd010b10015f9e3906d8aea9a1dd7c4a44062abf49af'
            'd0e67d1ba0fdfb7d58047edf8ab748f1a41e5a7b40e7acf10ea8c9260bfa85dc'
            '24677e27c0fcf16da03b60008612568d333398b06e99c4aa306b7052c9a2cd66'
            'fa798ff4ba2751a3d7bdb3568e03d0266b7d1ab6a81cf831cd80d88988622628'
            '6cd1ff3c222fd3ca52f400c23d1ee1e790e0e1f40ca357785276f0d7548027c3'
            '5719ca83f66c043fb586c948591ce02b23f021f312d1b864f6eb374ca0bd4c58'
            'ee3f564f1af6058705dd6175342043b89306c41ac8d1dc28dbd19c1a195e4ba1'
            '3853a23e56ed6fa49a0c72e6ccd85d1e7ed600ff5a85ab1125b7ae5ace0b23a3'
            'e5e604b5d5bb6da9eb2011840bf0ad9506e1e9e77a39a5c3e618a2c4cafc14ee'
            '6dcf2b9882f0c893a03028bfd7c8f3ec99e74faac881a37f338836b8e79edd9f'
            '31672ea6b7184ba0bbf4e54e0557b5611d1b3dbeab2d99dcfec1f1e381c05118'
            '89f9823565e148d9fd79f25d185dc58a1eb09500afb91a468f6510a31723280c')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
