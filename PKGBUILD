# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=70.0b5
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('3c045fc5bfd7e58b73aa2ca8bf4a0a1a995a941ab31e203ac5c8a6b8a610d2f3'
            'ee47d1a0ff34be60cbfd9399f683713358f5d1ac0230eeec6c00781febbb84c0'
            'd54557bfc875badb32a05a5c0a69ca9472e8b664c3746f21e6e13b47ab6e3411'
            '6ba6d0a6d3ab92c8cba2fdf4c024f4352dc6757fa767c2f4caa6386365cea59a'
            'ad6690207dcb66045dd533758b2ff3d64b797faa2fe64b82eeccd51a37f0993f'
            '3088e0cf04f312ef21a6f7610864d27017614e99dbfdbf6adaf2ee82ffa254b4'
            '76682e830471bc7c96554a7ac8b85a87950ebcfb7d8ab48625a01a422e9bf86a'
            'b6e06d7ed187bd6ef6d7421e181873bcd43716eec9e6500d173acb3b698971aa'
            '5101c02831824985c150c1d21f02c207bf9b7492158740ba8170a1c6ebc15051'
            'b77d15d392c90f5fa4f97dc78f1e7f85ce9c3499ee1dbb3a117391cdbeef10ee'
            '0cf75ff330d7cf90ddcb2a48174096b8be893c3670b19c97ec38114e55f3a8fe'
            '1425976f454aa901678c5f320872b2459651a30f93ba3f36ecaa11bef8bfffee'
            'a4de2b6c78814b705a2266cb19d1240adf073e157730963a977c263580ebc452'
            '28b96f21c25efe0443228c93e48e010b25b586c4812829420e534505416e7a85'
            'c0ab0cffa3ba729b28f774145c29c48c3d905b3c752528a73da3b5f799740f44'
            '111b33d8816fafeb5aa75636733bf114aed239d9cf329691652066a22fdaf166'
            '351cc378a8ed169d93486b3f6a513b1ff597f1beb2a8e06facc423ce290005eb'
            '50fc955ed7b2580eb23deedf9a69853fd845e7607ec3f18f0caa8f54907f4bd6'
            '0fcfad155c1025384a1ab4a6487b8c78a21e104246aef54c1b2d6ae77729c7b1'
            'e66a2aa0c0418ab5c9b7418922d19372fca38311a976858507fce4cc5050961b'
            '1a88519471e216c53ca673670b77bfb14cad05b262f37fe8bc0cfaf2e1afd331'
            'dcc6c240a0d8c49e3fe2105596c374ab55148c560dc06f5518d3795d8b1edad1'
            '01a0bdace140faa94723b7df9f01a9fbf2fedaa97e6c1b46527c8ab7cbb3b63a'
            '89893b061363e4f09cfcad01badbd269407a535382fc08331a82e290bb3349c3'
            'c3b8bb72aa93c4349e247c5ba5bea84dc40a41d419905a6b125d70e402a6bcc4'
            '5fd0bbefed3939662c14accafaa7060d522b641e38c6f8ea85aea5725bf149ff'
            '818e553e3aa6ec3ff100cfe04f3849473b35c3f6af5defe7eb4fa8d6da0b379f'
            '46c5ab01f5ae310902132370acc9668872b683a63983de3d0bbb14e8f992d278'
            'dc3b4078e2c2bcefd36c68a66ce15e5983f66b2c97fc00c1f88383d0266893f1'
            'f2d00254e2fce3d8fa4c5df6efede76ccaacf431e0b8f4206a2accfa8405a80b'
            'a5fe0bf499e763e324758a32b11076b99c9d194fec3cafecb1090dc33606f9ab'
            '0513d0552bf0bb1fa9c61b5c1f1c3d7b1c6234328c7ab4db4a12446dae8c4ca6'
            '1cfd731441a99228e8f9a535755d28002e5248e310abeeb4affb3fe1d629861e'
            '60d5a159721849bf4b4024f39afa1e3bf43fcef70a1030bca04944d44a27a2cf'
            'c1a2e112301371b33ac51fb03ff615b1a479dfc01e4652a8dfb7a153e41e817e'
            'b17b423fa26986524997b5083381759534e79367078a3903a2f64adfe1837fde'
            '0ee1d033e81c7df4981d4b55e4b6f56cad51c0403badb15f20b8153c93c0c965'
            'b298f0cac263bd3c32d2d9aeee23d9c135c62c07a726f6931fcbb86c280e9554'
            '272d77cd23f45e9cac08e1bc540330c90f904b46f91dd76add0ca5e2585449dc'
            'bc820463d30025dff648b97ef4c9cc0694585114c1fddaa2a9b7d0892fdf584d'
            'b781a8e22662cea31ee88c66ea8deb79011bebfd59e634433cc99141e88e116a'
            '878c09815fdb8f73a361ed519a022c17fd170e7cefef604ebc4a418439292d50'
            '4e0d1f542e4f965787ee81ea33c1cb706eb055dc3f476864e83ee4ff365bc4f1'
            'cd875364310bb5efa6e03331a921b336a4d4ac7c12a9693e5c13295b7062585f'
            '56b3696c2a993a84c9dd0c292bd73ac7f4c859f8ce214a706672324712009056'
            '265b80cca00bd9701800ae8ee7964d0ee2467d417f2684c5fab7dda406a70443'
            'ecd2dcd95c6242eeec7e036f37fa8fe8ea5cf9d70c3769599d49be7548efee4a'
            '3528a9450ee2beb830241f948696a75285889ebf29f97e4c5fbcbfaab5f7d3b8'
            '3c1d201ce74485b1112a2ea872bf6845e2154348e22625efb983fa142587342a'
            'fdf7895d218930fc62282ae0bb66ffb6e2c4e6747ead69d3d100a1948fbb52c3'
            '2120076efe409d1cba9c8714914f54d4f75cf59db436b2eb83bf06933a99c34c'
            '8e665b856b5d8e96cf2ca8ba50a816a2878a47790128d359873ed56109b2f5b9'
            'e139e1011972e474880291a80413f0cc9c396ff18e092acf21fb3a3389edd142'
            'f7af7976ddf760c04c20233abd79fa37b268d0538b2cdb7dc47ccd71ba95bc1e'
            '4aba2214c32076f492e6b69a94692b6df42214c5bea73fea00c474be23dd0364'
            '18797f0dad5a5dd5994fc6d01ec09b2c51de193a7fdcee071333d685050df4d0'
            '9ea6292c2f16c6084d4292de1d0163504f05aeefbf196d0483327cadc89654ed'
            '583ba6f53e31a3327b739771732dda9fe4009bb4ea63484a4a25be5b29e4e157'
            '291f58f4075edf2c08350df980ea927e493b620d4d922d7ad181da201072dd20'
            'd9091f5ca2b87eb69635588c85a99b90443937581107fc7e969da6598b8164ed'
            '2934132e6ee570c3c81e1856637bd09e6626a11a4bae3a3b7bd01229637b6480'
            '54d27a42c5127848cda6bfb5305b6ecd256930bddf1688874b22e3c1949b5d90'
            '1ba1dde63370b54e7aa589069ba399dc9d2d6b9672e3f9113b57be7ef6e2350c'
            '34065732c88b7942e5868183dd39b6cbd191e81d8fed37f6eff019a107b57406'
            '7f8f02a38f38e398a59bdc46ebfa3bce9140e62aff8ef334fa9e86c4d01a2b9d'
            'ef4fc5436f1426a789ec2d10d3734d336b48647747cdc4eb4054ea1b7e0a6413'
            'ca32a753ec379d14967c2301277b19a50453b52927c361d33beb0648ca342f79'
            'c2cd3541309789b5d8844725b8c4c3754206e1f18e52fd6d12252cf9b259adc6'
            'd971ae16748025a92d5b19c4e11e451da5929095d39d7fad0d2f832dc66be4a0'
            'ed17ce9b8e19db747e2ad5393f87d2b76a048d30b3fcf44b50e612def556c5d4'
            '29c0b0a4f74c556517a634a66c102d30221dca2c6f044767e5223ed526690edd'
            '5e4f357b81f1dceef6053e42631bf92eea31676668f77665421059de48c34317'
            '90c0123ee28efc6615389fb867c7a77a9bd20aff4900387a453a5cf28411d449'
            'e704fb6dace8b139a3ae35bfea127b3aa6ab6297c3eefcdff7ce9284c4244ac7'
            '92b02e613b471be3212f00a5d088ae42e21484a522d72a1d13b1f92f0eb72e76'
            '67173c8c781135f6690a7ba02d058e31572b8fbcd27de3662d8cdc414d4007d9'
            '1310c111f154930c980eb84afeb308ee4eb5f6f9544e3f4e4bae49fd5ab282bd'
            'c290149b76c1a5385245ce52d01db0e1d815bbda32def9af51a0d3cb4c55d907'
            'cfd899adede3105f5f6e08dee06a737535c45c1881634394a4e39e74affbe6b7'
            'be9ccad15a5ffdca08cc85db342554a3f7ebfe27d1328c80195c44e989bdc596'
            '8c284fc72ef62381b353a6b780ae52708b7661d6e1805bf3506f571819171669'
            '3ee8905123ea02313071dc6b93135f6f417c8ef4bf366653394eb9e3c3a57bc5'
            'a9770e345559d565c0195638b9bad71af80357157ceeaf992671c007c9b85599'
            'b11c67aa94902898abf9e222182874577d8227205943ac27260a3528199044cb'
            '51cbdb0e7a34cb7b2194a34a3f608a83c3ce1520f2ff70ccce9f7630c14a96a5'
            '9c288543dbd88c1a6e6820b9cc8369ca3f385b72f1fa418cb7d4c49e27135923'
            '76e7c5d51d63dd23148cc49c1713b0d5bfc4404f965a89d4f0f656eff599ad28'
            '19ea8ac4e746e3d5321aff9cbc958d72b53ecae0a395cbbdfb5e8dbe1012da0a')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
