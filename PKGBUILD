# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=71.0b6
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('aed64e4e63f9e5bd01a229be7ac56a9cc666f18bd9c75d5f038440c0ba37af15'
            'a0325b0b577a26d5f8399cc1d67f79a97671fbc286d4077fbefe6d5b2917d8df'
            '7086fd82f86588088e93d3fd3b20f4950dc866664d22d52ca0cadbbf5673ada6'
            '88c871e692f40c5dccb2329af7f245e8bf232bf9990e94b360279a43974b3d46'
            '0fa1f61d9398a79d102cb4a81e57e826d08836da7f1e116600433deb7bb1d056'
            'c69daf6a293bab21f6d8de1fdb04fe83d6a8b68af0c9b50199df194a78398b3c'
            '197d329f78339c1bb1953dcfb73d8c9a03624b456c530689a2a47895bfe1d182'
            '6ccb12cb36e6e6166fe2374df072379e43db89d45f05c5bf87720c5e0e6ffa6e'
            '8747d71f2307968bc6e6958a18c21f72e64366add90997cde2042ab7e0474660'
            'baf4feeb250731a17c97e13f75a40f97c94bbd1bbec51f69eb1b62452e72fea1'
            'a5a58a1602beb61f385bc90a69fc6c084a2a1e80c20b90ce8387f9d8078c959e'
            '0ec1b85e70867837be095f5cf69476f08fd1222927d070d128ccc134883ef85e'
            '66a96d71fd91a2b9d95ef2ed902ea461413281a37f2b2b3f66cbd77d7724a2f8'
            'abf8ff9ef949f5c7cdf8dafe416eef1e6dbce1d18cde74cd2e5d1a60bbba32b6'
            'd52d5d28682c247dde6d2dffb629f376eff989fd57727b5fdd7c9f9342df5253'
            '314ec9c3854a3d3cc07058b05089479c8c4c989ab26177a645c0d688d2b71b8a'
            'b59be37b1ae03ba950f5db956ff55501e6ff1eeaa1f690f8e4731db504cde3f1'
            '9a7ebcb52a5dd872d670de2fd54d596dcb832257762f615d570581a1267500ea'
            '4adf7d3454c857638a3bec9727797161a171fb309216df16af79a0190acfdfed'
            '975cc003f6a9e520716011de5e69c2c799b49817ba89fb7fa6fa08b2d4bf3685'
            'e6ac2e06f88d71f98ad6c7bcacf86204194231ff099c7cd1096fe5abdea30fd0'
            'cc312b248f88d49d0231de8ef078acb7f820d2b36df1ec2ae23ab4eb3f3ea39c'
            '8aa9097c8e5ef931a958cb879b66dd0be4b7c9fa1a23d6a989eca5a150c546ad'
            '3b2b86c017df88f5aa938d235aebdcc97fbf50818579d23e55e94c466fb9696a'
            '49d8b177a7ecd8eecd78279278a1a420161130530653b74b37a6fb87945fb3b4'
            '1f47dc03521171fa9e1e9004c7a06153cf8e5fe2a7e8a9530c0403597f5b8c8f'
            '836ea50c43d9e1b45aadc8ac495948bebd8420272139655cee7c79fe5092261e'
            'e468c20cf47d161ad57ba8f639e4942af059652d8d54cc9b36ce303acd47c9b7'
            '11eed645441fd911a027a49e047d376e21e4b5d7611c163213a1ee8c734ee5a3'
            'e50c9630a12c95ac74e799b4ddc8d20b2ae6770b4ec93de880e1bda69eaa1a56'
            '92aada1f34529a1611361e4db2f00a6e0c611b533ee24bf989068b0c89ae02c9'
            '842ecebef3ae8a21f6c3c2f035fe4364d845bc1a21b4b6d70dbdcbc7fb2ce835'
            'b26f01c1cacc6b18b03cd5738be47ee1a8633c62879fb40354dfea71b5468f7f'
            'f4fa736a01954246f5dda1b952c2c140ab97ed5e2a1dccc644192a767756043c'
            'f9f033814afb050a864ea7f84eeed74946e2d4412112cfa7c727294739a79346'
            '1ad6796b74aaa8ea879aad76cde54bff90342b75ad5309d3f922b8f21e81b754'
            '9cf41e0a04ab8fd6e58c66377013d8f3b931b48fab0d75debee028664f05364d'
            '22e3516aee703675d1f245f7a9cabb4a5b8e65f0626dc07ca93a14899529c564'
            '0728c368621472dfe0e432d81bd2c29febe2adfc9fa13840b4ce70de700e90c5'
            '0e65fa45ed152716ca156c29d6238b361d37e92a145c56400ff0e10a9f516c85'
            '622c302f3eee46a28c9da1812d80bc066fc1e4607f519febd66008f4c2275b1d'
            '35c1d8561dd736c0124fae33e781ef0891266f32849c4d47a765a8c264cc521c'
            '3ae65e47ad1712456d21504d6b2ac0a1751a4c94226c780b310cc3049cca50c9'
            'f7e806ebb5737acbe15452c6896eb26437aa984069b35ab8f37710bce65fe452'
            'b42cf1411fcf3447d93841c445cb7542d40588dd161ba0ea5fc4c09f84f832f4'
            'd3d5ecf06345fc1d8c4d71536c2f8ea93bd45daf0de146f5b697450eaa019376'
            '7d9a82d66416fbad7ac4029c46932c37f939322b79c69244c90293e5d1760d50'
            '32e18984fbf36447330ce3fbee3b08da1fa572b3de1aba416e814672e63098ef'
            '8a31aa048ed39a6c138c49e2cca781b35b426e36e4d68988b636794082103a16'
            '937eff12896a003bc1920254f74641fe2873e1b59dc0437b6723b325de8c84fc'
            '99872114a1e55dbbb4791c690467014e1b723eabb3598972df6b4a2eab8dbc9b'
            'ad32b976dcdfab9336367f9d027eb436d0f45750d5d05ccdb99e38ea2639695f'
            'b1302369517325407b50fb00224f926422e805650a65596e3058f8025ad122fe'
            'b678474372219a2f743b3d3d4a9b8ccea8ed9ea1f47a4542bd65e33fedf8dafd'
            '466b28da5ef0294a8c0119808d44983896bedb808cbf50f70d3bdf4fbb304da4'
            '2470b216303ce9464676a475741ab197d19aa2e412997c4d8690205b76e0ea9f'
            'c65c918c1fe53804544fddbcebbdc4f007d46b91775d068da62360e08419d261'
            '570b425b6f673e26d57da39512bf0b5ff397aa68f8d91ad9cc8e2d21540c28ea'
            'fc44e824929a71fa864e1b1cdbb553276b16ee19912980a1a73b43e35dd1bbc0'
            '8020bd1c5432af42e7ac27f589bbb75597fcc0b743b90f42a754b99c5f34256f'
            'fe44f4d3909bb23dc367252c2db4a24c7c6f27ae3564b08fbcd4a04d24900973'
            '5da3f040a3752c08539f48baceab9ae7ec9ce967d03eb6ade8ff7407bc5e89d5'
            '46f2ab08eabb0813c59d11a94c211361e7f4997d476d965cf87e928a9be67359'
            '6bbbe23148eaf617d5f6e7632b8af8c54058561972d112bbbc77e869557f284b'
            '0839cbacf5474ad587b5638016745d3d03f2cd0df4ab9c58dd38a28135d40535'
            'd60cc4110a39a90f55f7f0a62a8f0b1587e45bd91a760642cb77cce71091c739'
            '9e884ecd1164fd8550bdcb6f4dc2aa42db1ce87e497f5063f0df7bd1ed174b8e'
            '8132fa1f6fb7552530ca661b9a4b225f11b611f3f5c96ef7162abc8ea1f48ecc'
            '8803e135a5c066f694eb89fa04a794f51b0a14910d7c852238b7b562320184f4'
            '9158b1060d52fd7582b79b2a7b19112d1d00eebfa126dda416477c1335fcf12b'
            'e8557e19f8ed01d569a8f5f71904895fb83dd697fbaea07c3a9b56cbcffd4e18'
            '87ba9ff70c9a8b3ab6b908a935a5209b2d71faac4762066e1600c6fefdc8bf23'
            'de660a64c7656eadb767604332d12bb61e3111d4c2176bb32e4b5964a880f87a'
            'cd94b9c09977b9861b9cce47f8c688429d2fa8b35918754f75592f60e0275c70'
            '2fd6065afe70471eabfd821b57f0a8763da55b074a07ca51d66a6dae1a24ea96'
            'b69b7bdd232a4e9d6ae2892085882aafe5df98f9766dcf0a14f04624094c3958'
            'a2dd727daf1adc4e63836e472d7c41f64e84a0014987671a61b343eb91e9c4ca'
            '53b44bd2bfb75c429f71b606e8bda32008164e6c304d620594c3823f43d71b8d'
            'b35f5e907dfea385b63507d27881e7bc2dacf85e127d6887aa6cbcced366bebc'
            '29290c9e1a9a510f41a7921bce20dd189b37a7aa9ec197405a70c6e1fca60e5b'
            '42ca5ee4cbea0cd537c09d1712f3a4db1c26959fa097cb4e9876a1442efaf5a9'
            'decd78ae7352d6d23b4ab56fce2b7256c08bc311711240144ed23d1388aabf3f'
            '998e06c980c281c19d37d989262c6dd17cab9ddcb49c599b42d9a990e6b0b150'
            '1363716b6863e6b63ce1e038fc9ea2bee0d0efffb1c141cabd9e14a2c171271c'
            '79349f040ca030e5caa31a9a9c01e2568fb0080aef185ba6ad5f3732ec402841'
            '3ff42ee0497c17d88758f05169ec95ae2fd682109fdabcaedbc8d1a51cfa96b7'
            'e41b39b547f978dc5a3458ce9a3bcfba5888a49d300d8e9b91404032e682f799'
            '83bf43a696609f960e79b712a371e1b425db16dc320859208eec915c975cea95')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
