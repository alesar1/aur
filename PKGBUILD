# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=72.0b9
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox-beta>=$pkgver")
source=()
sha256sums=('383912f6fe13cb5584a641490b56bad6ec22e8cad66a73b1346c25a00d8a7a6b'
            '295d09a342c155f88fc8db54e1063b17321ce6c071a630ffb9d1e0159675f7a8'
            'bcecb63d2aa79616bdbe35afb15caffb2ec98e03bc5580e64e18a7c7af180df0'
            '0fb77f50dabd4ab95a5c0051c57219935c26519f8d2ab9245afc25cbd9fa657d'
            'e69ec8f4ca641e7440caf476346a619868f5de7b457141efc53c1c2ee3cb6f5d'
            'c670e336f90d95fc29debc2a7b9579efc9b79eed31553384000934205ce69f1a'
            '6bacac4f681e9224451f1c166282aa767b991f7e190e1269a65c620f4160bc87'
            'f600a73d798f0c4f1cfe28aa66aa2f4ee781b6f4a030a6d15eedd8e649037f7b'
            '6dc4b87c1cd9ae1784453ddab66e676acf9690c1f04c874f20677220c9f6c068'
            '433e1f9f376c397d4162ecded3b5b3ec710ba167c783ce517d0705c75fb9e11b'
            '7f9c6e9c72e60b601625741b9852c92ee2bcce57e78a1ecd5ff1986f58746102'
            'b43bd98934ea529e0c7dcb74496f4087638baf9189de3cb8b6f2faaf0b91e1ca'
            '4e505745df823fa5e2bbfa4da484a6761d38c5b06029756ab783c28c0396c24f'
            '2ab839aa611cc3bdfd88fd196acda79dd70f629a6d33a5a23c0e5dcdb22fa366'
            '823a3f55553cb5f4f31bb3045352c735535271c1720495dbed166eb77b1c421b'
            '9b46e1ac161349d6d9496ebe78ac8dfa796a1abc75c24822dd310b22e36a6752'
            'ecf6b8d693b8f3b557139864f046dcc22e492214257927244e290e475e7892dc'
            'db5f5fd837eaf3099679a29ccd91dec5bc8db799086e85d48881a56815553c78'
            'ac9d2d0398198cfed6179e6ac89806bec5bf95876ef8689b0f2803d59cd019ec'
            '5f1e8de03407bbf58cee7ecf93cebb62ee19f9411bc0ed5561bbde150eff32a6'
            'bc7cce522bfd95893c7b0cc0c7c668d4aeddf3e075678ef8aada60210af287c9'
            'ed4981aeaa8c10abbddf47d3cf7add013c011ffb7b19923b69f5f90aaf79edde'
            'd05b6f66976f46ceeac178fe15e753086bfa96f859cc35c24870e3526a617006'
            '7a8aaf76bc4bc24ba2d810b8c7f4a17de05cabc47b3d167ba6d189caeceb9f86'
            'cb8e897479898cb3f1f642bde14a04663dcde63c18dab5de3086cc50510d26f5'
            '6b6b4f2835d895c61e4db55148fc7699bfffce383d0346d2b0584668214e785a'
            'f3dca9b49c3644481185ec7fa26587cc454cc0f22b89f91e469d7c39e1b2d826'
            '7a700c5078f1cdee9403fd37ea2d606eca64f5a889d975bf458631b564c53cbc'
            '5fca604dfaf791ab411e8a6aef1da6c545d71b8fc918e870bd448721bdbf9b63'
            'a6eb75071375c261c79a8493943b1950e3780117bdc8e482042f81cc6432332c'
            '482ed04d85568594eb1691f489a37b542f4d15bd86fb504c1ed04e61fb5747ab'
            '03cf479ee03fb89a179b5c91c3e2be23326276fdfa6fe783b077bfbd3ab3aa73'
            '431e87ef53fe1a9551d8fb127345c87daf409a27f3f1e10494a68ecfbc9f7eb8'
            'adc89ebe96a3d4549f8d2add26a5078c6ddb6772ea28b95ac8c6c65bac9c4ecf'
            'c586014c5d4ade450e404596efa30a653008e7b53abe7092ae6ec1b40a2360bb'
            'd1e65f18b6a6b3c465c3e41943c2e41aa0d1eca3d7e6d6c2bc7e3f285722477e'
            '0b7a21b5d16db0c9779f64e3e1d7cd61a307560d45b55e892e85bdf46f025eb3'
            '145a01b18cea56da338d3956625bf51131a6b9758c2d361fc1cbf935b4998b06'
            'cee49b4e2ebeb7d8b00333fa33694f5a604d9c61aac5503016804079dc417afd'
            '187a4a6de6cf8c6f6ea5cdee4a2b561f9437f0296a523f643d8f640351c91986'
            '714f1148393919a48c402000e9acf0544165bfcc1ae65ad36106e814a55dc921'
            'b47afa8c1f237d607e3efb9f8d47d698064cdccd896d93b944049dbf18c964c8'
            '993b29f7c0fbe3404efc7d647261eca14c766ebba60f5e53f085d4506a87220f'
            '1b434f504e11eac63df89cec308af7c507f1427e36387ee96d63d1b60139d4cf'
            '7ee45448e7a806709636184b6be3b13389429243acc8fbaf7ebaaa21403f4665'
            'cd9b2e95d5606c44aefe9e2250818b67c3a5127f452375b68fa09cf8713a6c52'
            'f639a564e2a6765bafc9ac66e291e4f754059548fe97cd01ad5c9148920531dc'
            '476c8729595cf4a4d36ef78ec71a180dd274f3d482d23b817e7dcfd5bb496be9'
            'b83b25d55d2fd031962d198ebdd374bc3bc18bb44740b8991ccb5d4dc437f4cd'
            '39b5dbd7204bd15af840ea419db0ffef0fc7f1beff503d843d2c3e1964023abc'
            '3146cbe06f0843ccd5345dc67c1b783a7c15335fe8fa2efe4581e058f39e72c9'
            'dbffbf0f0315616a1d815eb6fb851d0b934b64ac4c7afe05366d08096a414cda'
            'bfe34816f7a441aed13763a019a3e02f1a6bccb90d30a9c1c22dcfd248f60775'
            '37fa82f727e853610cbf442665d007ca6c22d49f6c34a8b348bef1a27c7e8e59'
            '42661fe4c8afb3d5a265952fed908ae4cb69c874832ec0a0c8e5c3ac74c090cb'
            '0b09747307f615cf19aa4cf8fc7f1822dc0ad091b184d8b7e43bf12fbd539b2e'
            'ac7b82f9a022bc5bf096b2bf1504487e128c220e3802a3e55c21a8bd8dcd8da1'
            '51369bc18cc7426c53c7551d6b4fdb0b9c910d8b2ff68fa669c5f9369c8c828b'
            '092dda92305f05df27e67b837b45c6133543a1cfdcf4bb2d6f93cbbc2a687db5'
            '39b03666fedc47b507d2d74e513436f431fc9555995324d23543174f82fb7a84'
            'b8b09e158160b5fe06a718760173be81338bbffdc13df472df3601bd9d569772'
            '060fe72975fa9369d1683ab68ec3078448c618d444cac3fcd151d8771276342c'
            'ec1e0db822c6189d92b305c6cc13534c14c55f00f3f00028554aa39bd0d84ded'
            '6cac8a2fd4884fdef5c5280c05f9a3e78b3149ee82a7a6bec27e6708b1814cba'
            'a594ac3aa8e79f05aa33722a1b6cb0a8da7da0cadad9aeb28dbf40cbef03b6ec'
            'a3a27408e466a7bccc9f0707fcbea0b5264e34e554e4553398fc22736341b62f'
            '6132dd9845310f3ef80cb2d055bc67354848424a82bd14f8ccfd29b3463efd12'
            'b649c5dccf74ca481f597e2622ca60dd2c8e2d2ae430dc18f16cb1cf56589cfd'
            '7de42949eb792c3ddd85aeaa3a0ce7c7bf35e821df306d257978011ad0eeea9a'
            'f83f9424f7f7bbb354a564159608604e642a475962624eaa505db4a806576186'
            '3623aa6de2a95552f2d7322f11d67c4d96423229d9127cfd64ea2270f14fe132'
            '66eeead37bf8eeeae697af81d4dd6a094fbc22ab2eda5eeb843a975fa7ab5e60'
            'acaa25c441c1cea9edf115ee3e5b28e59ccf2282bec256b455666f0cf90d7358'
            '166ca88a9ae9c43fb4b489a714322c5fa78eec0bbaec7b7d359721ed63bd70ca'
            '1f396242fc4ff47e281b0a0f68367080b4ca773192f20c167ffce69390ab7f98'
            'f8bb9fc2a3cd7df5e194c49d6c64aaf943e9cb1b7b4abb68969a6d7fcb74c208'
            'a0ef137d13cd1cfa99ad987e4c5c9b35df1e2605c5a0ee8bf94fdf069b8750b8'
            '6e9bbdfa88ffcefc2307eef0999a9955478bc973461ab3279ad96c8db5a6cfac'
            '779bef2730afc4f7197461b92851c33215df3c53c0fc3d0420f29d920e69eb8c'
            '391a344915e253e6022166405897bccc1102eba6d6808763e8d744f880dcc4f1'
            '6459e7135de3064713aea066a85f43b16fdc9fed55b05e999485ff96d341d012'
            '369f2acaee650f1d7fb9c3c3f6eb9fde296ce6271b0d03c7852f71d33522c035'
            'eb65b2cceb640db47bfb235036dbb26305707e484cb82e9e902da5b0c9042f86'
            'eb0582fc31fbb8756d790edf1f1b4553361dda47c1eff443b275b57e7c48b3c0'
            'e8141842edf4af625c49bd5f1d005c714ade6cbc9ef59ef7fddd9df828fd7b48'
            'ef24ce91d692adac110fe4cd1c8ed2d77878ddb45e31e5db8771bc7c2094f6db'
            '64c5344bfe87e782560f93d067cd00ebd56193a7840302cf2d2aafac55e2ce30'
            '67b18cc51e7e3f1bbddea98a0c692e99234e9ba457bdd261142d548d23296720')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
