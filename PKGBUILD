# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=70.0b8
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('d7e35421c0599caef69940e103c9942f0b49cd3db54c802838071e1aacf1dda4'
            '798701b69f6161b0bdde66b54d2973acaaa472c54238e87871c47acea2adcfd1'
            '081e70190f362fe9ce2fe595cfc12ab5f3372b0fde4e780393e30ef40458bc03'
            'e70a3265482f6484f3bff023217033fb6bc5b497d8dd35a69d5a866c4edc2f58'
            'e05fd21555b849eb3714e234fe6a42935d597a4df6542c9bb62efd7a1d224c0d'
            '258017bb29467248f580bc260c6f4d57a63c979d6e4eed9ff0288a563d123def'
            '20cc80f3634c3c8c7478682c78ed26b075cc91287b0122c1c11082295828fea2'
            '210f26c17bf997ec94534c113d4fa75fd84da22a8751316bf45b57062c9ef06b'
            'b341fa2d130a139ec6ea3748762b37c1158a3f72dfed82b4c144e59c09a08cf4'
            '5cf0f974410599724961996efbe68e971563029b41460175f149a82ca28529f3'
            '5dcfd9199d5ecbd3aefb6885b4d11ab8cd932cd9b5ff5e44437034969e766fed'
            'e503f6f2cf6a7b3be54432400f614e77f199545d33242eed0b6f36e1772dafa1'
            'eaf42e12c3a5bd7bc93da6a2385d661e06ccebea0fdca053c0f63bea1b9037fc'
            'e618d1b5e7b513c1220d5a687af7bccddfbd36b946fd3839272fd880b85552de'
            'c660afbae18e58423378def7e4c3b1dfb94aa0fc7de426dff672a4b8aabb4627'
            '46718d451e6f6752d35378da1b58a5c409e976f9c7282666d725e3d9f3aa23d2'
            '97b4fadfc50ed44f456d4bdbefcc1a0753597539545d549d3a421be568daec0c'
            '15f0d9049c883e21d28cc3ee53adc6b79d4988049939b79f32ad0647b9a92975'
            '4b4a9f85f9526600dd359d327e027b45e9e323545ee62b5a423e3cf7d8e92571'
            'd99398118caa153fdf93e5b47c1904da3d13d3ff8614061415a71e6059acdfdd'
            'aaba4fadf962f6850ae7051bae7ada22bae148d9f465fc00e0d1324f8a13963c'
            '1c91e715c4fead7898acbb574219f01147671519d0dfb419a03def714acafee3'
            'a38e2f769161f03f645471346ecba44eb60a8c6f516e4f374cd335138c04eaa2'
            '9cc140b94e76bfb33522395848b8eb14c4bb9eb23dfb662aa6593d579000caa2'
            '63d7012bc063112635e85b8e258d954176fe8e5f2e959f3347a02c7d86d60242'
            'b2d89abb9b085988eb6ace4438e7018fac381e63bb6260b05c6c775991ab48cc'
            '48b4436f7b9c2b7e20c752816cfb34e4c3fa85e714dca3dfb1c29014f604e5f7'
            '288198f16cfa8612323f99116e5c0bea043beab16693284d8abc844b9695bea6'
            '7d00d40de7f4172aa49c325c169c2380603283a20c24573727e35b05dfb033ad'
            'fa970929413142249c2e44bdec0d73228b2ffd4cef38890342943ba3d990f4c6'
            '9b98a9cdb333e897bd1f4f0ba04023b03244ce44a58e548b627e159c83b8af76'
            'c3c62d27b1c7ea140ae8696bcd77ca5bdd3f3198fd5668d909f71a5ab359f38e'
            '54e1cd0271307edc9d195e2e04fe6c525a38aa6ac7f83e6b12e6b3e209c3e77c'
            '611460e6223b90b387da46c28d75d5134f11474e10151dec81a6acb08d3133e3'
            '224c907f6372488aca9c3125fe7a8304afeca2b3e04f7f48585b770688d8dacc'
            '27628ce252c15611c0aa57fa5b2ccd8e2674ea0d30bd61b9af890ff0f2afbaf5'
            'a6bdfe1849a96b8801b8f7da29f4517c3b2ad4cf86739038c18ec2a59f3c228f'
            'af423bc82cb8dadb64f568bc72875c0300460f7e8e67a04b3407ed067cb96ecd'
            '8221e0729f2dea16a5a4f611d313527dd95bb25e0c38e164a5c37ac28e275197'
            '776a6d50255e1b355adbf0465e2b1f9ac6813c346f371e189f26f34f94924b53'
            '9accfb6329c0b89b5596adeb3736c4bece9079b045261620894dc5231661cf9e'
            '2dbdb4c6188636d9d5dd5456d962166136352cdd55be01874f60dea7df254da1'
            '3e77924dcf0c4bb87111dbd369812845ad6677ec7162baff17079ce7cae129ac'
            '0a7c92c8882da0dfd05e034d5019d6a5f8437f25018f8fca5b25d212d8140cca'
            '2569756a418cfcf238a1561783805439b652eeb27e3c89d4a4dfa9aab1651e20'
            'a1b60755925a4e007d6c3b0e55f8dada8639addb12be7b7bc1d1c30d6fcecd6b'
            '689a8335c4c05ccc90507460afbc899ac8b87b5a47b3ed51b37f11588899c91a'
            '0fe2bd5caa785f6b6be4060fe5b567588d86ce8c2a52a0d33d9de4cac5b667b8'
            '42444c66c784ee23e3475e7cf3c3c6ee0d49192bf3b0119187ee8fe098331013'
            '565aff049e3075f16f1ab0ea0f272bfc6ab171a8677c90e407092df8182aada8'
            'be7be9b1293818ef9638399abacad2e9c03918fa3657bb45bdfa7a8979ed87f7'
            '4d4baebe6e8b395e7a32a739aa6f87693a183d3437e68462ef63b38e1ed41cd8'
            '03e161b2396d2b57990e357c94789b501f611cdd80415c20b6865d5dfe5df69d'
            '8b3cd4b591fa2cc89fecae45060ad0b474459115a83d961fc8bcb89153a84613'
            'b7bf5bc00b4517cf23fc3fe98404a1f4f746d03ff93dc948e032c9c2711b9bcc'
            '633ed90d6485d627e32e2e5835d3bd08ab470f377e7b76cc0cd65b0b34420fcb'
            'b329489645d50bb427751537363f5e63cfbdd938abb028457577b41dffdec497'
            'c5180ce22c78b4e2be2582e2b7768c0e4cd8733d457ca6b68dc49e459b2600c8'
            '21817a0d56eb51e04ace9192bd255e69fd0711e4337e64b56050762d2cc5ed1e'
            'ad602e2be3bf9702b09dceb6fc3fc43f7285b91dc671ebde4835e5f2f10fa761'
            '85147bce34b8046ae0ef0d721ba9bfd45b3ebfe45a5649ba147d1a64d97e7676'
            'fab696f71b33b9e68f448d642cd0bb940217900332df0d154b6b447c6b6aca0b'
            '4c8482d4b6ad48253ecf54256b4caf08815451aad01b378736b34bb334ad700e'
            '38a8fad5e128891e1fd9ee8be5fcb98a5f29219924253524406e03bf2dd73e4f'
            '41f2c353dd187458c486aecf42a5a993242acd2e65c7d12103a45f2daed382eb'
            '6bcb96bbd981f94519a2b224cecc698c0d0f90b87fb9fbb57e324be15742d1bc'
            '848123954ab642e27fa22161d10eaca3faddc160bf4773afb63b58d727e46b1c'
            'ae5f78a52cd8c748b5ca999f512d0df0bd62749ca508bf8522441348459c41d7'
            'f29d539b22703052e2be74c5896427a437fef667ca9ceca7dae02c34a3c97270'
            '36fdac52521c0b1bfbc3dd67fec30b08ec81b26fbd814f721b621f5698d27365'
            '24ee0448e36dbcc4dd4941c7b07bf943008c91eb656ed294eb9975ceaddb71a2'
            '1819b37fb32e4fcb1b34f0922073de8648b1eae3d347451026697f544eac10c4'
            '48b6623cadcb32b3572edca02d3c0f3229d5932b98f9c3aec4d5b014a190f97f'
            '11d1167835c431bc3e933eab2816ebb1ba1aed13e01a035d9f05e419bd28e545'
            '51e61ec1696036b6210707d035360c69608d93673402c2b7733b3506e92c9112'
            '67c29818204cd46233c664b0a1c4819ee97f9f1a7ae262bfb91f7fad02257493'
            '46947d671ba8057c7d4261261661c29adbe8249a602d0567a580472e7706e9f1'
            'a02b44c74b80576df150d580f9722afa2239b517453b05e71df4c1151bfb9f4d'
            'b06aa7ce90107f80c469c1acbbe281026db84c0f0af73dbf0ce1196927762cef'
            '05e4eb50099976ce0c4ee29369ddf84916315aff265d9325452b8565d2a4665d'
            'e1eb7a54638bc9130ecb8dbbba438493e04f4f18a50e6c0ae00dcf50e0731927'
            'b0eb42977d4df186bcbe4235216fed9b7822054480ac5c2d261a492508525e01'
            '87175c06882a718fd067312b33be81fc1f3c948a5fa7daa668b6d88301a9a041'
            '5d117ed37c4d4831516d869ca014f76e50a9041fff7aca6dfc28e9b9757c00c4'
            '96141432162861d2e364b7bab16052f92c297b533ab6a72f06c3f1940ec19f3f'
            '2e983c35b6e7cf19b9a16dfd76346e1c9242f34121e7d64f5cfe07e48f9bf2b5'
            '6715a8c31f26a210ba86040086d458d7f2ce39b79252c1e9b85b7a718b8b11aa'
            'cbe911117645139111a2f05c79183f379afaa73cdfd9844a9ed1787932e43172')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
