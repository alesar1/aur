# Maintainer: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=57.0b7
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('0630624689db27ab4284b4f80b110846e53c36b411ae1f2d226a8362f6a20aa5'
            '604453764c89e0842775df2efa0590c609c2d56d4af4a9fd202fb7f4e7106499'
            '672f5cd58326ef70e14ab7ed6ca65164470987a7a01f021440cd9b2b857a5c10'
            'aff81ffc267da65b41fa3f8f0589f458382b44d66a5473ec0ca80874408da9b6'
            '22637bcaa96f960dbe76ac818fda1cc6a4d6f224b02f44a279bc57978c2ccfbb'
            'd075f987d409dba115c7ad6aa515eadab4d0cbe81a6f4e9e172d37111e58f9b6'
            '898c441653c43491f73ba8fdd4a48d7152566b065ddeecac31cd9283f2c4b01b'
            '731deb18bd64ac158025770ce982ecb1f5c37896e9c904cfd119967f523317ac'
            '73c4bce0cc278ba2c2fa4bebc772bc93f84a38dda60268469a69b2b9dfbf3211'
            '3a68123276733e8a82e9531a42c1a29b5be552cd61d7ee4452833dfa367f21ee'
            '4400d4d010130c599988ffa38a929011873da59ffacc2edf1458c030c4d12be2'
            '08b65f887f8bdf6ed076481d834882e42caafb03a603bf7c5d4d0976a159f3e2'
            '44b8f7fb014a1a433307f9fe2f6ceba8a8f69f110be971acf509769503fa708b'
            '02544607c574ad317aa79f20b880183564f3e9f502fce1b6bb3c432567db5c52'
            '74f7e41402f115ab2733322293f883b65b02e4b5d3e0c66dd280271975121356'
            'e48c12bba2259f8b7980133ad7329999b014be005299b5aa9bc97fcfb96226c5'
            'c577d53a39b42a27b9d957e499d4e6b0aff7ef1a58e84e9bedd1a15896912d53'
            '44de51009b2e2fc8cddb8de5c4d4b11794268e084219c1447f62759f6e20c35d'
            'fdf4307a579d72dc46d9496f87b3720e22d41abb33c931f2a1e98b7fc752ac69'
            'a928d25d4f3a047a94045fda716e358066dc7b8922710928f8d596628a4ec0a0'
            '66b75f459c4d8cc3b0cf8b37c1b4d67130fce005449179283b420269267f7379'
            '15a4e8740df8e0a9e0cbcccb3e683d5cf7ae90dd12ab52d1e0b4cf9067a33c89'
            '2b22ced6e86106184afc3ace66315cf8e5d01e6bfd0ed0256e5049e54a3b223d'
            'd9af8f8381fdf7a035c747087983193f7633d3e2b64cd59fe613993d86678112'
            'df681b15d32058257cfe9853a4e1c552b9dceb233c602042c342c60821122867'
            '85ac72276832580840f8f9f713f094ee7dc6c0636fcafe3b8ab7c1e6178b7236'
            'c11d6ad4fec4b0a9df244d2f0c673bbc3363d5c948051f9b817c19c987c3394a'
            '7745b5baad97d336daed1db032a2f19bf2d3511da7018e93b6f33907bcf687be'
            'bd7527f22d6503d41e5e4b7d87e54ebfd48cab9d0ad0f253ec813350d98f4090'
            '2580985eb4d9f5dac21543d1271ec934e9ba0c172f723d0116e936955b8fbee0'
            '109528188c1e26c95db831f8d071cd9f80d153a938eee06411808a195701a8c3'
            'f0a033e29cc22277b622b9cc0c30995976e8b2a748d29a8aee28558050bdcac3'
            '37d8d358f9d5b8208cb6481fb82fb49722dced2ab862782a4b535b688306dea5'
            'ee06aa763601e9971e6fe6ac93930edeb0d8e7e26037d6d737c827e9a5bc5d4e'
            'fcfcd4e488c7e378309282aa1b1051602f30c723c0c74343bb1e55c80cbe9299'
            '1913a875c1a26c128decd969cce4facde7f85840a1414297788c5ddea2b038bb'
            '5b459f92f89cd9bd49979285d4bd0a03efe1181e8d6f34fef3830e5233ddd2cd'
            '581bebe4bd31181ae2ab738516f9d8f712e14e3bc7ef19021ff4f6486eb2fb83'
            'dc02bd80b3e96d3548bd8917b48c65ca4d75610e900b6a8c30776e40c1c07929'
            '477e90418f18f9bc144bd2a1964f6700c46328eaaa98b4a9c6d0d53239927126'
            'd3142d5d7f5d772c4bc3d2d25cf48bb9389362bed356c3be9112eca96cfc0bd3'
            '54d6c732704c720ec17f6e92266f9e13ce0f290d24ce4dbd551e41b8cfc6dc08'
            '8d8050b43b6811577ab334f73c595111db9c2db3398c374cb789fcdcc3f892f6'
            '1aee0b3db81746d7f2093f040d07f0fac45a2387bf80a16a4ae067452c2cfdff'
            '7514f83041083249bf2254c7c394702c093c88b31f23e221fa6c7794d1c72e51'
            '657d3adf4583e31aa1ca5438c8d7cc600e1fd46e82ed9e511aaad20a270d3565'
            '95a8a6f651d71af657e1893ff08f2736556d9f42b1f5c86ea811d14f7a489e09'
            '1f2f8c6b48ca075120b879869d7fb7eac743157495e73ddece8d9418b9af899c'
            'fad4428948e8c17ca240391186b70310796c6338c3dd98dd96039717be3d3edb'
            '99777c7812ee3e8442cb12ff3d1f64f354983fe170ff5caac18ee708f55ff8a8'
            '9626849dad52003e33cb451c24330090c3d9a610568848c1db07e397495ea0a2'
            '3c78405cb7f22ed11f576681bcaf08269cd345ebf0a1ad5ec0596dcb65256ceb'
            '554951519f6a31071a2d6c0e9ce43e3eee8e48592b0af95e3f0fe7fb5b64180a'
            'b89c32cff1a81dfa458ef1d35e6122cb77ba95b00e8428b61511f263ae31b192'
            '0790ba8c707644a94a305f40442b307c7726ee37f4975ea81d07940f8ff7a275'
            '26a024d00e0de8e624bebdddb78ceca8e5629f0d0d459f362e817f7fa722f034'
            '966eb35e591083a258a41c992ef3a6ffe0fb0266a1bb444ae19d3a2cd2722529'
            '657700e62a564d3123fd98f75ed6c64ab35efb7bd2d4213150ec3d7fc12dc23e'
            '88ceaf6d1d29ae824e837fb5164cfa4a04f46ae100f0bebf2a40c9800a2c929d'
            '95c6a20a51acf9ef92c7c08a0a6ec65abd22557eebb6b61076224022e952171c'
            '5b805392dfdfbeca64bcaea50458b0e35c12d5e17fa21f8ffe3d745dbd18496b'
            'ffd39fd297e18df2536dc48f94792e2937fce9240c9285cb0ef123fef1e24a58'
            'fa6f2093d9dc9f61f6ab8c3860b31560f531a1968f73ab100a9ace055cb9b406'
            '966ccd4dedbe1dc46bd52016021ed0ab6f22defb7affbd424bb6066a4e85edc8'
            '2eab7c6a69b7ca4821f180332e5176e2fc9530dbe92146f1281a90aff7e10418'
            '46f81535b2968e3c16ec15b42001ffd894b1f6dca379d8f6b7df9622ff3f156d'
            '9924776438e6de0c68d9431a6ded2d7abfdd1af5676f89cb1e9316852623e618'
            '9d3aaae8860750cea7f2a6e4666f7ad330e44d84f39d1fa1f5a2c3e15b741276'
            '6b8f11f962afadff1fe3ada98cae5e363f307ba9bc3eb2814ec00f01997456dc'
            '6f7e7faf4a1dc76e4e0920c5e9a0a1363a40ece87e7ad683e4c930c91ef23422'
            'ffe5581ae054ac9fec5dc64dea0a9e324da8aeef5c5b517b0ec349b101dac021'
            'b2322bbafdb22d6501e95a0bbfc0670e84036fc7ed5ac15c44e973fb026da499'
            'b01db423206a0717c340bc73bde09a542dfc75f3785b84844fb3c8259df918a6'
            'd4de79315a88f6329c36c21c1bac4c7d11f134761247b55b959d30d19449a464'
            'add0031acf1bd6c0fa3ab50b949de74c408bc557fc97672d90eabcb8115dc1c2'
            'd7e929cff5775ce9df23a1c42105c45fde0b66db27d5dc632eb73f493f23f52f'
            '0cbf564b8f416a339a5afd9a59287be79040ee7353b979eb98bb603abcdc7b5d'
            '8b97adac60889f207cc7213c02e1feac12c08dbaa60f17d9113f0cbdafb2a17e'
            '27199a2487ddc765912b7333453ae6556ce9b5b38720efe5736adb0d503c5e0e'
            '7791d4ecde21bf023cfe075a65a6b4a24bb1e6a608f3ca2405e2c101fc2821a2'
            'a535097f2ccb807607e1e0f16c2ffb0c3f7480b4753d80e2630d48f28d408156'
            '19595e1df4c664f54903f58189d4ae405eaaf2a6c398a99e40b4b45cc090658a'
            'f2aad0e0a0bd06cb31f8ff9e0eb776e5fe6cd5496aea30482eb7405b7c51d0e1'
            '413f189176b232fdbde738736d40978118c4db340b75d22f2596ad62bedb853d'
            '77ac7459c29ad3859dacdcad4bebf4aa807e58c755d10e963ac6ba5e9c1521c9'
            'cda30a31508aee17bf593af2090aa174b19f25ba4fed8fade248c565d9fa6a19'
            'a693cb02de9f9b0d2f23d5377342de6f8b3af444c53c2e6ac0a8b95cbdf2c8a3'
            '7a6880e1176cec22c5f59408f1b7c0c80681065719aacd6adae148b15a076d8b'
            '91301378ce47b36edabfafeee2b180ed92c34eb0e8161dcb7e575cf20664084e'
            '02a62c59296135dcfe86a2277b9030579a516aa04de9482a5b30e004ef429aeb'
            '9e3bf72bb35897ea15a0b3895eac600c04f80fe673b00e73c8d218256d4d4134'
            '8f890c9f9799d2d673da20bd0166c0b5add8cc74434c224e8f33fd2108cbe7ab'
            '5aea15222de2de0dd7288103b1358e5fead5d6c180ef7169c5142672d7d395ad'
            '871076e677062fb2b9831399847ceb38048dd3a6baeb55c7e06d022cec490fd9')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['as']='Assamese'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn-BD']='Bengali (Bangladesh)'
  ['bn-IN']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['en-ZA']='English (South African)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mai']='Maithili'
  ['mk']='Macedonian'
  ['ml']='Malayalam'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['or']='Oriya'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)

_all_depends=()
for _locale in "${!_languages[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$(tr '[:upper:]' '[:lower:]' <<< "$1")=$pkgver")
  conflicts=("firefox-i18n-$(tr '[:upper:]' '[:lower:]' <<< "$1")")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
