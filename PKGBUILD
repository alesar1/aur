# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=75.0b9
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox-beta>=$pkgver")
source=()
sha256sums=('e592174d0e01b860e20c359dbc1f22a02ff2b26ea155b228c32903ac88a460d0'
            '564ab8dd28a2eabf66c08248806b4e3ed6960ba0a9a416742dbfb9ece8132665'
            '041448c429dc7cde3f8a95d190077a8dc01da99d735a79264711a88cfb0899a7'
            '5c058b1706be035f0517344b04f926cc7d26496e05489a07a1ccebd0d61010fb'
            '925d5e39d4cd0046767b42549f941ee2794c0a234eca234f543570e5ff47a944'
            'f5e3c46fd139c2ef9a70203040e7ae37908dfc85e717aaf8aa79e87f7057f7ba'
            '9602c27ad48aaca87ca8e75acca4b2b238eae61ff2ee22f4b33db74f7af0a3be'
            '6331681308045472513b6f0497fe0b383975f031c645a70e8ccd3a79f813afbf'
            '006155b0823e95b5acbf4a8b2462d841ea106d712c0a9c27501a1a311b74895d'
            '0aa61045ad21318817b9d832a7bd64cbdd9c636824a034415fc0f94206b00768'
            '043c88162dff233f9a4f244fdc260909bc44f2aed8075fb3a9d688ee030f0f65'
            'b3c1e88eaf44812fa30af4ec6156ec2ebc39c059f6487fa61dd501c78d22c081'
            '1b63d97994b102c98ba4917ab5e3fa2c8b67f8a251f9ff9fae601e981c132636'
            '884d547dab02200fa94455e263778a7a161f48bf2b2936473b56c28e6b363107'
            '2ee0c40c45551f8ac6c5963fffc15dc337d44244e82165e15302f999025f3245'
            'dd66c930594aa7f2e3012b1eafae0b2423537a3cf02bd29d198f154fc7dee31b'
            'db02a2b5ed08fcce9882012c21ccc922be724daf5287b6b18fbc3dd6c38f2c23'
            'f3984479373de8f3b3c1d86a81aa92bb6a3cad38407870b9f37e4e06943a23ce'
            'c1a3f7f54854ed55917e753461a87a3f7cf2c79b0537f6fbcc8dce8ae8f06dd3'
            '61b60acdde04d301d969aeaafef9fa831c3b8fc3da5ced2a48f318148247bd36'
            '9a69c687092d914c262531b5ec5b5948ac109a933e6acde11326a5686dafcfa8'
            'c6d132061666c155c23849a899abdcf24cf23775c793b122fc502239a61dfed7'
            '440be1ef648f30773bc6aae3a24e0cb8c1be2211227b678e4e4d9d5382726ee9'
            'b23f5aa5c015c609f35a56f27f17bc94ed9420783e8368796e2f87117edd96a6'
            '6464f5e5b8e562ae73a92c3c961794adeff5092b17fbe72c359e498528a12610'
            'e0dd7decc2db95bd5af2b3b794aa29b0d90bbdb7041081ef839f67f51594bd5a'
            'cd4e49cab362804473d585217ac2cb6a2a035d09d4495b515b56e619c892d15c'
            'a10fd7247e6bd6ffdc8e33df5d980f6be5ad264aef32e25f5e4c1acc5184a131'
            'cdc498734d31f26548b3fdeb35b625d14a72186caa721c65ce92427a476c7356'
            '57c7e3f96dbf7d44926bef5d1bf696445d9ac09e5f7480e28ba65dae813b2ebc'
            '25e11f322b0a4546193f7d547c0698ca1cebbf14ee7bd25716a628d800e0c401'
            '7c5b3ece14e13b6530cb37c0b7222d4b1225a9aace0aa1c02f982b88b0cdcd04'
            '74a6041e05abf0511ce435790230226454049ba93b07387832aaa6d0e5899294'
            '48ce02c7828525c85f38ac852b1e21648812133fc676ef1d48ff16e27462bdee'
            '0b9fd90569e29cb4248ca2411a8d36e5c516e6c3586c8fe97828e0b0790bc33e'
            '38a2531b9f4da1b17f28162d6418f4a7a2e7eea29a567d78a44013fd40bbe48f'
            '1b651c86e3cf2bd3463976a281c3ce766ad23595aea7b8fb40d7708e88bbc36f'
            'f852835a2aee805db08435f1b2c74f8c118fb3156af3d3fc708c44686159b3b9'
            '34a70e2afd2533a5e37e6877b659e37a6468fcfb5d7de8a0180d35c82c088b5f'
            'ace1b63ff5bdde83726d2ee5670797d453e338f0aaf6ac344224e1554f908883'
            '2ab446d1c75bb70e294caf372514c50834b8a0329d82f1642af539989ba6a5f3'
            '6ccbf5a6fd0bda548f218acf1db14a59d63a5bd4aef1043b7a910395c42de931'
            'ce2eabc351e4cdf21aea1f9fb3c38ab227ee52ffbe85a2ea6b0497925a2fcef5'
            '0f032fd145b91aa02c229d60ef60325017194467d6d13f42dc390eb3bd5d5fcc'
            '553d10bb19339e78507a5fc13775051ac053044c6044beabd79e7ec4526b0093'
            'f99c32d99d3f1aed2cff7428a0aa90317ed457a0a9c41b3df3664df748840df5'
            'a430d984066782be443a38fabae396c332ce41e3aa028e724c2c995c44c4e935'
            '3dbdfc1d576bdf3c0bd4a2888c5bcde36ae412f81c7e9c4cfa8c8ecb0c8b5e1e'
            '9e850e0719ad076f482a479d4ad1149bbc98b46cbcc013dd34dbf8e2b20a2eb1'
            '425466086fa5a6d1f2c530dc51547f97fc6dfa11bb71dfaf72ca709749613ed5'
            'bfa08d044a0ee2ccc7348e84e0ab04c7fd6294747b904470954419da30641393'
            '3a4e8f7ed3bedeff6fe484ef5b52c045f0390df29ff34b493ae9eb9a1fa052ca'
            '2babc005a8eb0e7a313c9497348cd9638dacd97a9d1c17d993b7af6d6c9a0012'
            '90a1c174398f67be849485a0d8dae6183cadf4e598e75da490fc6da6fe4f1574'
            '3b312da09a07aec635fcd29bbe8c4692964c3a0a0886bf08d7ea68ade9879958'
            'a640858a3121bf5dc34e09b7fbcaff44c5ecdebfe560fb39b56601ff8f6e0568'
            'af872ba151e06aec4bf089351da826c6bba1d6d8fd13bfbbc69f28c2f9a28473'
            '732016bb7669f4a420431a32b22a0e8891a33ce467ca973f565f2029cc091b3a'
            '3c914d3e38a46f24302f0113c0a6b436325920e80d1fff2a786b5b1be5dfb23d'
            'f77a130c5ab84f1306b1239fef8fe16562763a73f2e79ab1a45f977249c650f7'
            '36356968a5402b2abb8ebb016c137a034fa5bc2b40d572d02dd623b2c1e72265'
            '7e433c79ea96cac3258d9bd920d1db15693a1102b1090d2ff8a15b541c12b30c'
            '99a0acb2486ec56bdc86148275a2f25af1382f62504c54d55ee99a83dca3c221'
            '9ba21c6057d50a0a531644abc06b473c0fd5e10ba8c8a9aad4820c6e2f0cc271'
            'cd038e3bb74176573c4bf0344f35f90ab2c9475ae0325cf341407ef9dfd62c21'
            '28625628a03c79353e0460047dab144192485d671c362640f230f47f68044d83'
            'b3eac01a9dfe0098fb0aefd6d2994d8fca2a93f4e5c42eef7a65ccdd406f805d'
            '516575f946328d2ae46eab8ccd6338569afb6c5731114142a81dd819846e1bcd'
            '1195de8f12b79ac3e35f690b6d482ec01dcddeec6ad7d958465d516e69eb7bb0'
            'dbc8ad229843fe11980120da7326d211ea242d4fa7475465336c725205bcf203'
            '4ee0c1d508edf49326bf67cb9783f7f680feaf44fa70597f97c23263684d6a47'
            '5e63456398f6f5c556b93fcda1ec49378341f473ec3f8ff892510719c4766622'
            '732084aa2ccfde0d50be0746bf8623fa6bceb2b3549042ac48b072cceb953ec9'
            'a41bb89bbb772b48d7b4430ab3594da311a44932a15c88c61c670182b2758776'
            '957ff7ad31269cc8087bf0ed7595ab3e2d29a932a38b7aa931f8857e35e252f1'
            'b6b4bc4877531d60367886aaf88e6f4709dd09a3d67c85a6d9dd02bd55ddfc40'
            'ca3bc5dc6f89063ab2f2de606fe0bb51caabfd2e0e1a01385a62824786f0c8aa'
            'e92da217e39bdfb4d6a302ecbbc138b06fe0acf916f895ccbbcc7ce742b1ce42'
            '77201dbab2bf7dc6d182987e6431f161ad5bab502e7dd48aa1671944a2a4ab70'
            '10917621700c515664cf1796784af62ec9c0541f56d0fa82aedd9ac816f10143'
            'ee2d91efc800e025f20c4b110eb3b67fe7274711d6ecc3ab0a8241ec782c1603'
            '3fd3b4d9ce4fb1553a072a71c085530de8f7869928dd7e20d798e527ae1db648'
            '9feddd7154211fabefa7e8e51923411b905b65beaa0cfbbf563f87f6a004f003'
            '371bd84bed1832a9edef107a0069458bc93a6ac969eb14953e7391273198bbcb'
            '97ed51eef880f876fe4380e50df9736a43320ca69d8867e67ab495f26c994795'
            '98fbb04b8febc8712f8c6d22a6a64fbe77154a97868eabf5fc02b5a8472f05e9'
            '454840c7a8d5cf34a7224338c9e2d89b602eefdec28d9ccc961fb408793b7d3e'
            '146544a5f4c0f2cae02abb5c82b57867a1b689d89c9aa4d5db287b49d4d78882')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
