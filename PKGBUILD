# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=71.0b5
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('8af19f1cae02ac04d81941476d379e86059b85e2b581c8496b36f3f6b5b03811'
            '9e7c06ec318bcec0628c23545fb7eb18d2f2099df19251eb1f086339e22ff2a5'
            '5cc6aa678689e2d509043003bfeceec733d10ccd9c72200c25b9bb3a5c3f7812'
            '17c7846babdc57d32145cfd16999ba57d533dc3275ea4724fd446395930c189e'
            'a3d15f1c1241a534202bc2cb4bf686c30482e9810a91ccf597f1b0a5a2d4c6a0'
            '12844ea0a8c255704062d01799e7270a2084f924ca797b73bdf2a814b1a826a1'
            '26fa0c9ab41a65b644aa318c9141a9ae7b8bfc16cdd5c74b81cd0d598ae53673'
            'e05878ad20ccc093a3abc1a0991cd6e7afc23585f6aea2fd2c78d7382c787082'
            '14da95ce823118f15d97d9fea4d737854f8787cf4063ff6223315b661aaae83c'
            '0b72be5a8f20cfe96112352dea7aa43ca3b213ca8b9e1687bc2e3f2e17d8a727'
            '8d51f490266a10f82be88b732d48ebf06d568385708318d16ceb4e7f93f06f9c'
            '1cc052d670e859d2965e54a752996b3caa0e1881ec721583656ee193bd86b918'
            '1cb9ed027ddd7b44e31c147ddc609355319a4912f8b9ba1483390cf46dd50c1a'
            'cf24076613fc5074df45f647c9fe2a40ad1fe9fdb479c3c677329cadbb9f2e3f'
            'e88c5786e3243c7cb722facf7cee64df7118f3686d562f42634b5bd2d66f8979'
            'f10ceb39de60f1625cc45c917518f2659e3bb53eb93cb8f056f394328b0e0aa2'
            '64e0e4a33b08708300737b47aa4a3b6be9b6cd0d649d65450c810197cf3079a7'
            '6622bdab01eeaa35e2e40e4500b6e4a4fc6b764b65ce46eaee5070f5a0c3de40'
            '39a2a147f158fcbe70803a8046043ef616230ae7c1b1cf23e874df44734869ad'
            '43e2fa40326d150a79753d4bb8418fd431661e581a6fd92ef151ec5477751edd'
            '3e977630c1b518f4d1f7921dc1657c24ba29cfe526016a57b66b63f85918319c'
            'fe00c8218a8a8a5cc53dc1f2c63a698a09a2597463fd0a76b97b8c61d0f19bd7'
            'fef41569b37d5f3b3eee5af2abace1852741dd5929f2f655e47bf21b425ecefa'
            '173f599a17b86b08b910911c8be5378909ccbb7afe5fbc1961ef1f775b7b6d19'
            '401836b455e5980d1caef9a70d8e8d820d3b3d6d85d385d529f01c14b7df53c7'
            '5eb1beb1d4b04e0ff0f499d1522a39fc6e1bff16032f421fbfb8207b997c2b7c'
            '0f120b93d847aaf98ff736f0dea63e0917e8dd2a570c7d1621c61544d2c37b28'
            'cec402907f1abd0a0f4e86ce938871b79739e4d78041c5f456cee02773a932f0'
            'bcf321e48f5519ebaa5b25cd5ce05e31effb2920f8e70f510c5720240da0a0c0'
            'fc193fef915eaeda952d40108b3f101a39c0c35badf779b873d2896e3b66096c'
            '7db5c290dea264ae5cdc156c7410537bb9e838bb20f4c0449c92696c6eb46e85'
            'a143ed58b6ca1198c4c7d5276f13ec1b67516d8a5acfc4e1ea40f7848a2f7c63'
            '3309499323d07cdc8d03ef007fc49e38a1bbe79d67911a022ea963da9034227a'
            '45b2d4fe7a0064513fe626a7cca1850b388e8bb9e05771814586576ca9bc5afa'
            'cd584522532c617097a47c17dda109f4ec9f6180e4ecf1b408f1934154e97eb8'
            'ea74927efcb715045f89a4884ac5fb5a8ce70601d27e92f3bca2f626fa73ed17'
            '10663ff9e07522d3a17a1ea0bf0d2e431358631f5c66c38bd0035e19b114d2a1'
            '7d82ff857442946c2778e9d53ce66ee61ee1b4eb997daa76e20b6465973dc577'
            '23caac514b78c577820686c2937d819d6cbdebd265526c3af45002bcd3406202'
            '363b0431456a9a510a4e0ed63ce6997f98c59907824b463e3d0c1cb783878b71'
            '231c0db11948e7ab081dbe1a7f74498c94aa1e4a50ab945d301bbe8dc04b0d23'
            '6e6b1edb2bfa699d99e9d2156dab01362b49ebcfe041aec290b32445225fd16c'
            '1e5a234c05f2ac2b861a3ba3d0238380aa72b6bf597f8df20c30d3e668b31644'
            '30dc8ab25876aa95f0a81f83cf7fe70fdbfbd7105b556591e59b42c6e96d9131'
            '685f42ca8227b8d0eef11968a5d2425d29cc71cdb204e6687e16fce8ec570776'
            'ac3be6fd9f5136814c67133301dc6f90706fbb9f975eee9f83e09661a40c7abe'
            '3c9a942874dc861a6a9733602386ab757018eb75bc15a464ead40b66936c4a11'
            'b2f063a927bd6ce8eada2a3f83b0ad33208929bd1a2885aa94958daca6ccccb1'
            '2979af9bed513831946a898f0bf128abf5a8f856fdc0e0aad308200828bfb782'
            '989afebd4cd521249397e483c9d8f6fefb50daf7ca026c2fed75393c51ec62fa'
            'fdd880a1efcd01dfcd982a3cb5075b39c7a13982b3f9e6d13eaaa97d6eef7632'
            '2b50f3bcec6f2319f7edccd4c40bfc1b1f63a7d4e06189c33492d652dc31b351'
            'dfd35ac23fa0ead7397d439e9a866f766298dcc28229d63be43b14cc77ef6687'
            '78781be26e315f194de33beb3a5e4cbd173e92546848bf50af9dfc97aa5efc18'
            '7ce190400586658145060c5a3e59e111bc92e5e9e17e2e8bb8e50b0edd969024'
            '85c367dbea06cb18a3d3dec81695643c0ac0a18a5588b1893fb48bdb7d88080a'
            '0bfa8e0d2c710182d6f2b07c06100bdb91153ee23824f22406004c68578da090'
            'c68aae48a93be5a0308c8208e3bd4b5e515bd0220b2f01bec3873acf98082048'
            'f2ecc071f241766c7e8272002d8873bcb73c3e12431389befbe5ba568131ac4f'
            'a323d5e3e0b6684e6b576047c7727ff21960acd0d6de53cd9b0ea0b9c7f67500'
            '9ccd8c07450375541ccb433b0e17d7f8e745a43d21ec57a524efe81ca8baf923'
            'c5ec602f8a0511dc6ba1caf04b988f6bf1122f53faa8ce8bda75c85021209bea'
            '22f06bef8bdeb2b1ef8c7d10c6ebebb44b4713aea47c97a317de4bb0f714a16c'
            '968d076446d0b5d754d358b218aeb2a0ce4d9f9a007207f8356cc9f8fdd5b01f'
            'ae03dd575204cd858d4c7ec4406c6bb37f3e513533f0ef9fedebc61745183dfd'
            '089aa3f822c44f3ea06bfff604811652419f9fd787fb7996025339b6e4daf54d'
            '54dd5fac97aff04f5acd1ed9a9dc8ccc19f3ec4bc67da90ca704047046717237'
            '09df92ff5e834a3529eb287de2c00a5d2d0bc136c12f4a3293f79948812dbc19'
            'b996f521a46f6a95ee13f883c0461181322234482a3a80336dcfc3c0891d9691'
            '07177abeb5e22fb4a98dd841a154488ae212a0d3933129edefa3c9cbd6ec78f7'
            '85848ca49d6a6e448483f260fbef467176d07bfa2871de3a2e722f9df8be6759'
            '4a892052a6c2f7a371cb79b2e761349a88598560c596eecfe9e226d9fac329c2'
            '71b53c256a63511d49443177bf597475185b78dad9fb1ca11fc4ea9665ff2db7'
            'cefede02c41b8d6942f7fae168cd1e98eaa1fc90f2a35293659d519dbae314d2'
            'a29d4373220a053b183471efc007b6785ecb9f95cdcc6dc063056b09b899c9bd'
            '90a8a1660092dfd9a33cf4115b2f5122335484b44a704444a0bbbbac27e10f48'
            '41a45fcf3e6ecbc900048da06706fb0fb90c977e356ad6d87c1841b0503d52a6'
            '7f458db09707c695ca0a16cafa965b6b1367eedc4e3141afcf4b3516152d67f1'
            'd6a71bab8094f9e4483d5bea4ee34bf1e19ea6522c8bfaefa88dea46399ce58d'
            '7b13a9534d2dd475689896e9dde3236709a123e8b90c74c1044acfa24eb9a7bf'
            '3049f6fc11e3563683990abfcc062ecca5cdef9873b945d1bff7ea6d2e0c5ae8'
            'd4b0a4c9025ba375463d4324614d0051d341577ee75ad5310099a7b735b73f0f'
            'c03fbdfa292a93381a5a8ff5d2f70970f01fe2016a783f7f49b28fce54cda23d'
            '5312ed5077dfd8389558255e4f103d592963e13f3e37ba9fdce23fee154cab00'
            'bb4b140d712c038251870fbc90e8fe503a69cfa057bd0f56b8ec0fb177e07c47'
            '50b94b73d4144ba0713d75d3dfa4c3e753ab53e4a72fdbbbd712de3ff57009a9'
            '546ea32243fd57b30220c4c1df5c2ab15db2e867920770c27691e7ba69eb88bf'
            'c80306013b312f00223761b3b3d97158414d98aec5fb50b760e23d7903e5897f')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
