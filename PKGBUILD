# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=72.0b6
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('7d36128a7061bacb21d7bfb3f70f11e97c388b0c3c1babd4056f04b52deda58a'
            '6a2b005710745d3d145b29b7cd7866a25c50fcff02980df56631b0b295e53ec5'
            '3277740045cd731a1a39164c18b7241a74d0cfb960133d70ad10c42c6f634a30'
            '354fee812713c44ade9d386165e6b40d419162573e606e2debefd9f117b41f8a'
            '25d3dead63ee43196ebf2fd036177201cadf755b0a1d10790b33366265194c64'
            'f65e8d3c51206559dbda4db44bc71f10c8bc03e646f70c6b06fcdc0ba6e187ce'
            '0da7ca51f85313435cb2a5d60b3770f2c8fb635fe7aabecd2fb21eda0860495c'
            '49c357ba4ded5e23bbbd4b3a7405cffc66bc34305f73d13be0d4afe679e6b018'
            '921b354b06f1047826c60780f0f44e59eda6aeccec24eb765f1235ca85f623a1'
            'c3a555f14833bb18b9f158b1a04776efe7abab1c28cf57219a41de79ae64e454'
            '52d5f2dc98ad93b25683df87d9fd18a0f00636528001c163991bc80e1d93f737'
            'e960ab44036a2845a3dc15474fe4a8a554d9553c4c5adaf9909a0997dd081232'
            '7e64073ad2a69ad16deafd0b1212f1cc69fa73c37693e2930899e55f82a56089'
            '9443ae0893a6b60c36ba6ba4b6023640ed7cf680c50a841a800dd2742dc6988b'
            'e6964a8dabebff0fea3c34017da2138321aded4107182e1023cbd4101964a6b3'
            '69839b25d5342e78fa26198d6b2fec5010e57268f50b38eb55f6f7ca0ca8c8e6'
            '887b6f0c63c1b8b7545fe3d36d4a4a32cb7e31b1b8f13506847c865b2aee48db'
            '32637e74856cd745af3169e430fd589d349591d79e66de3c57c7d70bb0fedbdc'
            'e4bb82e822e754dfcb45e0a96e8cab1c2b4d34105f3e4bd4119891cf77d30278'
            'f414f69a2e0e268508f177ac87b5accf6b6a65ddafb0682a76048a616ecaede9'
            'a32544467387c904c483dd69848a2d85878b90a86b6950629039ba807b3a265a'
            '6d2eab42876be184cc5826f05901a407854f99b25ae61fafdeac32ec11a643fb'
            'f4abf1269566bb224287421e843de52320b0c724919750c402a5d0db60845fc8'
            'b299cf46fc0c9aac8827ce25d9a01ae2aa0e750dad6d845d13674b077eb775be'
            '396a69bbc1969631b6d80ade6a82cda23fcd1dcebf75912a70edfd24dbaf0a06'
            'cc1284a17f2f2553989afa3ab2dfc750a4ee908a32cbcb0afea7de901d52d078'
            '07a5877653e9bdd8ba6b27ebfd8944f34c830a6c2495d26e74ac1aec4dda70f1'
            '43c6662e317eb947d4b8713e82e0203ed29c4775cb81b4a3bd0151d06b3ece3c'
            'b84539211db1a58d2484a9332e357e3c3f9939e809c806564e95b8821e1966d0'
            'c8f2ccc9b1bd67284da2799ec4eee3b09a013f328af97ab31261a32847a494e4'
            'bf1fd6f38f3b24c3dbd0e36baebbec58b6e2dd8c381c143f3e30b0fac1e49540'
            'b0b09b31e8e7037e66883b8162351aa8b8e78bf690a987fc228c0a2b02420bec'
            'c7363883f5f3dc33821926aa53402555a70359f5b2bd2cd926fb13ecaec301a6'
            'e4d2f1450ab49f9abdd61ed56001d18ec3f7f68548a2f7b0e21e1730a29c8fc3'
            '5a21f25937d1410d2fff6018c8188ffd6f66ccf3c4d9b7a342755e2698972384'
            '780396bf5c5001d41d8a017f4d63d278a4f14ea06d03dc9555bdcc9c60481d98'
            '711a8b503b6276027cdea68c117320c79c68c0c5d093a9a516354182c1a321b2'
            '47486d2d2f4a8bfce3d22425a0fa2ad37e4531edd18c81d19798b16359ce50d1'
            '48ed0226f2a1506b240c1ae5a176e254bd4634127071a806692a1f295ee18cdb'
            '64f3a0e9efbe115909d08165301887ccb6c2cfc61c74169324f476514a729abd'
            '9d9dd8192601dbd0acac33d09119a66ab595f4383eaea16913919fb9d13eec72'
            '6541a9ec7e65371c05c1a6a4c3317542545a03adde36a758a57d25a16d862992'
            'ccedbbd45649c9f34973c4e4f7c09c5b8ea9998ba09b3ee864401ef36bf721de'
            'd37b6441eb1a678e32b7b1b9ea03ded17f81f9d62bf1bb237e6ca579161ef29e'
            '66e72e9949c953e7315cda0e7a68f9d46b5fe912b4aecfc564b6c6ca9c17294d'
            'b54b045216e2ee040ae6116596790a60146dc56a499761b5beb3fe4bb6d6d616'
            '609cba62e0ecce96ed98ac713d3113cefcebf330dc4fc90eda628b7fb342db10'
            'ca2fb3a12e7f0feccdf46c7f941624d1d45cf1032d92aebf4bb14c5b6a44489f'
            '119bdc646e111ac84ba2f3160d91cedac2f925c23e38c8d6a3265f98ad081b82'
            '9fc954b7147cc7105f24169638c63cbe357ba27b8ede9cea320f53a5e5c74cc4'
            '7a309b24a797b080928b1e40f73a6917d34531ffc034a3932bc579277ba704d4'
            '31259d3d9ce0166613183a6d7817487be9ef9d15ed779dc8353f80126ce293b6'
            '351aa51866ddfadcb42a44b9416371371a605b6de4006215bdcacec9a633dc14'
            '99fee2ef3e9793faaeebc6a0833a1a4e5b115d4c8f1a97c1235c485ca7f0a650'
            '5bf0afbe0db4b9117a70c24b0b301fc1dac3c15332c9b1783abf049adae6dd3a'
            '1b56d8b092647773431f56a4f1dfffc69d565f7943d69d37d7b414f054b2a0c4'
            '91e25080a3b491d1d45b0e97d75d4c3ff9af61d00424c1bf0b665732e45c8f64'
            '1cd0f26ad7b9ea57dd1fa70aa14cf7b9ed0748baa30b6fab415f3d56db6811ca'
            '0972186a7af223c802df605fd5c3f71f0eb33e11dbb58c2b14dce63bb3ee465e'
            '92786b9386259d305f26365d6ac6bbe2e5ab7e39a6fccb236b466968df5edb7c'
            'c2f7d29e78ce2531fa163b7f06bce731d8781589ba005e849291cfb8939dd65d'
            '7365bfd4f132010ff205d86183ae4a651fbcabf3f99f8b6bf6844377d20cc3c8'
            '205d029b8dd58cbb64f448fff7e05c9d1a1f571b01e28b4949e83ef82c1084be'
            '402ade504625057920ebcb9dfb0fb2c9e5e7340e8f7c948d870fffa78c6d6e34'
            '8b140eacc6f6bed4d4630d112e4db1171e886661b1d4f727c813b09a1561b934'
            'a96eb619d98f2f381622a08023c7841b91a275133cf385f9e1f3333bb87c3e67'
            '7c58a9af0ed247d5035e084681c14e8f9c982b6d833ae73070ea69b54b435c9a'
            'aaa5d6ca114166406097328ff9b2643dc365a75f5d28d4e5b47abe7885230f23'
            '5b6fc7ca2426f761031a62157685232e190beb00cc9c0c66dc1e43ed38b32737'
            'a94e7c425c1ed303e16ffbd9ddbadfc9ab048212cfe17927f05115b0817bcd4d'
            '4a6cd896d15d3bee754b34986307d306844a774c8e6825d834feb376d572e9b8'
            'b86ff8985b9587937b64b6a524760b40a121b63a39c5d2fb7e1082080df15063'
            'dec5f6e963378c99264b899114b7cf5fe0392efc985de7ea1dfa7b2ccde1f62e'
            '03379f7af4b77da6c7e0696a9da464d55723642c5e1e850abca480244a9e1082'
            'f6cd15b8867e9bab2eb865b2d8ed7b46c0ec4ef74598bec26644a6aebb3199de'
            '47bd7f25e3403297546d1dea9001eb85e2222081b383b93d70ae91b5b8975d1d'
            '7347fac62f39c99fb8e6464d858937cb9cf1f8f09068af26a24000face130759'
            'a76b59b15a134df5973e84d13b2b99734cac790e45c013277331b0ed31b0cb65'
            '6f673418b2499031b42db4b56b99532618f2d229002569863e20a05466bffd0a'
            '619490a454c71c292a98f6a5599f706897c1b6a3133c985408d92f29b5398a6b'
            '463b9d9bac722714ecd7e2ce6bf9486cd16e575ffb63ac6f5a9211bb4d5d60e0'
            'ba88308a4d4f09cacd7661131685a42dedcbcc91f09927242d366e17ebe52472'
            '98dc7dfbc826e7d16e76c5169fc58266f164f4e5f737c2d9f78f2e37c67817ad'
            '28cdf110c4271539d47628b730ebc190b4aed263567bd5f0725b8057370802a7'
            'bc5efedcbf6d15cd1d30dc09744962297e81eaa1f494f85a62c8dd1bdf5d795d'
            '9aea5ef112c3d4cd1960c1e6e6299dfe4c04340d9e82d558f20dd1d1e8595f36'
            '9d7d5f35602c50d63ebd7d2e1e56dd987e2f7b567d9d81e399e268f8d9dd8f3e'
            'c966c1eb72b2322c474d97d7dfd96143bef4299130a6101a86509ea4b2c5bd01')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
