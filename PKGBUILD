# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=72.0b10
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox-beta>=$pkgver")
source=()
sha256sums=('d5d4abd9b452085ed047734449730f8fab064f0bc575af968274005bacead342'
            'e0c25c6263a659b56b660bc8f67f5a99c5bf80cf2dbded798325334f7578fc8d'
            '757a55e9abde74300a9d87d08ff6e738b506c3b4370ea7dbbcfd21e62b3191b2'
            '9835061b77420b5be52d0a9e94a430a14114dae22db798b638bddc0d80675def'
            '365e3afc9375a8c21c9b050696911117672c1e37a30307b37950c6dff20a1d8a'
            '69191a3d61bd18bd6ddddf133ed68718738612b3d0650444c045cbabc80510ea'
            'a219f273609904a36f99b2f69bf29774afff934f2953efbccdf1d78b6e7c7e2c'
            '8c4ee46b5caf4f046f0e733a3cfaad6eb27ebc79931778d113a4ac46e1dd98c4'
            '41adda64cc5f4b674eca1ba7ca6ee511eb5f2de627a7fec6c3a383c0095e03e8'
            '4d1a3bdb5771b4901e2fdaad1b56d77e8b3891b272e5eba29d4ae204bd00a317'
            'da7fb98872bbfe513bfa9c6a052c5085ccef9ed34e3dee6b9ab71b9c5c537116'
            '834ebc1e63b318535507934195f7c31dad4f32bb96a4f09023e43d540c41f396'
            'fbf67df46988ca0c9830e32b3a84f18564670edfc28c0f17bb6fe1d7fe1a73cd'
            'ccaf6fd0147b8ce6f76f6690894febad48d60202e260a9d52f8feb9341c32b98'
            'ec9a3e991231c7cb1f73cb94a2daf5283b6d32ba37fa913015d1f6dcbf55b8d6'
            '1e349aaf296f2db8d73fa4a97f45a952f283ab4c53e87be0757f2bf65afc27a1'
            'a76028794ec881ed7870c959fd3591eebec03850a9dda69101e3637c23b1623d'
            '9e3ef6aa8544b140c492d408ffe9581ba98f3d40280cb5dce80bdcb78ad790ad'
            '170b8daac4ad4444e151b59e4c69fece839dea1a9580b60f3fe4b67a8b334a10'
            '606a1aaadcfbc6eee3c104fca505f6451767fc2caf22db63764aea4f6bbaca99'
            'd9aa3d19cb100a2ce8a146e1b79ab614cc460221259877c1db1c9c6208957cc7'
            '69045acbfc259c6c567776eff115f955f9f92a6f7a5277aeab1a96d16ebab5d9'
            'c86602a2fbb808eddb261d4e3beef713f81a6713f12b58ecbfd18af5d552ca17'
            '45b1bad16a39978a812fd7f14f8ee2da0d45e6e1aefd24d061b9afbbfa98f8f2'
            '064af69cee068d44861f9f5f25b684ca2d45dfd1b684e138a7a576e274448423'
            '60be709e48e70c4948e3ae9ea76ba2d032b7ab9eee942a28355c2f1fe474d979'
            '12aeedbeec9c9735c9a3b19811ea6957536b340da7b5c450f1b8ea1170e3e689'
            '5036ff35f560e8aa14dfb3ef8c87f24054c6ed653bb3ef632f57093b6745aaf1'
            '6f876a4e39e34ebc7de00d49c3e4686731b5c19df2f78bf893aa837ddfe1ae01'
            'ac5b91acea6663eff0a3871dce60518434f565f597e89eb2673440b4558d9be2'
            '44706b20a83da35fe32a4cadfc638e700b4285a17d8ab5f3c5cbedbe546b6d25'
            '1b49fab46ac0b12fe9e59c55427239e7e1122d4a83b0ce648d478c1d997a97c5'
            'da39eb6a4e2f45b1b7bed7dfb441a5cc6335e36e6ae6dbcba1ebe7f2f9dba931'
            'a13115609d340b1f96a670edcd048dcd9875ed1384ac3c6b2011c222a459a4f6'
            '28ae0b69c8d773989885630b85eaaa7770f1054ad8df136071effa798868929d'
            '8321e6aaadf5ef796ac94089829ff1b4ecec6cad4da47f530c96cd65399f6056'
            'd37d7fa0027d986b68c24fe1b9a41897ff16147c1a00d3bb02ba5d2e4acd18ad'
            'd68254852dd152604864d108f3b31fe409e7ee62722930dca25f1471766a8fdb'
            'bb2e3ca0592ae360514c900264bc4185c0eaabfb5cd2a145f4c6beb5eb55c2ac'
            'ee6deaf7103e6d6e915bed11560d6685d9bb82b3f7c70a22c8d297e5e230ce80'
            'f0260820fd4ee4a78ff05f2e0f60d6496b1fd51e96b593f53786758afb237514'
            '630da9f72b96ad1eee02093e0a8be50ba91893404517641a94b4dd7493406f75'
            'df18f01d5d09885164c32f70bc4878f381f6d78ad52e0d9e1de88bd31c8e4a6b'
            'cdb383c66e1b3350f0e449e026209ed12b3309bfd3b23b9b933990c8d1f87ed3'
            '331a0f3a223c287854054e07766f3777349f8820cdec989efa0ff55ceef94598'
            '1c64bccc1490c0af52afd1a150789ecedfab184d1a317bd589f4d95372e3813e'
            '6ab4972d976900527c8c5f1e062f8d5cb3ce06df77a3bfb08478a7c4a8823788'
            'f0bd793a1526c604744901730e2e6214ccf2859ba720b46ac6379e8401d8b311'
            '82d1fb5a29e3520b37295e5e5661bc50f53552cfbc0626fe8b52eea299c7daca'
            'f0f1307c16f8845bcc2ba6eadff0e7996c2bfd1b8513e1be52723b9f6009fc7d'
            '72fb2b2093ef10cdd07c911e0fc4a120ed9c40747665c9def024d1800118db9a'
            '444c91b4a185194ec47fccdf8f720509f6fdf30587061ae0d9eabc713db0d412'
            'd2a32ca77d16692bbed60db70ad31b43a016888a21ddd22e089aa4e66ec612e7'
            'b542043f91bf91e63a671a25a2e5082183204e30d5db97d7fb43915eec603d9a'
            '196bb61ffbe7e5ba6118232cb60bd96dee75d06225ebff3e5ed88caa278e64bb'
            '435b72b8d545f42854a5fb1fd2ee7c85f1cb73f9d116f9e806e1e0cbd19ff2c8'
            'fd707327a7bf11f6ea724bd531c5a1d8f49eaf8bbeb09851fb4fd1b7b96dc87d'
            '537d615ede5873bc0f9e840afa28fa5a8f2d8cf63004cd3a768097e6cfd64200'
            'd7bec32a27bc8fb2b36d3f2c347fc74c32199e688effb12d47ab18d2551adcd5'
            'f7c8cbe85841adbe53fe9903e526cae42a0b0ee01533b1be85a954cd859639f4'
            '45446622d290d08d22948f57a0b55a5230287f742825e770d7a20dafdabe6f12'
            'f2ec48dcdee7128c8e58e502bd3527ed999133a526bfbed91a322abcef7868b6'
            '47ea6322c7017473924bbafae29f25188018b086d5208852f8dc8608ff3fcb48'
            'fb4e6578dca8101d6ab90359f2732a068e76c898c5f006deb5ff71906392c74b'
            '72860a00afc27ceb8249d8edaa7f87953230048e9506e03da38fc13bf2c6ba8d'
            '0f32f396aef1b0704a5be81c5f9ec422d41c74a88627fa316dc62c79400fae68'
            '8fd42a7cc0a0f98a2ddd3a8c425b523c39af92f600e0768fa73faea0a8aacfb0'
            '0892762d3f724aa371a330429d3d16afa3e374500de665709d13e2a169f9e491'
            'dfdccc6acebebf94e65cd86618ce5c91aa0aabf42c55af0d082fce27276e5c84'
            '6c96277cc2919e73d89348680dcbc6243b62a9b2ec172bea90d061681bcf1bf3'
            'aa85250c48fcb834be8204f872ca2bcb0cd8dc49e190c4fda58f21c0d394cd1b'
            'd96bf75c4db37af4de63d00dce89e784f525343434f498881c14ea12175b9906'
            '3e02b0eeea93321d151469bcce36818897326f7bc506988a46626a59ff79f83f'
            'a4bbcacfffb5c5b699276b030f443bf5236ab48fd4b42e9a23a2e471759cdee8'
            '2b02236a899d12fb1f3a5273776367a49867743bcefcf8e2c3bb54f1bc4ebaa2'
            '0551edfc7b06f5302957b93fbf9f4217bdcaa55ed2bc1bf154343b3043bbafe5'
            '8fea5c7abf095fb5b069feb1be9a8439dc0c1daaf865df147b27f142015a9837'
            'f99aba7e43b7a8581581afd86b46c927675740bdc1a04130c7f7a375f8ce44f3'
            '82fac4c1975a721bab1bbb43dd5aa8eea9474be81cba6a25821d0517a7210a9c'
            '988e16835832362a673c289605a95c6a15a5c1addfde3f2bf60e5302fa92a145'
            '3b87d7b48d0164b0ad3f15773bf72427cdfa8fb89ddff39c05b45532a7526f6c'
            'c24f027a4f4849e11b8348066d455dc45430ba043575a8eba7262ebe745c03c1'
            '8b616f2872b68217acbb3e3d5bea6b925505486ea191bc38047cd7e1543355f6'
            '5000a59d21dbb5535380851e407a36d68f349e8caad136587c41f154fca86992'
            '3aa24c5729b8c7ecf9ee99b86326ba5268e923c41237fc8de4553ace4c9b3fd3'
            'e7fdcb7d3ea5395110cde458964735b4501aeb9e5237576dcab68cefd9c2d9f2'
            'ba94f6f32f387b8bb113c732f0e7fa5f4d0befda359c2c947ef7c8ac7cce332a'
            '8447e137dd81bc7a5bae328410ab11972656407f694928cb84315d02ca0f8c85')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
