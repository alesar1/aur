# Maintainer: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=65.0b8
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('0749cb5ae90efa42be6a38ee71ce34df8b9a294e81ebe27e2a88997bd4d6a1a9'
            'c46f96bfe5a36e6e36156aa27b8a2bb1b1fbf435c2893d8f8e589f4ec4fec818'
            'aab160e01692ab34b3ee8af2a4c6a2d35a8dffc83ac175f5435624bcde16deff'
            'ac3df39de6bf8ff1dcef1e5023591e2185b59946f307938b10d5fb11a0fc6ac9'
            'c2fe27ccea1a1a86f8742a3fc35b4b10b3e7a3c796c37e6028484bd5c134ebc7'
            'c824c898ebaa517461860fc245ed51ab367264a542e38ef52307bb5c027942e2'
            '84e18fcb5184dc848001898bca2333f3b66ded99c9d74a2a47cfb5f7a858efdf'
            '91d67e8bf92f62d55c8f39cc2c8619623aa9c65a305f47d73d79b69cacc0c494'
            '8606abf4a66b7f292196a6c4b43aa65abb283c310125c9b8fa3fd43a343ef1ad'
            'cea8f2d26d61ab39735123df124683669737757807d4b07cbcb63c265ad617c5'
            '90d5068441b7d5a729e54f6fad623c88dd89e4630beddc5a3dcb5e9a0493fca1'
            'd76abda965f1e7e2643c3a7e532a779f4b980ca0e5d82f1edadb8c27dd2f7c9c'
            'e81e97aae09008355eb12913c2494913824fd3dab0a961a5c1eab9be54f56e57'
            'c584971d69bf8d259bc02da4759072d6f0caf1a7dfa97e451ef1ee0c678a4364'
            '54e1ce5092b2b2e90a86a9588bdb588577de16fa40a075adc61cfd936d6b6bd1'
            'f10de6b701bb3a7b9f23fd79f1b2beda18d5ec45681626df413f4c4ddd581177'
            '3e556a23e59abdba859e7f9f1568e1dafd6c8d5a53d92ef80fc069fcef6273cb'
            '526f2fe8843555cdf6d16d3ec643f38dcc5a6109ccd4a20fa5c777add9fd86fd'
            'f7a9ab9edf65d143d31b968d923ede77c777e3be5a628654e33aa3ad536ad664'
            '32aede69e0dcf0497db9cff8630e0d35a83f4966b44aded828b31b2d2c829bbf'
            '5b34012993101763e3c06f69987702b43720f70f7ee4310fe2f2361de55f10c0'
            '23f3bbd4b8dbe58e2bc9939929b82d944586aa89af10b637402a8ba0cc3ee38c'
            '1d21581513bed00728be628f97248a7f42b2f78eeb0eb664f8db77586b717df2'
            '4d01d8dec99a44c02f144f6b74dbcfa7092408b8e4c0c8e1ca8288e68f43799f'
            '3eea09f2d198e5ecb19dc29fc6cc97f846bb45def08de87d85a73c3c5bf005db'
            'c24e50f1612b2e1485fedc28da5ee3c51764be1a6eed3dbadc9ecc4c104cc310'
            'ad2413098740a4963826277a6725a55417e5412bad68e82eab82dfd92374cc65'
            '8d5f45e5d99146ca90148f2b273b11a26a6961e04c7b41539a7c71e6269ec9da'
            'a5d53ea4da7641a925412a2ea92da0d62d3691ee09fbaa708ab7eb81d9933044'
            '800f90ab1a74d70fdbf5f4db72aa0c58e06bc358a9d6ec62bfed5ef96205e80e'
            'a21d51ee5cf663e0b06b5c17a3e14daf4c33830ff7a5ccc7d861c4275214201f'
            '134c71b87c8e65b9f0f7069b82b92f0c7100c86e0c86673bb6a6336be94ac2da'
            '978f7462f9b221c4292d2155a4e6a34ef1899acc9e76367e6a60b8e750dadff1'
            'bee7808e6e4d58e7ca5432b697c13f816e2c1d9715eec7c146fea7a8d459127e'
            'f88aa3a8402fb604f1168a73154383ab8fb3aaff5b2793ec0d8e2774b7ee926c'
            '40085f0b85ad7df807bdb8cb4a14d51b6ae2496745c7c645b4d1b829c16d0cc5'
            'c2b54dd3b9a583d3d742c00365cceb244df19acad4ba3fda319693e02c95e242'
            '859acbfe5be66f43e79e1c510fa9a3a6e5404937954b2edf0183633a932e7734'
            'b450083d611366cc3460b98783dab101d3037c0254e017f5ffdc47eaa92fa23a'
            '743fa3f7d9973d2706c1569ed80084aec14256a13f5ef95293d84014d79f2ee6'
            '8496eb8e6dd6b1ac35cbf152e6ff0d9686e4466c102d73cb1b09a092f75933c9'
            '7ca5d4d3677db7cdf3d8017f1c916d455d94607a47ec4c4d83081753f54a8644'
            'fa88cd7ad0bb5c7cfcc354377b6be5667f7620acd1ae6b85fdc37332653cad1d'
            'b159ee56fb6c0fbddc3c82f856b2d26a45ed331c1e51ad92519baf9df2ecf4a8'
            'a8f5e1b9ccd9616f51edde0e7a9a985ea0bd69b02feeff7037be7464f6f6d7ff'
            '7d43ba8d312536b1e2fad507ef6811ab44bec8607e51c5a3f38df23b8d66976d'
            '279ed2461e2112d1b64ff8c3e436318764f7183ccaea50afdc3a3a8757384b8e'
            'b01542de0e858036d7fa00fd781529f80761dcba5d1438dada927bc0701d702a'
            'a2ba58360b0b74ea90adf83f7b436758061e93f531fc89e167f714834216a096'
            '738f723e4df60f90c76afa18a0734411b922d7fa82de4c36c77b81769764a03a'
            'd3e7f5bd38a4f80df6c3d7bbed5940c5c217dd7a64737da6993d09220fd6753a'
            '9697551541f857ab97f7312decbe520813cc2a7b76beb8a460dee91ac88bb14f'
            '707380da849d81bcde4c587180f8c27a5d2a95a2deb15ca4d5ff8fbec33b0a2d'
            'e658fb4f3edaeeff21d8c413e7378f38138ff6f71c8026b1a53c3ff8b34b10a2'
            'ecb0539b11ebdbd54199bdce9da1f4d136d15077ef52a37a11c147fb81bd7c9f'
            '939dd97a9ec0c490057219a88188f98e2c03ce3328703d7f7d3b1c103e58c013'
            '4b5ce59abfac33ca04c2bf5faca124899c5489f9cdaedfafdf77ae207dc654ee'
            'd1fa6d07dac17f2242a5220ef645d83ebfcbb9a6294feafd64a60656c04d3ce6'
            '3875c4718e83b671553bbf4d164b3fd10d9f49b91a3031e41d3d1664f492f539'
            'b8aa693b199daf3640cb1345cc4df378399a3be7516c7e671f2e0871e6aa0b0e'
            '14a1fa4331dc2af8b094c600abe8cddf9961b83384092271a999eddf4e972e43'
            'a634ff44bfde7b3bcc6cb8359942c2eef42a71e6da6e19276ce3977836a7e247'
            'b4183dce83f47b65f9003aa74cb4227d06add9f81fc92748bf0303f44740a2d8'
            '877feeea6b16e85f0fe5dc9ac81e5dfd8b30c9ad12244a9d94f1f0e9983a51fb'
            '670ff5aa3bbf296f35966a8022a4f4561d58ffa309c25ed5fbebeb9e9925b58f'
            '9e545a7b9364f0b744941f8cede5c5e43833c22185c626e8b135c993ec158632'
            'fe1af4f5ae6beced5160ee571d778a67124755154c750594c15fe1b8c0101d0f'
            '2ec40184da50a3b0059b059116e24036f6d410e3c764b943a79ba150005b8146'
            '08d8ed29a8af5e30f4a7e88b53f859dca4c2dc9a8413fec715b9521b3b265aef'
            '9ce7e54ba705bd6ed26ce25d0c4d9cb476fa8740a2669619d73d72a15cc0dad1'
            'c38add2e19e7a871514836a9f5e5241a82f37475a8cac6e2499d8c5be54b1749'
            '12836dee46b7726bd627ace2839ce182ecdb10cec0a5c1ea7689eee489e3dde0'
            '6898f4bf1ff4133fdb7ff5740f7ff9d84a151ae6ef3843e6bc732e820c07d102'
            'cebe9f8371328d1796da9fe1909fa8606170e6c940680401ebf830f31ed8ab4b'
            'cb4ac1f4f2e4d9316b28ea4a6c2193c077770c42b6c4ec751b968d385b78bfcc'
            '786181cb017e863a520135847d2ca3681d7fbf3136cd2adc4510302f9f29d6b6'
            'd3cc9cf13ad19efd29e8076842dc16a8bdba7e032d4f6da8804edd16aef46912'
            '976892436e5200ae345e5645771d75786196f15fd0bcd447027963186c68b8eb'
            'cfd4890f008815f5f8293a8c029540303310150cc0a50721fa6296dbce89047a'
            'e2fa4a94274bb7e75fa8c8d3bc166d6fe9ffe86ca35f6beb951abf890a63ab02'
            '805494db3fad6ff8be845a15400727fd6efadb20eef1fe81e42919d537313806'
            '52132170b9e3edc459469f81d2651663e5a87b03a99dd968f3080d141278d8ba'
            'cb17bc85bdaa1dd42f6de3bf74eab382e9265d5a4eceefcf2bf7c428869f3eba'
            '2baa49451e6cdbaa29e9a760e740767da078396ed8bb9e902460baa9c97a2075'
            '008fa5444b12fec4cc28436a02da154f2048abe623ef8a43336fb0d14c8eb4c2'
            'b29e4edc5102e5208f6ac0191911261797dc0251058b376b7e6c6cc0ecd188a8'
            'c51b641781a60a30255fc36aa3218230de86763ca3b7cbbef1608691aced020a'
            'f718d11f202631bd19aaba391e8437aea21285506021cd854d6c9591c27247cd'
            'c9592c1f92aee85ab90e9e3450418578c9109f8d07f6b9855524c86838e5b027'
            'a59185e9e808b3542eb283aca3142b20b6b77cb9181cfb8966f84c19294ee882'
            'db05a77b44dac6e04cd0cb9aba49dfde8faee72a0be3df8a0df56c239376afcc'
            'f755a1d7dfd03fda23d6fce4c484971cdfd3b7e21b53af1dd28bfa12dce17f56'
            '7732ff41dc2d17e079484e4ccecc19edea85c8e7e344b241c642ae193445e7cf'
            '0762d60ca8a1a050974b11c8d83faa97b33e58069d5be75bb90fa98cd7e55cc2')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['as']='Assamese'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn-BD']='Bengali (Bangladesh)'
  ['bn-IN']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['en-ZA']='English (South African)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mai']='Maithili'
  ['mk']='Macedonian'
  ['ml']='Malayalam'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['or']='Oriya'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
