# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=72.0b4
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('d5ef7a07d0401426730c7c8a62b58352f20f0ee4a4d3a1592d581a2dbab08870'
            '6112515b07a2b0e4200ad583cb7f466fa545442e1057317f3067eb7a5d1404aa'
            '997ed766242664e322fd9e73812b70a70238bbdb54341a93ea3b4f3bd5468fa0'
            '15dffb446b3a415af0d073822c5c07b607b09468c9db5e2d799af2183591fe68'
            '7c7a877223b73f8839035172547f263f5e69a7451a7d2df0f267dba21af73ac8'
            '88ab1de6ab9d4d591346259e9627233c705855f106e08f30a603e896e5868bb9'
            'c56e19a663a2d1e564f4759f99f8efce4216edc08b0bfe2185ca16d964fadde6'
            '0735e354d745ecf59279b7c25af932928e25dae9eaa9326535f1996f21afc331'
            'bb91c22edf8a1a58d3643e3b2d2ca103541ab67258df87c8cb17871a327087d0'
            '451013d93728d7fdabea73fbc16daccc2132ac08cd9ce09584e408fb69a246d7'
            '14bc51f372c58783ca41ca0995d6317ed225005feb27362c6c26a447179b0d10'
            '93c72968a3492d24c4f87a8de86e5e43a780071300bb64c557713770fbfa54df'
            '36244707c7c12c26e71e2b8a33cab1285f812cc39868a60425f2dac4eeb63a84'
            '81917113788db84e2d3d8e7bd5973a00728421c044181c611cafa75ecd175a0d'
            'b6f81a7c4a6ea4ceb98f3e869d27a00f800c1bee9ccdacf5640d7cd2653183a1'
            '7dbc9b88a6269b89e7180c9d2f7eb9c75d97178479a148fa3cfb0b4ae716f680'
            'aa91dd04763b4896f126d4004513edf85b2cae07c74ab7c3848ae9198f51b6d7'
            '9dbbc64286041d37eae6a80d700e18d9a043519bc267a4538ba63717bfb62ca1'
            '11a69f064578da1d78ae3f7d983f3ca9887bfb83dbb803651285c490f2399514'
            'e07497d057e4a0f23f9e47fbfefc023e21ad856e3dbd18d3022b3b1a895beb23'
            '5e07ffa351a107ff0e0e40aaa5bd7eefc7d7bb5ffcc4606050b76f92be128683'
            '5b1820532087091a85bbeb2c3305d5553574482a9cd5eb838548bde60738834a'
            '0b3c551583a4682a9b2dd5064b0cc09fbc61a49a810349b8b7081f42ccdd4687'
            '783974e843a0a7202d42703e92d8eff5801fdbca31c17d9b5bbc21124f528354'
            'abbaa150cf50f1bc182194a0030245852176b4d9d538487e7e270300fe21bd91'
            '6d9b4c72feb9d68c15ceace1efb9d0a57e7c0946790ba58aa87658bbc8d4ad9b'
            'a071ffd702676ab430a34f35eb7f24b5fb1d6f4d99f0e69616160d402ad43b7a'
            '16a14f2d6c0020585085dd6e21a2818c690d7f1857f492dee866b77e06e71f50'
            'be9d53917b260601ecbc7134d023915eb73b1c38f253277ed75f7ea6dfa6b15d'
            '493dcb82a63f72e0e96bfb75087c4ba86210a0d10093515ed7809726a9616fcd'
            'a7c8eba9e3104d2566858bca08482753feb468a50a65119ae00d1c6975af3fa7'
            'e25db289512848fa48620196a969c90eb5eec08fd403dd9f741b7c53e69cf4bb'
            '6aae73c22d24c0ffc30635c3b48b9167e72b5c075c4d090ac2f2432cfbd6ae7b'
            'cd296892e4a17bf503cb94438eaa8b55f80d8c967ec160c6c2be668b30cb65a2'
            'b1bc40bfebcbf3550c180e35b31deac23a2f89177763cc1c2defc1cb76ae1183'
            'a7f810dec8dafa9a8b36b80506d0edff655c8b5f8b6ee0c5b6f3dae216a112c3'
            '47145a7783c9bc69384d209ffd97a4a88429d3422de6e219e18d53d50645fd69'
            'fdcabca1ca564e585858afdc2d66f20a8f294a8e3eadffb71d0332303ca2ead0'
            '66d5a5e5221450afdef2fe1481274b72ae8bd109740d8f3ffb62d7221696e668'
            '6f214f86a8fc743bf6c55eb1a42b3fd51c1f2154f155250196351d412ba0406a'
            '8ad37e515b7523dbad58ac37318da7dcfde83c8361d3b582f17571872ada94fe'
            '55f6d420876761ab3a89209408972b6af24dd434b35e52879b0d14d6ed78ab93'
            'b15277fb79a23f6a0110a7dc178b53501b69eca800961aa8da80ad3be98bdcc7'
            'e65310ad98be7a655be7c72960ef70fa1b7ca77a433359f6ea5909e12123d1d3'
            'add1dd62d5a85192b9cd1e50fd40a72f764cab3d6f693e5ac2206b6d1ec37039'
            'aa2aaa97f89520748594edd54f5b62502bc03088d9f6ac17d261164720d1cc8c'
            '56465ae8072142f69e0e16b7fe45dc4db749189e430503e0b2b36d73d14eee2b'
            '69572778f4dfc47288ce06343ed359d1b9ddbd74884b2938ae38b08a0560b074'
            '83464b913c84900da54af8e36cefeedb4b9ac1739a6c92f3880c5976c5b90357'
            '6da4c6a06e31cdd9e4c177fce47487607e4a0479df7e14652d3b13fcdc3a04af'
            '1c9871c74f4aeae85a4f9afd194db828b315b9653a36625d9adfb7372e99cba9'
            '7b67a82eeef49b958e27f0733decfbca70401928589a23be119e59d433d3aa8a'
            '70b8cf1f90d92c98a9649429fb7ca2ed665caccc0b83435c3f34b7e5b57d515b'
            '85b4d6d825fd3cf1ec5da40f9a5e38aed686a741b845d604ab607191269240d6'
            '3f2b5ac8ca2291bc577cc087757f104f0eb90159580407f0def27838b540a653'
            '165dda39b83b66358d8948ad27b0fb545bccd3372f6f3dd1008a5ddf12d28393'
            'db1602739be9cb095f1ef2a75ff6e80042bbbb7c9935fcbb9f939a62ae6ad20c'
            'f384735d0b4598fb518ffa12268132850869948b16bb2c73a11070c9cf904053'
            'aa85c7e44d858d4b812e2dc4e11de29540c85dbbf49e8746409af1ea9903a66a'
            '6c059a419df7825feb5312083a98a96004dd0cb970f3553a2b7680aff304898c'
            'cd783c0482abf65c082c965376718f40f03d7cbdc70f20369a22cf91c3ec0e36'
            'db415d43691fc317341ca9d615f141a50f331d20d527a23c005476fb278c4c78'
            '8f47f061f1ff685e3f7b537f51726247d3413713b28d6668a62f5a65f5422a2e'
            'e5c965407ed79bd6155c108e25057215c410441dd402843de07b9b3cbb0532d5'
            '68ed334e229d003e0c208d7614e111297bc3cd2294901840a6443682234ef721'
            '18eb1a55bb5195cea1d62230c2347e13e4176b42273f3d7f19e83f9a4b465602'
            '1e10112a6ceb278681946a12b091c1d53843823014e26c563db88ff74aabadc9'
            '2d97f6b97951398b8cb6d92917ce9401c96af49c766b5a618d2434fe6bfe961e'
            '85d99201eb909fd2c3eac518dce0bd496afcd421287dc6f43bc8b1673dd317f2'
            '8bf71643eb303ade8429164afdd21350e7747163f63d050fdef69d1930eb687d'
            '4a95a540fbc4bb5b94a6558b6d55bbbad91293f8adad7e7303ca57c8238a442c'
            'a06680c2d45653062341787b35599492ca0c2ecedd315576a2e3d354e5a97262'
            'bfde66cf01d2facad7d047e38d8d4c07d2ef1dc75be14b1d8a8e54a889436c67'
            '1da43e592e90c3e28231e01a1934e52e87633fe21028b9787d0ba2102b6918b6'
            '4f64574e5e5ab675cdb4f281c893f6b983de415b1cfdf7213582154315bd5f42'
            '4d26dc7a54090681c8aefaf7014077ecf29a5291abcec636f6a07f602f07b372'
            'be360a2c86f2831d66b0c06b5cc3e096d19278c4edd6d61ea2e2afc82324bba6'
            '4a7a470f75787c06b140056b3f239e645b43d4ae85f5569e05c6cb4d61706be4'
            '6d9e08abc34b07d7b57773ea199d8eccb4a502c1fd2e312938d9d98fa2833cb0'
            '78aee21f95f13469f5ac3dddcddfbc4b88599d0a2321861d9e48b3555c3317f8'
            'e89f0447395091d7ee6c56fcf0ab0a06e664b21b8bfdd090c81687b1b56be40f'
            '4c5fd4e22ca51e6d8d494dc162726475da4c19dfc0e4670c1c23a0323ba97306'
            '7d7cbe09e9167013b45d7b888b8b72154749ffb264f0ea50b4baa7afa2adf094'
            'a4685f86d7bd36a51336ab1d3898214ed60c6e1e2ba2ded8c46f7867a612c673'
            '338804261c7fee3fbe3c20edb8f8c1549db397a66cccd9c2c2d72ec691d7f8f9'
            '075690b288c5770efc3689be5435dd15dee131380097d8d1954b3c4f737ce784'
            '8dd8941e0952f1430f9781f87506eb4f574644d386f196f0f2891498249f42fe'
            '4f354487bd082ea8c146b949e1e3c761091706c6c990ae40f62099a11e6b4f52')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
