# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=70.0b4
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('ca0c68f0641e81b2a6f01eea0d77c9585c3ea932f102dd61b34d42b0b618862c'
            'd10060c66f3728e5f1e20b587263f1e3789c3d07e92f6aaebbc3336f17926009'
            '2c3cabf28c503969b2c9cd7fa43d4e1600685c00c9d6c5e13a4f3d803b8d1675'
            'd57cda800007ec25bca69c4a5fc8918db555478a60907c70e8593b75b305a3a1'
            '7d5211a149f3e73049ae1253b204e52485c6b66571cb5691e71a360fc9fcbfe8'
            'a87ad59e49483a0374abb5c51ce1a604c441dd2bfea817765c8bd58a4a90c397'
            '62203c038c655041ed6b0059b1e501e4d764a2bc3ab812cb2ef352791e160ec0'
            '3cc0f29a7abbe840457ea667c2646bc4815d460b9824d67fddcb7faa413cb485'
            '9874e8dba1536017fed18e2dfdbb5dea6201565114486e226a0f2683736682d8'
            'abd7e4936acf8b23089e78b1e9e8901dba589599547a6fb32d485d6e20e0c39e'
            '3be42db3fca4fd93f8c3cb2fa29a2affe1c1d0f027b2a2bbd0e0c96ddd01b109'
            'cde92ee3ed80913a949af9384b139270ade744c2f4997234ecb1043594cbbf1a'
            '65844ccc8b1b09c4047a779d8802297fe94568b44fd83a3a3aac0f4fae98de4a'
            '828173a7af1956f103757cd248922a243b343bb689387f2043dfbf22b8fc2911'
            'e4069e76f677d1e3a949e1e0869bd294a16e2e07db6f6a877d4612d1ef3da4b3'
            'e7e05c1c5c0c3e44e6d907faf70733e128cff14bf6f8a7db4b26c65678cc6aed'
            '9bc0b8c5ff8260bcd15249aec2556e8268e8d90bc890e96c05eb985d4d483e3d'
            '619c2c127f24925c1417a14a1667bd9bf9480d96b0ebdac3a0a84cf0f5b3312d'
            'e94bd6e28a29f934ef31a0bc179061d6e86a63c0b78ba38a6321c02629fbe928'
            '9c63d793c2b2b22d7cac59a59301441228e54ca7957daa4fc24a1eec5a6cc283'
            '97f24977324dcfab21f7c2bc9d00acd4f3897f6e960b991253d3d3b78c3520ee'
            '227a5fad72477a3cebf69bdbd17cb9c16b0cd14596ffd8de82c21bbbf6ef2f8f'
            'f33a9b29b0bb3502c2f5e08360da10b5788561c7abdf48de4cc1c96f22642df1'
            '2356f3ab27b7249ff9c602b32ee58408265d05a7093dc7243ba1a53aa5047418'
            '2133bd5dc722ce4c6704f8ef88df7ed5299aabcf91145c742dee1aef06038e23'
            '480a9bfe7a8a61447dfc6771611caa605d9cbc765f4968e036bd49f2466501de'
            'f621411b1fbc7d252a892b89b1f9d5af11148f8611586543f80f8c5c9312af56'
            '8d68508d47486c848ec9889d8e7f17ac2c438bf746b077a2df3500d54bb0ccfb'
            '19d3a5b19d645a0bef6562072cfefd799f660c3f226cb1e5d180d86b4381a275'
            '291e944f9b21403da5e20632f030bb4fc9df5074b8779bf21da7f132d3d534dc'
            '23e20a5985982809b81baeb5079f493cac613c64d007e968260e0907984e07de'
            '05d3170f387b9f33167676e3a5a86f1750f3bf9268ed45b37b74d95387497dd8'
            'b0f2cc3c7a4b2e8b09dea65637144f77be0c16e497c56e2ad8bfa1719e858e91'
            '550239c1b39b57cc241e10c7b4824c44c94d3c5b3c3d048de0f83b0ec563bf68'
            '3fc4ec154f21af933dd47a2b6538f9ddebaa083e360273cdb219b541e0230f03'
            'a68c71b8c97b46a72d6551858aa89c1a4bb63163d12ec8aa779261c10999d1f7'
            '8bf0d912a604d5b8e3b30bcb37e7cb442b486f607ab37b1781af0a5275c6a78b'
            'cdb4e11936c933c17803ad4391ae86cf925a8e314f357481acfc3ac881cb4347'
            '3e718eeebf68981727a1523c9c292a2bd1b8874cb52de105385439cc40538846'
            'af15b65e4e35224c626860521b2646adb4ce175d35f7261ab817b2b258fadac5'
            'b45d5535fd89d9008190d491c13f029156c6dfa9ef9b7ed35ad66be9cf463bb9'
            '1ce7fdcd0cfac1b1fda88912af7be75f17da4d5187dfc75434cbc0157ace1153'
            '9522463f94334a89824319b151f062903f761f37cd5392ac00716fd20a004f77'
            '341c7738310f1770e4e412cf8b08af3f710ca9c6108d666ebb316cb05c5b2aa3'
            '2588b54cb03039cf79140f4661af858bd136f90325606d7df10f172129417bf6'
            '5c4f076accf2ad34656e2fa3f3858dde95c22145683117266e4a12ca661c40ef'
            'e7a57df3b6945d127e1b1c85035038f95a35a50fe4f0cae8a7337f70d4d34d0f'
            'd396c3feeb5ceb97bd1ad03e1d31895af8bf3a89e92770011b0d8227da07e074'
            '72b81ff60df62d21e71ac042c884bcce98b1f33fec68879791e4734ff03c6ba3'
            'f669e8e7203525df26215778635c7d47931843ceecfefa3be1bc064e561ccb5c'
            '30941ad287cd9c49669d782acf38f359ec3cbd8d68d1f794bcac61fc58eb5545'
            'a3eeb15c4301e484fd586f1093c38a3e6bc4b27d9f063753396a464fdd0b3ffb'
            '85bf019d33222beabb2d21b07446a62bf01d69c1b61c26ca07a9ed045082fc9b'
            'c929f49523ce4e8ad3d8d340b157b70eb942b287c8fe845f8c3579dffd264949'
            '17ea5564763c122d3bd0f29dfab9c2067e0c320a8f81c25530c858865c875d89'
            '175249eb195434d1427c192cc26d311d41226bed886cc7cab666c4eb5bd2adcb'
            '669039e50661b6890e3e4fe79ecb06c21f445e09b7f3b193df86b9c33246c89a'
            'c3df8668cc81264437faeb534060993a152f1febdd67db63998da486e94711cb'
            '2323c4436820db0198c4d8c053d1acac17a30b3056b10a6ef2ca74a7ac6b607e'
            'acd8181f0638f7c6aa4749c55203471a318849f4b841428f5bf05db52d49523c'
            'b79d578123141418e7176970cd1e797e30e148b8891d395536c4eed6cfa53085'
            '4b4ed62998fa662c45b12e291c330a142891429343d0ccad42b44ccd528eade2'
            'd5789e33257db7502afa09bca0fdae873753b4ba7a1d93e4c48df344d5f8ae2a'
            '3111744f281d840c7fdd2c0bd83cffe23aecdbd2d0b074c2f6dcdfa51ea638ed'
            '6a54bafc135fd9c110cc03544240a032935eac9028450b81a6b4cbf74a108a5e'
            '9c8c5d8e3c08b587edf206a2fbd8984f545ae1f27ddaa15fccaaa30205d9e916'
            '485747c0fe6651be16cb9bb24c405f49fb2b2839f1beec658c8ed538d95eead4'
            '43e811e98107096d95215f35a28eca17f623399b58efde35f02537ea9e166f52'
            'ce4523f474c3ef553a7bba9cfaa96a83afe9981c6a04e900c9f230033a538951'
            '9362a7812ea0a670b1a0de5393b1c2980c4d3a6cebb017eb7eca0b75d000e8b2'
            'dc3f2d550a06050cb7888ffd43273235ebcde8ea88bbb84159fef3aeed50c3bf'
            '4dafb7f1e0970b58c3b0973d859c41f097b3c29954050570bde6f97fe59713f9'
            '982bcb88915decb1be5de50f9a053937f714557824ee5410d79971a6219020dd'
            '3a5988d1a84ce20cbe28f5dc9676fa1ca443e17f64d2427656391b42ca9982f7'
            'cb2c43b7b1bc93f8c7ebc415a0bfa4cbddc4bc716512e26b0c63ff373f601cb6'
            '12d60665575b57a7618011b4c40de57ab67b47a57f815f7d8a6026dd2f283e25'
            '44ba8bf69be55b2c3a13bd0753e04b1cc8afd1cfb5aad5ad354d70d82431478a'
            '637cd1333ab53b110d3fe17749765696e57ddf38d2c76bdc645547bde3117d5b'
            '936d651f4879baf65b941ff4acbcdfe4d92b5bab0c73d98d48cc35134aa0f97e'
            'cd3eba05798af66175b096b0c640a50e09c7df4542d58e34ee6aca46ea747ff2'
            '757c5deb71995ba70d34c59c82abb3893a954002868a07f48b8e9ddc5df567c3'
            '299b677dc738cec6562880f75f8f07ffeb4d396fb68696a8d5d806d7e5f9e6e6'
            '158bff073e6041074155de963c3f1e85bedf873d8e8cd74f5f8c46be3f824cb8'
            'a1214f695e78422b1c9adbd8eec5febd544b0846820a1025223f70629644b4fa'
            '1761055ccbeacc64539c1f8930c0e426a2de11f51599e6a2aba4be4265cd6851'
            '418eedddf9d8be6f7e4e9000641f5e0964badc8073c94cb6b1d7712f9c112b3a'
            'bbfa7b413085fe36acd99259e62b035349c202ba9fefe7b72eaa6bbfc4185605'
            '9c28d73018f2278ced4dac658e09a2528f8ad8202c2f67cf571a89b35bd4f32f')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
