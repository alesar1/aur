# Maintainer: Willem Herremans <whpgf at scarlet dot be>
pkgname=pfm
pkgver=2.0.7
pkgrel=1
pkgdesc="A GUI for rapidly building forms and reports for PostgreSQL"
arch=('any')
url="http://pgfoundry.org/projects/pfm"
license=('GPL2')
groups=()
depends=('tcl>=8.5.0' 'tk>=8.5.0' 'itcl>=3.4' 'pgintcl>=3.2.1')
makedepends=()
optdepends=('postgresql>=8.3.0: for running a postgresql database server'
            'a2ps: for printing plain text reports'
            'ghostscript: for converting output from a2ps to PDF using ps2pdf'
            'evince: for viewing PDF files generated by ps2pdf')
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=install
changelog=changelog
source=(http://pgfoundry.org/frs/download.php/3140/pfm-2.0.7-source.tar.gz pfm.conf pfm-launch-script pfm-postgresforms.desktop)
noextract=()
md5sums=('3146514a5a22d8425fae78eacdd70d49' 'd3a75c57fef4c0b7c955090e3f1f84aa'
         'f1377accea2fe03226c278a9283ff3cc' '387aae2268ed6bb43761d808f9db91d6')

build() {
  cd $srcdir/$pkgname-$pkgver
  install -d $pkgdir/usr/bin
  install -m755 $srcdir/pfm-launch-script $pkgdir/usr/bin/pfm
  install -d $pkgdir/usr/share/$pkgname
  install -m644 arrow-end.xbm $pkgdir/usr/share/$pkgname
  install -m644 arrow-home.xbm $pkgdir/usr/share/$pkgname
  install -m644 arrow-left.xbm $pkgdir/usr/share/$pkgname
  install -m644 arrow-right.xbm $pkgdir/usr/share/$pkgname
  install -m644 cat.tcl $pkgdir/usr/share/$pkgname
  install -m644 config.tcl $pkgdir/usr/share/$pkgname
  install -m644 convert_from_1.0.4.sql $pkgdir/usr/share/$pkgname
  install -m644 convert_from_1.1.0.sql $pkgdir/usr/share/$pkgname
  install -m644 convert_from_1.2.0.sql $pkgdir/usr/share/$pkgname
  install -m644 database.tcl $pkgdir/usr/share/$pkgname
  install -m644 forms.tcl $pkgdir/usr/share/$pkgname
  install -m644 install_pfm.sql $pkgdir/usr/share/$pkgname
  install -m644 misc.tcl $pkgdir/usr/share/$pkgname
  install -m644 options.tcl $pkgdir/usr/share/$pkgname
  install -m644 pfm-icon.png $pkgdir/usr/share/$pkgname
  install -m755 pfm.tcl $pkgdir/usr/share/$pkgname
  install -m644 postgresql.tcl $pkgdir/usr/share/$pkgname
  install -m644 report.tcl $pkgdir/usr/share/$pkgname
  install -m644 sql.tcl $pkgdir/usr/share/$pkgname
  install -d $pkgdir/usr/share/$pkgname/msgs
  install -m644 msgs/ROOT.msg $pkgdir/usr/share/$pkgname/msgs
  install -d $pkgdir/usr/share/$pkgname/examples
  install -m644 examples/install_addressbook.sql $pkgdir/usr/share/$pkgname/examples
  install -m644 examples/install_customerdb.sql $pkgdir/usr/share/$pkgname/examples
  install -d $pkgdir/usr/share/doc/$pkgname
  install -m644 CHANGE_LOG.txt $pkgdir/usr/share/doc/$pkgname
  install -m644 README.txt $pkgdir/usr/share/doc/$pkgname
  install -m644 doc/addressbook.png $pkgdir/usr/share/doc/$pkgname
  install -m644 doc/customerdb.png $pkgdir/usr/share/doc/$pkgname
  install -m644 doc/form_window.png $pkgdir/usr/share/doc/$pkgname
  install -m644 doc/help-styles.css $pkgdir/usr/share/doc/$pkgname
  install -m644 doc/index.html $pkgdir/usr/share/doc/$pkgname
  install -m644 doc/main_window.png $pkgdir/usr/share/doc/$pkgname
  install -m644 doc/open_form.png $pkgdir/usr/share/doc/$pkgname
  install -m644 doc/options.png $pkgdir/usr/share/doc/$pkgname
  install -m644 doc/pfm-logo.png $pkgdir/usr/share/doc/$pkgname
  install -m644 doc/print_result.png $pkgdir/usr/share/doc/$pkgname
  install -m644 doc/schema.png $pkgdir/usr/share/doc/$pkgname
  install -m644 doc/sql_window.png $pkgdir/usr/share/doc/$pkgname
  install -d $pkgdir/usr/share/doc/$pkgname/en
  install -m644 doc/en/body.html $pkgdir/usr/share/doc/$pkgname/en
  install -m644 doc/en/contents.html $pkgdir/usr/share/doc/$pkgname/en
  install -m644 doc/en/index.html $pkgdir/usr/share/doc/$pkgname/en
  install -d $pkgdir/usr/share/licenses/$pkgname
  install -m644 license/gpl.txt $pkgdir/usr/share/licenses/$pkgname
  install -d $pkgdir/etc
  install -m644 $srcdir/pfm.conf $pkgdir/etc
  install -d $pkgdir/usr/share/applications
  install -m644 $srcdir/pfm-postgresforms.desktop $pkgdir/usr/share/applications
}
