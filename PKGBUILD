# Maintainer: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=57.0b11
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('a3029614a26c52d5da9e048385c75898aa786c13fc3e28d7a8a6df696fb45d2d'
            'd7c883df3e0b089b6a88cbe968545810ee44b46b899c51a63beca2002ae4278e'
            '862a491353b1170cdfc03056d16d89ba933b05a16494d697640d37809dd7b611'
            'cd22c677f80ff99b242d23fbac92eee28293322ddb5e7d0562eaa07f4a085a38'
            '28a31ba5ac4ca2614a40ee1778ddd52f8149f5af0fc1232f3364a863397a5e2a'
            '22d57e1401f90656e8e58192d94c838e4466ac71f0749a294c2551c65e4a16cb'
            '41a576be5f61c904e16eb85ba7ed3b43cb303aa8d92a8c4db501d7031b51dcbc'
            '253b5fa61923f4ef2a5b02e056606bee45d3ccb00d5870cc18c9f6ebab01e8a8'
            '25b2dbd29ef7be1873ea9b89eaf363c723469c536ac9951e974d55446dc60d60'
            '545320fd56d71cd9bbdf19cb448337ccc32036f011aed74a738e943662a86df4'
            'c96414b7a3b435496b579716ac424183c391641a7fed52a5ee5e5e5cd26dd658'
            '0ed02fc603fff04d25cc525ed1405552c2d2c259a545516df623ce2930493b1c'
            'e2437ed1ea83c972c922803e3b4dcbd1a6f460159af0b81692e7e9a3cd92c2b2'
            '72cf63ab33280e455a23953b6f44fd39e05a2a0b0c1b7ec411a58479f5891f5d'
            '195551a9f0fd8e684ab5966fa57a8592058663b75637d8a95b7396ab7b438d3c'
            '4efd0f70abc0ddccaadde68d9dcfd3c55b7d116b604e656c2ad0d0623ae4c4a4'
            'a04158429a870232984b3aabc00da97e92ac49c691f9ceadfe75d6e79cbd230d'
            '9e14dd19701e9f89e01c90dda1e7a9ee23a93101d2993e483b9a962734a54316'
            'f5a3151789e3cf6a11d0813617111b033aa22dc94f37f4614a5c641910e2e0b9'
            'f2901db6838551e82c8e426ad51570668d8c655a405a4739f4003cd3a5eb963a'
            '2ed59b99484b487f539e3108a6df6f4c8b13d6facdc545cb025ea621d6b8ec25'
            'df877de1bc899f9c5c7741a06ef222d4fb59bb6a393bf193c1580ff5c57a750f'
            '629fd830ad4a5261391aa0a380f4c9e1dc63d2dfb539d9ae3a603b7650573eb5'
            '712a6476d7aec9001fad6abbf1b762293222b9eb51f184219118dfb0a3499d52'
            'f8aef06a869a2a60e46b2b4f1169b20fff7be0ecede69e1ea71e8324007794f8'
            'b387ca8ae7d8f17480bef5536faf9e0e0407065cdb8b332434fcd686e2401ab9'
            'c8a108779e37dec4137dc8abda99e992341045a99c59095b19a917ff1a3600a4'
            'cab059c1781b8eb87e571531aba3309c7f7c6189158634ca58476e6fbf67b78a'
            'faa99f584717465b65c073c81bb565034200846ae45208c6ffd9182dcc497859'
            'e4bf4e11f1b70d369f9560b011682ac53049578a94137288aed8e19ef1508227'
            '0425be3c9b63f2ce4fd15570b7fd5fd18fa86d8da0199e8f6fbb44fffa1aad02'
            '9dbd3a7d7838fc5505c0ffd2d18f6efc2dd43587bdd737193a941885105f68b8'
            '4ec6ff04c0ded2a8eb897870f7cb754fcc58baa0ca1e583d99a54ff2b00230aa'
            '41f02eb77794acfae05906e00553390bc4f15ca6fb5d509fa5cf8fdf0c7275f4'
            '0d5853862d5a4e34a3f7052d7da8f6a8450ff3d1afa1717c5f6dcbbc2da3b7a0'
            'a3b0acd8851642132048fcc720b3ce0fec241143555131175f27a5b298eda76f'
            'aafd5de5e8ce591d6f23fa1bd2fd6025056b939a16cf4f520d20f86e3d043ab4'
            'f8e3755fab10d8982661f41c1275b429d84e818afe4ac3bcb93bb6f82846f6e5'
            'f514b654dd925a7656eeff0dd2a736eede08257cbd369e885c8d962e5149c852'
            '13aa972d3efc44a94144954af13dcef51cc26503d907847f3dcfb5dc18080b64'
            '99411e856ce895409b9bf8371ea389319281cab061e1e0e50921d386068e2082'
            '2e9a2b413250d6100e31c3875ec942fc5952aa692ed93940e5571007899343a0'
            '5c6de34731e14ad592604593ccd815a0b58fb6ce1cb7d1ef544addefabefd490'
            '00d946df46cf846260e72f45288dc368f622bcc64a483acf065c5442ff0e21cd'
            '813af7f30b4b21d3263191a889fc4cda1a67e1d2fefed9fa33d18ad125f8c1af'
            '08156d6649eb6a13b6fbedf5f8dae15b12ee364ae12b27a5185f7b3f4a15d6eb'
            'b6615791186bdc6ca39ffe6cfba4f9b84231c14baaa40261445fa6f5e4aed1b8'
            '9c3f5cd35828ef57eb5c4a5ba60f6ad5a28ddde678002505801218350e255ceb'
            'b2594bdbbaec4564dc7543b633363ca991f37346de629fccb833b7d95fc12fec'
            'f3987cbdfee8499badbe17558ca8c3f398ed69e9249db3bc335f6f8b8d1403c1'
            '7f8c79610ee34075e6aef58ddd596c93fba15e009801e6c0bd5718eef1f19578'
            '2ed42056740589255d1d6bf2504736cd79cd80957ee86e26d608f1ef7f75caaa'
            'cacd335f41e39a9234485eaf654d3dea00c47c54dc8b4d6cf5af687e8260b857'
            '0ef37f26c013c30cdcb079c5950e7814af9f06f61c414d147a980948d8f55dc0'
            '5246f724bf7d6a2b043028f56cfb08f7aa4f8e8f0ccdac819c4c8aa041b805f2'
            'f1526f31f48602c6b11c9c73b3c6e0c1c68728ff76809d2a598d2c61d9947355'
            '912dcea9e7fb5800138f3bc9224ebd25fbb24383b580f2a9e17f68f8027a70c9'
            '96280b88461e4c30f118cc1c85962ae3ace203d6d5d3dbf84cc97854c133b3c1'
            '6a97705c78e8d278770aef4f76e66b223c7ceab2278202f9eb85e9fcf5ef3369'
            '5b3411dbfd7005f23de68bb05d4ccecd36b3b27caa18c4e4d821f1b3091984f9'
            '6219e7c025fdf3d55e78f7919892490d980f79fe83607fcc19eb41fb7ca008d9'
            '0740d67e9530804add2305f037231620c7fdb03c204588eb663ad9ab62ef5d12'
            'bc079f749902e45c6fa0543c6612f471346fa8745c923ad192e58cdc5337aed1'
            '7babf73ace523375cdee981c885280a499b859af09d2393b1230b18fa1224f31'
            '66fcb71ce9117cccac739ad6a2c048128cf0955b30cef387ead15368a6253eb0'
            '8b9cbb4bc8e7dec11a30187acf7f74568249324afd7cc9587e8f3e489ccb1088'
            'ab56bbb8dc8cf147ffd00e2c8d7c59eb62e4c757d0f1d355845f20513ab9f862'
            '72cd020ae95c47b1189d0311f44548c4619c63c6b187067fd3a5b36f98e17d29'
            '0d51ffa8f3eae61c4f45f47be9d7e9a4d941a376b7e4c84aa4075ce409a245c9'
            'cf835b40936e1f65915af8affb889264a3246c457a4f2406976356af6e82497f'
            'f6d86a42582c443bdcbda753c6b30763955f15f9b46e0c5e88be1374d978a205'
            '68d43869ae1fd47c76d2778d544d954c846de8b56b66314d7c99518e106b0c26'
            '9d118397a5400a010f0f19378c33b880032d7f5cf323ce97283c5cdb0b0d6fbc'
            '9e60affb7922027e072a0a6a7054a5f7f0e525276057eaa3a5dfc0f8cfed23ac'
            'aaa682aa5ded4d9c366e49e915f4bfb33800ec7cdf57196e61e9ae2596a3fdcd'
            '3beb60c437552d2f59f9c64e5ade243e537d8b29498282bdabbeb9baa8cb84e0'
            '107b76609e32c81a6343001cfab656791482e0286e75e9aea39cef1239f1ecb4'
            '94385e7462a2baf65244192835238ad1ca8c0951b70d44ce696e7536687b99c9'
            '580639de005cf7a7d5f469da6b195a5d84f3c747839615d4deb3616d1fa72fcd'
            '739ab8cad45cb97518bee2b3ec95292e1df5bf3085964959c8abc3b4ea6e8b11'
            '6fa42e977fe73ab7f5ba40dd365e0c7f27b05aeb4653994bfaa5ef589675fca9'
            'e9c498badc80686e129fde96a219136032591c5e684e9c56bd16a8ab42c2a4a7'
            '1f1a96136b362b6f16a759969209f31722b076719bad6f3ceaecc3efc1c06ba2'
            'd75864da687905251d4c32035ff517c2980f4132ad6ca2f39b5da1f4f7bf3356'
            '6733c475f1b07cc2d8a420b1c5cdf185ab4c43270957ec48b9afab208ab205d5'
            '77b27d2a0cbb23eb07de9b0350dd1d391598e03eedb41c85cbe8fc91e7c2f6ba'
            '3292f2d9168f6d90cee639f4358ea83ef7594e681f01ffde191d993943f5ca2b'
            '9048ff16d4c959e314e00271a929d6d3e833d86b72436d091a0f9619bd7bcb2f'
            'bd9bbf6d74b991a439d453078573374b4d6ef6583f48cfd05c06fbdc96707007'
            '9082bc671556d950ad11ac96482c03f658455fe3f985d0e985357f3e342c0461'
            'd29df71118ca2688de28641b953d239d0095eac62981f71c9f4dddbbae1e8db6'
            'fc747e21dd3e555c5470622abf3d407bad94d40da360f5a4db12a9750f1f651d'
            '808519ac8926b4a60d732cc4bcb4124d089bab17368cba9b7aba6add5adb298e'
            '515c835c6cce5321d7377c1b415ced2ae50de48b33f8e1e5bae259031343c3d8')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['as']='Assamese'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn-BD']='Bengali (Bangladesh)'
  ['bn-IN']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['en-ZA']='English (South African)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mai']='Maithili'
  ['mk']='Macedonian'
  ['ml']='Malayalam'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['or']='Oriya'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$(tr '[:upper:]' '[:lower:]' <<< "$1")=$pkgver")
  conflicts=("firefox-i18n-$(tr '[:upper:]' '[:lower:]' <<< "$1")")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
