# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=71.0b4
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('322244979ef61824af4d383270dee3f95f42a4f1d5f2d4b1d7f68aa9e12483b6'
            'd6f1320d04fbe4544d9c26339b7adb85b60f9cdd5ac4614aee1c2b9b1b779fac'
            '6975fa1d88fec7229d48ba8d77318247961370e50633e56962856e8b7a2b337f'
            '8b75d1ac24a15a7885af802a087414404fc599888f108d26d8a5269d3701a4ae'
            'd51cfe94ac0551544a296750a583e6865304ed159558bffaabf9109754711616'
            '9db33fc3531fbc8ae82c7e036718c319b248e67e134a42e76730907540c8ed5d'
            '3e62aba3652ccda17495afff38ce84d6d742b8af0f51d50b2647757e93fd30b9'
            'a6efb50c634f5f5b9fd226fd9456bff8068b8e3ca6448a21b58e4673319b82b3'
            '091e8370fda1ff862ddcab190957a3a21024da1e6d1171af523b76f3c3a59a92'
            '47b3e46344a34f1ec89cc80ab0087300638fcf9096da17a9309b90a98b529406'
            'eaede462278a0e7d44e781beee71e0af906fb25fb663d71229fe50c7c6135e68'
            'b6d4cec51850760f468938fdb4bc76ad940265fd96cd8db7a697090521c53cd6'
            'b46733529a47105617e4fbc6aba334a86aabf0ea705672f7cb45b9cb2d7c69d7'
            '9b59b0819b1228ddc55e52104447495f7dfced6d657a687534498c282ff1a281'
            '992ed2cf5fedf639c461e46d76a2684443e2ad10fe2a76f4efd9207636755fe7'
            '1699d8f2eee16ad61569db2080afbcf4f1f83044b76080e1c254cbec0669540b'
            '6754520e658321ad0b511acc6713b99ce0a314e71419f253b6588e3afc60dfe7'
            'b3ccc349b7a232aa473b56a7bf23959397b954de147dfbaa5c810534da443a1b'
            'f58b52939878bc5631faf349080eefa2647457ac27740f78e4e971caf9bbbf13'
            'cc8745fd3e88d603b615fb8f8b09f398e4cd6743e39fcf7fcb0ead10d7414106'
            '050d9b07c9bdfbe57dbd6adec0d8c42fb72ee31f44cff996932d479dccc67fb1'
            'e7fd05c2ebf5dbec8eec8275acd830e54c50763ff2eb13180ab68fa0c147e565'
            '6cd0fd4ee3256800487fb580320d1aadcd85bb605350524cd9362d29d89c6345'
            'cee362a8b80e4b08fc6099dc9c042452cc7655968304b5c51e4806cb94b2f7b7'
            '2ff951333dd6c03a7565b0f686198d499d7ffda9534ef5abbf67c29f37c558cf'
            '031a23a6f6748a0b6c603bb08731ae6b89a46156786cb586ece1b48076989ba1'
            'ea15b2a57f66080d6bce31dbd4a5a38afcc43eade0da0d8bb8d0239ad75af2fd'
            '51f42ea81a4c604fe0463e1d2b7a265f867030d483013c2d01c82d7f5bbb8f92'
            '2f4fda2ce566eab6a25a6fda8b7260a3d7dc07b74326c94f121523422de6a74e'
            'a95103dd9febb19e45604691f605c44fda459aa58fbf93134d65816334251855'
            'faa90cb5365ef1ace4c39eda1d2e4eff350a17cb2012cf842028bc6d85da2877'
            'c71b98dc7f57793c3635db0643cfd24391406e40b59fb0286305113ab38bd27f'
            '63b1b3e4cb4ad8d270eb74344c34c006521e889f6a6fe5d2a34628f189c1d8b6'
            'c0602185f9de07dacc5aa455258b4d13f61800da67c0f84d6669f3a3cc18df60'
            'e20b4fd6c252d3ea1806dfea786abcb7041a0a2b207b48d066449e9e37e09958'
            '02b97af0d918b396e56b50cede371876cbeecf2e9b8c8ee0ea8f4894a3d86671'
            '0470e824582316b4426a6c3e8fc5a736ced5dddd553ad4ea337b1b7dbdbf28bc'
            '4edf78d6fd8d61a422ae3ec0b3a8b8d67d8c7e32f704eaeddac230668cf39e7f'
            'a8d161e6f40be3dcd3d887376edc695ffb332d15e4d19cb49ca5311c2439c0a6'
            'e2e2b89c1ca0bedebecd55b8101cc1814701c1ae889cd150cdd54f41c07eefd8'
            '52815ca1f1263d7aab6801c2d98dd1fb3440c4768df1c6fcfbb0be350f2183db'
            '77110f923743744c5aa1af31fa701640968e3e3878261e929af8a458e7aa27d0'
            '67b31a9e29c369fa9bf5f245d2df89fac4bbadb5157bb5ff97f192e57bfda809'
            '535fdb842ac7297e3c54576b759109cf8acfba94464f3dd439044e3a8d4c7228'
            'fa18a4ce460425d06f4f2f1dceee6c7b2b0590a0eb7f49b8b46773e0e0233b4f'
            '95be897e0cd545e68abafa51d8de10a653c3fcbedbc0607b16852037f2975bb6'
            '97f19148ee6c150baaf2be47544eeb7fcf5acc6f6840cafc4be17d974e6b21f0'
            '95e792881c80fd28f3c8088f06e4880c798f2b44c6b59aeb3dadca7e345edf49'
            '14a2196f2e1ae9ae3da683d701c33d3685d1254a203ca615a351580f4ff7df93'
            'b19d86b8340a2e0d8b9a7e101bef0796bf28b2ddce0bc50d4ce4db07ace0c6ee'
            '3cce760927a5108a2e937126578833a45ec8d48e515d471ef4104dbd11700eac'
            '59439a5d866c45c6a05ec334f314077b42dcb1f1bfc9abeb17a288dae7f793f9'
            '23cf81eca2bf73ed9d102655f8b36c6bc7bbd27d5ad46257c6d99d73872321e6'
            'b845fadfd39e76ee4814dfef62088e50eaee7b87b2352eb006452fd1520624ca'
            'c53d8fc6e0c599d8382e0ad9d3e2426e243c6e7c616c4faab1c7ce721e06f57f'
            'ddf9f781986e47a51b23bc1a92481b0a3728549cfbf5c08ad7aea0e053d933e6'
            '5bb6b14596969de7c76a11f0c645f79e3783550daaf3f216ef7a592aefb8b403'
            'e7548fb20d6196ffb06f693b5e773ca481516203cb4ed2347a077efcdd1b003d'
            'c3304db0ded7656f224f8ffa88e3f74c9af530b2e06bed46f4a7f0b3b8945d60'
            'c30cfd906ca544497870424286939cbc7d6c64a552244817f104f0369c72e8f3'
            '522514f0e3675f1efbcd52804b8ff2cc92ce69f542385ec4b55e77b743a61327'
            '415dd1d21e2aff8bba4262a1137a4932bd03b14546845b500d31cec6fa9f04f2'
            '5bf7dd59a01f197690fddef762a52824a724c915d657e9d83321294ecae323c1'
            'e1dfe7987faca131c8257c344ba180eabeef03b86d63d1368319f1fc1a7e7966'
            '3fcdbc716769f97be13a7683fbb71b20cc0a02c487a9eb6efe3bc0809c6d8a8e'
            'b5789f238c4e4c02b672263a1362b49bbd380e0dc39147762d18117e9da285a3'
            '238d5dbabc5584c6c56aacdf11e1b62a1f04c40969af2ee943bb8f881990bb43'
            'b11fbc0a27c74af2364bcf529c850824f9d3133536479ff88541f3dd34cbcc64'
            '2c809923c93b86b6b8f960b2c8553236105c367fae987f2d6500bfff9f2fb3a3'
            'd8771a76b123735a34b0f901cc6f12cea34879b4d1e17de9b2e1221271b832b7'
            '5e81aad13152322e1d76d98f708b11bfb833f74d2cdd94d93b14a59ab11abe5c'
            '6ba4dd19ec9d2122a5c26580bd4f4e25c529d3bfdd4bcfbee8e733150cde90a8'
            '344a2f4a30f7f44c84e36364ad138484a2a40a657990ee050306a6971721802e'
            '000b2057aae10ee7b10e87f8a6c5f3e671aba78c23d50219d51a2b7baa1bd406'
            'a0a1b72a9e6945b77d083a08a9e0c3bafedd92a6f18ef934fe4a900f36d2effc'
            'e9d7482dde234a4f516dad6ae296b53d146c8ee570364249e05946959e4e4896'
            'e8668bbbdf3d4efb2cf76854a5053da086de219ddd159f78e303450de0d79b4b'
            'ad9f978e2de73e98773e0a7ceb8365d79b56e8bc36cb8fcb40dc93b0b2a1a684'
            '95d524224d16439b763550550bd0ab90a61055dac50b446e516a01d41412d24b'
            '0da75c0a9631497251ca68f23994af96a2ca4cb50e92a684c1513e3fc61c4047'
            'b2a6bd2eca597aca09d9ae81882ccc18f8a470e7f76d41aab90500473f713333'
            '2d2fe567a16a409ad880f1a7b71049d85982c7a75a412f4341791fdd8edcd05a'
            '8d9c95708ef386fdb86d9f5e03361f5db317198f561712c1c2e3ddcb7633a8fe'
            'e28bdac14267ab9b82f8c6cebbbd4fa3db4bb13fb666c60e01ed11a180513c2f'
            'cd9cd63177622ffe40ed0f41f64ea08b70f531115385ec71e275f792bb1cd7f6'
            'f1043d9e2d521d2c8d577c209f485a1e42905b54afbc014c535005b5f2b484e0'
            '38164791b08db4a46cfdae9fcb1fdf2230e6b109d5e8cd1905389eed89164ec1'
            'ec9bb1c2a4eb4ca01253963f00ef9032d9c4672bf02c01d459f9d64059e053fc')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
