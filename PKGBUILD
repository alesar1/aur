# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=70.0b13
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('70689072eb04ee73293a1b33cabafbb261afd6eedbd44fb97b2437dfd2141b94'
            'da64f48e203f840df75a89f3069875fdce45794973f2181acfd3d0bd05a51d4f'
            '78eed6261218a22a845cbd017955108ed3998d3fff1d1636e6554df998c71b40'
            '915c38f9e895145b7bc8b0451e10a0f03fb2b20ac5f34f2f1ccbbe36a86abb2a'
            '2dda071db375ef1bdcaa9377b6ce6d2dca08ec854b865830e560526117f9a1d9'
            '88fa0c36eabcd323bf9c76e80f58186d141b0771e41d562cf0b1e01bd576ce1a'
            '5a45012e5ff6c01f317c33f5b92cd1c7fab75861d605a25108168e56577e7b9d'
            '663d6a359a6e7479516d6b88556d74fb816939300a172598d03408a176b711e8'
            'c5ba63d8bdb1848ac2179bb8bcb04bb8f1940a0e2bbbc21dafedf9523b48d63e'
            '810bfcf0063cd4932ac41baadebf7a52498a6b3dc1d2e585ac4f3e30b7fab68c'
            '6e0991238702ec7a729469df0390662937c517e84dbdb1bcb61114046b9ee0f8'
            'e6afdb348defcb96a53dfd00361d1b5d8547caed1d15edb61b2e150de9790568'
            'e6432589d003693d1c49a215e03b92d85c97c2d7f9bcf9d9a1508bfeb9e39287'
            '3493628e989398b57c8101161ffac44e58e1beff25446a6572f8d20a11251ee1'
            '92981ec8fc69993c57334875844dc51ae67a7483b56c617e24fe0fe1bb929056'
            'fd09df834abc9fab3c9c7336499ede246d667f3376637c8c98eead9755769ef3'
            'b52c2f4f261dc8b880d858b843a6090a7e9979dda68b8bf97dcb040d98c1f479'
            '0966ac8e818b5c00cb9e04a151db31fdd7d258bf1566bd381ba9043f83408dc3'
            '18fc7b26755abb1b8bc4ab53c5148a92c2b419cc3bed20bdb03956b9b4fed6ba'
            '5377ecb9f2fc52dbf5e7983eae54b4c34f83312f4eebb3977215db7ad8024b3b'
            '2de84e3f39c3479e13f36227acb4cd0899e4918787ac8275d248e55c20d9e467'
            'c9f92eac3895273b69618ee37c0d5ac4c3e50a16b5e7b81ba29582643e1f9567'
            '1b4ef13513c8dbde1cca175bd16aac763edb67170271582547b729825813e5bd'
            '397f5834687e5d6b6249e921c41c22fa17cd789f164fa0534ea28cbe546ae6ff'
            'be8752543c31b0d1223c0997618553abf467d0fe29b60e942d10644cf80cc66a'
            'aceaa885728baf72f0c2f6a088ef37f0ebede133936accbe13c1ea05fc1fff60'
            '07a97ae641192960be351c08427236cab4a2f20bd7235cc24a377c47cb214119'
            '9f502a93fd3db0da66c5b199c8b5678822ba763405fbc1179990823f973aceb3'
            '78610bb0004be61b1e940c3500c5dd87371a6846f400a6284a2d4c15fac49bd4'
            '8a68725c19fc94758bd35cba4bd907d3943f3b51a7aa74d9cab4948f51bf6dc9'
            '11e8014adf48a1b016f799d25aad11c804c9ad4a897b0b7135b78c7d9fe5915b'
            '398fdb2711877071c2a370e1955ad7c57469ac3b06d29789780033c5d85c7da9'
            '610ab2ed2c0e2cb05b738eb822e69a89475220f3a2e3e1d2dde9097620bcd0f0'
            '0d82b7ae73de71a63257bcfc42dd7d533ffd177541b942a88ba0ff05056f9e4e'
            '9384ac78647ff3bbaebf5b5f93ce9a02720629bdae81d286082e5450745f1610'
            '401ea460274affe3dea0fed3079e5cbb6cfe9b53bb7b0e5e73347e18b1eb8c4d'
            'b443b2c90505d2900a0e3f06d345f4fc27e06f5f233fcad37734a2e56679bb18'
            '74d9032eb0be7aea1aaa624cf226fdd35f6f1fb2588a1af59cd6873deb4f4b64'
            'd21e8e03f0b77e07d04cf0ffd7d1a12eca73fefc6ddae1eeb6cae1664760340c'
            '493c9582b41951b1694b8f6ec52b52490ad29e332507a46f67127ab7e67d6e24'
            '35b1574924d49fa6d42e1ca0f4c2da22b700ec6df73e62df4505898365df55ae'
            '8f6541e5086837f9dc88663c6db1b52d9150ba2470dd61bac285b44e83cfbce9'
            'c17220262d2f49996a2156a2df53f0f745f9e1aecf5ae4ce1e47d77bea93eca0'
            '5997baca5b05b07a525f2ca4ba3b7afa6c2125a076fe1927a2e190a62ac990b3'
            '6174a5b8f9d3ef758d3c6b5d7277875ebcbf34c2738242a62ecf015863f325e9'
            '4dd31396d663120d2b83df370be570df0be20afb3dd74c62b91db7e7e7b17b0e'
            '88e3c72c1dcc031de6d1f8906aeedbe612dd5f08add101d78e4ed7effd33ea14'
            '47a038f9ea835d404c11627ec946307902f464f0a0b354560f2b160e4125cc37'
            '684b191201f1642c9ed4cbd24f912bcb012d61bf23017729ae8141f9014c9fe1'
            '0d78ec08ce707676ac72866e8ba16ad633882cffb16bf2d7f1fa7c7224ab5608'
            'a3c7d8e37a1a368ad8e788a7370ae16c8a271f0456806851de71342a9952ae0b'
            '83459d8cc335bf138cae7b157da384339ef9d6834322dc1d015b60261e43fced'
            '41593ca5b65f0720275f21e088c5ce522528059abc1350518f4ec96c4ba3a558'
            '7e6d324761e630442c80ff0b0b0e06d17d1dd955b58d02bd465c596ad4d26740'
            'e652463b2199ddd8c74c19d3408150f1c2bf9461857bb946a047dd3a4b42920c'
            'eee8fe25e4de5f1a2af80ce7446ef520ddb30a37a92d56381fbce3701d3ab9f6'
            'a4731622c4dcb303ed275cb321513e3ff97dcb2bc0f8640c0789244fd7d9664a'
            '6479d889b9b893bb17f58bbdb42699566b8dae74e80cd99cfb3fc86ea9cf6a09'
            'd9a968226f97829999d0de9c4a82439539c8a4db1d2b38d89c5acd03e4c733bb'
            '256efe89a04b06487047f7738313d4fd214e27ce9422ed8bf8b8335b662c2211'
            'ffef4dfa4e608ef5d6dbe4af75eb5d980f3bdd175e4e3a6817fd0d00b4496e9f'
            'dbb4f36bb4e79b339277ee119bfd79afd7e04beb91b06e57b60b628061af999e'
            'c0a83602ab9173e44a69e945b45f1a37c7b81d71d95a9456cb5634f540cdd2d6'
            'fc4650e370ebe739ae71fa5e79493d188c08ec12171a6eefad455b6de210accb'
            '97924a9fdcfc65c7e90369a8c33317d7bc158a603baa41b208806362ccf0653e'
            '4060116e6db761c48081676f6553fd9c44879e82a849efdc26a4b160c3409f42'
            'd56b62d30b324030408d9a4f91ead12ff9d8f3ab9ac14c152be48e5fd7835714'
            '8b68926c67a527f1162bad7cdf53a846eea1e1a5fdc7854396f8225ee7d9cdaa'
            'bda59ead54bdaa548b70877148597530091e914900674602cb35392d9898b3d5'
            '9c3e86b7ab68ae2adc7b587ece65078678b4370050190e8dbf854611f72615c7'
            'b50490177585ee21e47697a7f8959288fdb76d91b0c3b9dfca201e2b907cbdb2'
            '5512caa289af26b857b16b97443e5332103ad9544ea5fc6446cb835dadeeff37'
            'a73b52206a42f98e9e8cbfd56df20dc53c041f7ac3497b2c93c5a50ce405c59e'
            '721988229b4af476b76d6e4454d75a15d34b16871194b75b97f81e320b0da18b'
            '6879bc70d4d155f5f60bb67f67fceb626ebf699a289cf1955482b1e52d031a1a'
            '3ea523715bf5e1b240eb89aac54a83770d7473b9e5cd5b1359fe7b54f77baa8f'
            '2068141082745bf16f3d11a3cbd6d30aa04453ca8b0cf7c5ac0c7dbe38a7badb'
            '374f157ba0042fd3398f74b23a683628ca084a502b54d39571cdec6678e15605'
            '272de42933a0aa63128e5a306507da43e4fb8c5f5ceac5f927e858824d29a256'
            '62b79092287b8ba7b96c96326434282be6b1c3fda360540ef3e493b9c5b3b3a0'
            '66df591800753c3e9ce08ead7a671b1590b239186a922086282527ea60d78a5f'
            'f81b9f51f9bf6b2a997eda7c142f9efc93b766db9bf1a0f15f09de8bf6058ab3'
            '0357495fb1f9074b59070c8f82eec392e272c584e86b9d89b7129b7b9be949db'
            'dbd6101332620876ab17eb4464d2bf0ce0bcd31036eff75b2c57e6fc9b9f95c2'
            'bcb1563aad67319e91ba8f2022adf92607fa3d4351b6dcf7b5fdd3405fb052aa'
            '8fea2ee0198477e3f19d9d60290876daecc9e1b9f1329d2dec0eaaf485ff00f4'
            '559eda21bb73a6133b6485a6b5031372243baf37efa046fb04e64f6ab81cb6e7'
            '111607650810c62e6c5e6011858a9c1b684d4ecb5d1d3ecc76b230293bc693c4')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
