# Generated by pakanton
# Maintainer: Branislav Hol√Ω <branoholy@gmail.com>
pkgbase='regilo'
pkgname=('regilo' 'regilo-lib')
pkgver='2.3'
pkgrel='1'
pkgdesc='A simple C++ library for controlling the Neato XV robot and the Hokuyo scanner'
arch=('i686' 'x86_64' 'arm' 'armv6h' 'armv7h' 'aarch64')
url='https://github.com/branoholy/regilo'
license='GPL3'
makedepends=('cmake>=2.8' 'boost>=1.54')
source=("https://github.com/branoholy/regilo/archive/v$pkgver/regilo-$pkgver.tar.gz"
       "https://github.com/branoholy/regilo/releases/download/v$pkgver/regilo-$pkgver.tar.gz.sig")
md5sums=('fc305865fc31432d45c727e61ae36021'
        'f346bab3dd209b57964d4c1d84f82339')
sha1sums=('d7f8534ab9678b7e9d722175539d5df455ee30d9'
         '9e5a21e85785c93461df20e2afedecfbb2e66424')
sha256sums=('944ed8957a616b253b4e7e4be9a1dd9e5be214c3104b45e31bee6d1d39ce4e32'
           'd42971bf441273e7cda28529ed65f223714948694175da2f22bc0e17eb4e0131')
sha512sums=('5c0818934e02eb8c67bca209a7521cfc207581d0e6c69f94340a033dc3c37b348f485ff1350f1ca08114cac6c2d4823ff2b4cfe21ae084856650760501edf584'
           'c1a2a669af64e31fd961c44cc5cb9211467fcabe3339aaf31cff771c491e1b9415e13106bb795b194d07c0b720ebcac1757e23030ec6f61a62e83575a07e6f87')
validpgpkeys=('D25809BF3563AA56A12B0F4D545EDD46FBAC61E6')

build() {
	cd regilo-$pkgver
	mkdir -p builds/regilo && cd builds/regilo
	cmake -Dbuild-library:bool=on -Dinstall-headers:bool=on -Dexample:bool=on -DCMAKE_INSTALL_PREFIX=/usr ../..
	make
	
	cd ../..
	mkdir -p builds/regilo-lib && cd builds/regilo-lib
	cmake -Dinstall-library:bool=on -DCMAKE_INSTALL_PREFIX=/usr ../..
	make
}

package_regilo() {
	pkgdesc='A simple C++ library for controlling the Neato XV robot and the Hokuyo scanner - development headers'
	depends=('boost>=1.54' "regilo-lib=$pkgver")

	cd regilo-$pkgver/builds/$pkgname
	make DESTDIR="$pkgdir/" install
}

package_regilo-lib() {
	pkgdesc='A simple C++ library for controlling the Neato XV robot and the Hokuyo scanner - runtime libraries'
	depends=('boost-libs>=1.54')

	cd regilo-$pkgver/builds/$pkgname
	make DESTDIR="$pkgdir/" install
}
