# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=70.0b6
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('d475f392bac4306787c537e8ab25caae33ed843b028f42fd04fcf730516a22fe'
            'b6d26c921d3f2d6fbeb39ef950f32778e3141f181a28b7dc19f1d86eefe955df'
            'a3190a2427af74c4c1b8b08160daee3094ce1d95cda85edad2bb8a6029332d2b'
            '8bd1d4b67b22b5a371e4609007f030150be3cf0a23a403256b472aae761ce62f'
            'fdfe3c8571cfdee5e47408594a95e248b3ad77ce1074041a82ab4ad036e2a0a5'
            '4d06b366e74c97df099b1c55cc92aa1f4d06835677e49f5b15abce90a32f3658'
            '890eec284fd033356294e378465e67c7f62f035f2507d557ae17b0c56c01e276'
            'd5482e9fcbf6a76d42711140f3c888a3f2efb94da4421457f1179652a6e7b9cc'
            'c3c8a449c2ed724b581e6e97e14c8765a4469eb23c60995aa702125b76dfa213'
            'c3ac01fe2e3ee454cc1f44d3d193d445a0f8eff237aa7cf52ef11eacd5a21c99'
            '9eb104fee48ee9caf6e50df0f5c5e42d1cee86cef86fee44d91328abb1757672'
            '220f4dce38939d5242e5d299fb8fa7fcc5f52a433878bc90d2efe0f091a51d4e'
            'f906064e06d6ce424ff1827c1afced5e74aeba076a0ed273a05a72141321d3ff'
            '7cb4cf033dbf13f72867b68cb058e96ebb51fa4b3bc9448a5b62e90828caa7dd'
            '9f6a87c78b772cdf966295d049815c884334794abae8fbee9bedada46fc549c9'
            'c643d5c914c5aafcff4b698a3eff16c6017ee3da4b74da257e426c7cdcdb1415'
            '1d2db3d65f4576254d5d032926f23da5bf01d65146425c97bb2702940cee2f59'
            '2e3e6b4829e020104951a053dedd62d6d7163a1ad9235a39a78dee7c0353ccc1'
            'f8b5e7321ac2488dde01e9e28d9178ca001e9f1c8b3b80b12eace201259ca720'
            'e5c2dbf3b1bcbdb703d16c7c31aeed893126cfb065a75718016bf23ebe092351'
            'fcdecdea90a16383e6aa980d64559ae2902ebaa6f65e59e794ea07add1c4b7ed'
            'f3353efe7385725404eb9d0354233ae977dbe6b420ef1fe8c57f9e31ff9c58b9'
            'e258ce4099837ef8c2197535b0fbb354816229ada59e6abfbf8e372c30fe581d'
            'fa6c5188855f97a86d0a027fe2aca02e0be3014bbc08443da78ac9aad3962d2b'
            '251d4c7233d5ea5ba4146e71cbab28eb67d7c2753884b43d8786e2d99b1747cb'
            '28d84ca84d77d02fb5f285566bbec44b5dbb82c6c923e39915e2a2483ca8e449'
            '36e79234295f40b5b861c72ded18b499f92b828cd8f48ad3b4faa048af205d8a'
            '5d2593ae68698cbb21b2c6805bec6a926a2713eefbdd2c9135fbfbbb221faf9e'
            'd84281084de769de1926a2bf5a53ccec1e3ec4090bfad8f02ee46f0d57b1f5e4'
            '9d3cf2acb5d6a49ff756fd940cc81a7f7ded15dc953d2f92b2c254cd1d4f9abe'
            '5a04a22e652c51b04ea6de14ec158b954eb936412155927c2de4de7cd8951e26'
            'c09fea3b24839ed5fbc96685ef702fb37a5c0d3b65a5b1f01fadb3a527bf7ed5'
            '260514624ea461016ecb536592313c4827eb4653fdf2e50bda6b64151832219b'
            '9e2a72b0b8b16282f4edaa900d6a7d245e4fa8ee3060996690174ba9265f6458'
            '4620d3fe5dd9fbd0f844f2aa50ff9f8814167a812bc488e5d918c5ab07646da2'
            '75f4f425f0a50c6b19b32f51af465e768082a52824c27ecbad8a4b4fa673e329'
            'e2f00ff97c6b59621cd1152a7eab0612c26ceec3d13335d2d9d75faa257ff418'
            'c0e391f15c8e27f297adfdd5cfb589b6e25e4295684da5f9426fc866597bbb74'
            '295a894f3624a09d9c6327e1b3180a1add931b4831c96113ab0d16ac37e253a7'
            '0cedd8f0088eea315a378a5abcfc7272cdc05be2a081d18562f03593b6671cd3'
            '102159fb7ee63a631ab504d8f07e03b379e9c12efe0a90ebb8935125171a2fcf'
            '8dd186edd448924e4c7e44f5d9fcec4b132e497e9ef68d92964e53456a87519f'
            'e86f210763d63b962e4927c8cdcf2dbde0aeeb30fe6fbbb314ddfe10126538e6'
            '905f20f5a8be414bb9b6925c569dff8b1eda045f04a8008da87460bccd2cfcb2'
            'afc6bd3a0b1155e20a0cfe9fe82461ee3dd357e14652c86b82d4e25b297a911e'
            '808a68ed0a2b411a76cc4cee804a8db74fbe3e26b193211345fe902ad4de8990'
            '4386aaa7db48f4c0c5d2fb8f2f1ab9a53f75154353e23c169aa4007bc157da1c'
            '6af092962f645a4bd83c16ea702113858303b41fbe54dbcb68220383ad169f74'
            '584c7dec9ead21994698f130eb1b49cad2a0d9ad117a5a0dce86d171b0c819b4'
            'f5bdda184fac5e8cb2c7028b7581204c7c6cf0709f14d04c1e50ab7eeb3eb5d4'
            '645b9a9d231500265f65d2280f1974e693283a9249245e36400344c063912961'
            'bb39f1eafb252961d260d465f89e5d820db1905bc137a5d7e4f09c782bf64d99'
            '01655b535967c362b9d3502999035a7339c243ca2a9e36e33e4fc0931288bcfd'
            'bca586fa7cd38de84ccc982675e82c9e10182672efe8a35aecc4b3920c1d292c'
            'dd29704e8707448f1526c4389f44dba3ef3d1a6e527680c4a4d1d8859e09e134'
            '57e529b0e24e0eccc05dc1f80a739e8716cd88f77120152bd65392c37d9afe80'
            '004c3c1d891452abe1cf3530831cce8aba1e022d52ab19450d5aac64e3b8756f'
            '2e3a63f9d2a4bbb0f9be0676ddf21420678112b34a2e98a6549eef8c4f6525a1'
            '2f1c1f8f4b6ad148bfaa6db0d081e822fa5f5f9015650bcd24648696d2bc3c94'
            'cc9db60d265437fabeb184c0ba523aa3a21bc1b565a179b85ac3542fa65ca1b2'
            '310619104c2bd1f55c4a7d2b41c359667321f6340e144bf13ede9bdd68931ab6'
            '9ffc0566be535d9991dacfa06297a1ce75befb0e107dac2b370b6579b2fa3377'
            '4ef6313c690c2c7547e76dd6503a5763b9840976cb21c18a31baced6424a8b45'
            'dff62a673abb3ac519f600b6a7d44a30c3f58474acf1a8ac2672d2d096c7dfce'
            'd3720190ce9e72de6cc554c63b00517f89632da3b013e42ad0bc31a1dbb13b37'
            'fd2a7cb9b15a8d4acb619709c486a62e6d8cc5d06e8dfdcb1fd00b785b8bfded'
            '97a6d478a822f9eb77d857d1dbc58085580b114386beaad63e48f8e9fa06d9a4'
            'feea38131d1ab8e76097df9c21a0e87d1668bbc44584f256d90cd839c05c8552'
            '80cc2f1cfb86bc2940d140ca3dcab2a25c6bedcdfcb97ce926d958fe3d114c8a'
            '4f43f9a1a5a3c7404ca112d651c5329658762ba5979278e12dd013f46c4bb5a8'
            'a04408cbb311607be18b7034d3caf06af156f6bf06c1a251f09f114cf96cb11b'
            'c281f75e22adf17efeac8e3a205e5d23cbf964926e45db5437031bc0256d9ae4'
            '7ea2663a1d841ed9342de0c6a005db4a8c8e848e6f07532de3789342d53406ba'
            'aabfef211dd28bfd702d2b47de1576cf4b323d251b544a8a99b59f67624cac36'
            '075036ea0aea7d47749c9cb478c58a2631fc3169ea797f89058506cc0a7b2819'
            '4ee61df7b6841326d108073d768601944b08ae9c5651149d91e891637d38b0b1'
            'c6848183316ac521e21789aae4ea5329c3cc793cc5dbfe7294bcedfe8570e7eb'
            '1bed914ae495bd858b04b311e927ed2f0aad65367745ca2b072f5e5eb6659785'
            'f6e9982492314f26a69eaa2ca3074cdcfcaad83616aa881a63bef675f578b4bb'
            '35575f3e648e8dcc073a322c31443c5bd8977f752cc1b09294b66f567179d9f2'
            '944938bf4834da787d52352fec5e46e34bac454bb5d03837e6bad29a4aa3b505'
            'fb4053abef2ad2b03462dda9cdd01f74398fb5af74100bf0ac33b77839b30624'
            'f5e82bb5bec4e8ad2208f1233f54a84356084c6845f992af4c5df1b012a86a8a'
            'fb9557ad6444833b25c4d1bc8a3276927ab7c644877d7c494a320ead35bb799f'
            '580c510b0e6c593d5c8d2fe9deaa9da5eff0e07b9a118be32f1f6a43208ae8b9'
            '8eaa9bbfa544de437d6bad0a294277431cdf40ddfe6be8e774674c350ccb0c64'
            '78785fdd0c8f3d6fa99ae12ec148c7d28ed2486a7b34dca9d6629ef31adf6356'
            'f582286540f57df70410be50290103ffcf6240aaba8886655429ba15d48c4420')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
