# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=72.0b5
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('c9f481266e65e9d90b7b8aefacbf2aa0eb495fb16e052142b4cc81b06a289425'
            '753d81600586953c4f3c23f582f868bea582e79de3d541ef9a6aeead10c8965d'
            'dfc079fb15a694b1eee5b4071212ec981441dd961b4e74f95e20f5a75970f187'
            '3d8876a9b0e439c0872224d0d54853a50a3d59ed256698b99462171c0c334703'
            '76365920dc5194ccaaec260b1f73c3286bd236249f8a47a19748bca5695fb70a'
            '5da83aec42403345707c03280855ea4a0c05df219d0b777e3c73fa64b2ef09d4'
            'b22d303b610fe88d9c2183633e9cbdf0bfc0c91d3b1380e6972002054c028ef3'
            '9b7a2a9537a59eb55eceaa2c843634ec133802bf65d627c41689bbe2ed563ff5'
            '2d7ab25adefbbb2bad1d5d26572654444509869b0523eb7d2ccb32ecb4a7d972'
            '8611fee499817d0b952eb64f2aca7efa162b986abb60dcddb05583ac9292ad44'
            '10b379048dcd5e22e470b0b44c64565d110daecd333fc87d5ff6679321c9abfc'
            '018bb5699cd39a3caabeee02d000ea7054e5d23cc2873fe9722250c51e5a8542'
            'a7b3cfd8b22973d9d03ffd030aa3fbbb6ee7f8ae3d8c88d53c793e5aa005fd2d'
            '771f95f68861702243b270fe2a9c9f767bc47b8b6ad936931969dee60e98b1a6'
            '3877cc0dd3df8908d41e30c5077b78086a6ea186229d732153a911e0954ebd19'
            '36bf49555fbe03aedf6b087b95134e2db638374fc1bfa985f5bab34cc2a1a5f0'
            '8bb87031199448239540ac8a9031bb22896e36f16f546fc62962acba0625d8a2'
            '7f75f7f42bb8d2fb6c5541e48e4336ce8c5434745dc643c62a0367e08a88793b'
            '103db932f346783ff294d02b82901647a2876483aa9a99827d6989ba1f10f190'
            'a6e87656ed6a88eea689c653a1a03764a515dd0cd4e7b8ede158a4adb73c8399'
            '5548790148562799a1050b253fb056ebfa6531b399ac93dc1edddd8e3f55efff'
            'a7ac61bb069e82cdf5b6fc3bbee438e8114d09c9ff04471e21608dcd7d22b732'
            '205774fcbe16940f6ba28a1246faf442ca07b34c8b90ca1dc4a03b6197fc31d3'
            '6821cd5dd2dd1adf3f6ff6ecf8fd90ca0cbf7a2dd6ce4b5bfedba3f1bea2a968'
            '17f783c5370e8d9bfb6b6a9ded1f6f2b99e21deab7fcb1bcef7afe0f31fa679e'
            'bafe7d9ee257a5caefd2394cd7d037407af09b3d1c8690c2ecb6ea2ce2f1a442'
            '7962a9308a77d5871de2bb2391a4fbc9977e5b8b40eded3c6f4838645a8b3de2'
            '4eb6f2f82f34504e1a379e6faae5580324d1894cb15020d97e72c7a05f8aac1b'
            '0b090a6195813cad84b9d26182b175e5bfb5271e1b0fa50d9eefe48014a48753'
            '24011108eaa7763cf232c8f2a9ff7ca8c2d3f6e59d81eb9027ffe5c3f4baae55'
            'f0455d71899510ba0d269a032d4af535156d13727a4b7db24e433b9dba6dda5f'
            'fde7bf1c69c9b27bf4487a4a01cee98700a4946b444439b39600820a2c965a2f'
            'b8610777f137dd39f7bb1d2103165b298525b8ed830f9f7aebec542df83d1e1b'
            'd22366d2a8cf45bd312eb680aa563fa86f6a77d658a085a8460eb98fa39e0252'
            '858fb65e2e5129c05b6fdc0eb726ff9cb9ab5ebd78feb91966d30eb9d4168811'
            'af00cdf996e7006f234f202c9f14a79b88083dbf9260c6d9c95fce9b128f6129'
            '79d52b6aa66900e9e8e07ceaa9f5bf0050be2231fa101d7dd3384191887a51c1'
            '5f9aca794e7b0b0a0ee5c9181dbe8775f4c5cc94e6e94756999a6bbb83075691'
            '6ccf267411b470e19d49cb49ff37974269e8e5f323f069ea1220b908837632eb'
            'a8877f1287c848355b9f78bb3beb039f5a194170681dc2d4458ec7e3d7d5d803'
            '82d7dede96ff2e57db78d9072fa803c81a3c977ac92bd2581f9d1cbae39ba7ad'
            '13b36ca020c2bf21303c47dff1a995face74207aac3fbc86a9520c371b63acf5'
            '9778753d8c92dda808a1382fdf3f259bac9aab6f804c4759e1b6ff430afdd972'
            '147b2dabfc0f48cc5afbdb16d36cf01635b9ae9e227811d85e7623ad851a2971'
            '2c481dd826583ab24035893e15a20ca339ecfb0516795d789ed456653e731595'
            '7c1363dd32a651fdc5f12a7198a0f72ab6a0326e3a7ce19c0a016cfd8b4c63c9'
            '617cb6d7a40eb4c553acde4ccd645612f88366eccd1552cdefe236b1d9396f2f'
            'e61204699f6adfe270fbe778930a086b2260b8a09f0ddd9e01a91091017ece8d'
            '65a9a2a5aa3721569a5fa4a4a550cd39cef368a055ca95ef80b35e9c29e295e3'
            '10f4afc2ba8e098725f92a7f32b33bffe356fd4d84531034123734865e5cb603'
            '48bb9a0367569a00ea27ee573d6a382dd77f1808f55e262e8d89143ded15de1e'
            'a6f878b88d9a43d63d8c3c2cb8a169cdac370a94be9976420a13ed22d65d8c20'
            'a4ee795af1f6d8d11d735965e9dd0b51ab940b6e1903e77d1921e5601e6a3c8f'
            '4717adb63fd3bab55d82f600c1325e1c58bc74276bc83fdb96d9588f6ba0f359'
            '52bbcc93d5a40a14dbd23c8f39fa718cc6c13c5ff76242d92cbc6e2f8ba2e73e'
            '85123238a7c75f5b4c1fd2576fa9053c1366eaa40b373c1e389fbdac3f56c9ed'
            '3fb39e9f16c495656a20360c52acc27d8fcbce6e1747ff0d40cf6d8cf8f362c5'
            '0fd3b1ee41c742aa450f9fcfdab77ca9cf7cdc27fe0a5c817440ce38fd7a5871'
            '7ffd6073dba22b4f6607a22efdc4b856c3999c4b2bf5b874609739a3381c916a'
            '8c143b0da8b33edf0f8562e98fdb501924ece2ac8bd19d01244484074637f347'
            '764947a0044e443e4d3eb3cd7fa4ca6510725ac5c355fe0b0b2f2ee5bd1ef09d'
            '3e0fb3ba88a1cc0286817bf13e7c82d46d4ead5ac8ac3c4c10de7ef121d903cb'
            '6b40b68cf43068e9b05ba149e393a493fde96bb860856178c344a97f8b0efbbb'
            '5a670cc5c91d3ae9f2170df4daabec4bc2889e3d406b38f1654609fb26a5e35b'
            '44d3b6a08627ccf6d63c6ef45587c2c12ccb2692b5ede468180c4eafb7790a30'
            '18e190902a7242b2ad88820effc73afc68dcfc0493a6c0984777d0dc08ff9caf'
            'e080769e846b9f7670b16d77869f57fa391aa24511b97af86b8218db8c782cf9'
            '0d78cd4072ff848c53763cc98953f2cb36eec50aa9ba34d6b39332210977c721'
            'a6dc03c2a6aa6e0b03aec96b42db3faf4c4ff6a65e87b26dd1a25d6576f96918'
            'd7617565c844cb6bf77a8dbb0568c49b0917255ce03c5e38d52c047412f4fb0d'
            '400fd0995469349475cd9be178015d04bb8dd0274c611a4338f5e1ce16d63ef9'
            '709abd95033bb52848257679ae5ba8bb42490766fd6938a72b3c28df8f644e48'
            'b0ddb67d00faf91576500b34bb27696da0bfa60b292a48f08e07c36e69dd099b'
            'e73b891e792830eb9cbd98a1ca0e8ed474e821b6d0ff710f30310f7328d55b99'
            '53a92d170d8e0c0429f1ae6a9226a2c2d6d3095983c6717577ec512c0f9af2d8'
            '2986cecaa4c36320ea8b2c666e2e34ac30a3dda3462b393607f7f0709e6ef515'
            '4c7f0e3d6f3311e1bb0888d88c643e7fdec901df994fd8c44a00cdff57950962'
            'e564c6f5d6ae008aab2578572a4195b77f504c51a03fe2ecbfcae1314fac2cad'
            '7f93a594da936da0b36f87f72ff87f42dae8777c13206e09ea415e3c0a14ae2f'
            '8a067d7bed14c42b8058979ef243890a3954108c4f8d160936677a19f7d2c9db'
            '9ded8e649bd32a45be559f255e4ce1c78e35479acb9dd08d1cf4c20dd87b28c1'
            'd9afa9ac6e56dbd9260c71ba6dcd947638ad65c745f4e0d5024532b79b205eb4'
            'c65faa6626d3b685beec3869bf54e5d2f77c21f9ada269c9fc3cc1744bf224c9'
            '10713baedadda891db1922fc5ff1b12236ea934ebd57ff69a2a4c9d271257847'
            'd4277bce7db79a9295790e5a09d0c6920b9d63e5e34b11d59bfbb4baa10d4d08'
            'a01602e61f9f7f8990c1edd7ee47089bfcb0ed3c855da313b0617a4474aecb83'
            '44b4a4334be0276f6fa095fb9220ddda5f8aca7abe991549bdedffba931f5b5f'
            '5bac55c3728bd348594018bb512c656d33b0c576910232f16ac414422472d8e3')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
