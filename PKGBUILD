# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=70.0b10
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('1b61446d0d88016ec650dbeb4daaf40cc07585b78bb38203777ebd8449acaa87'
            '5a04f5536972e897c992b88375c96663966cad6bc08abb7eacc7fb02eef757a8'
            '1936ab0ddb39220dc8452d19a2530c4a613ea5cc2c8185c4b4b922aad7d05bf3'
            'bf17dada260bfecf879e0e1905f3f6d477658324988db0f75c497058f425fe22'
            '889f7ab04da214428a7593aca1aaccb47cced31296dd525d4c5215b7fa22d8e9'
            '09db5bdb01902db701648155f0e59a5f73a04d02f7adb77f3503cdb4f670e249'
            '2dbf3eb13b0476edf29a47264970f214d6dc52c8a1f270636831a53c733a125b'
            'e99902b4f42f797b1067eee6c0127d73876fe219d7b43f0e78e68bf90dbb63a2'
            '27dec1f6e49f99534e65b678c3f163c11fe575c0d958aa5a40453d04426c5d6d'
            'c1f0cf59751b49b69cc4ce876c50eb0ed331daba23023babba6c6cdc4d039e4b'
            'a2391285507f0a1075c1f86a37c8b11f565c895e15ee85cdffd29338d6be78ff'
            'b0d1b21ff393244daacccec18576a9818b80d492e82e44ef92cfa1e427669e5a'
            '3d4c847eba85f4704e2b092a2cc72be551466f10e63beeb3009eb087eea6659b'
            'a6cf436c76dd1624de02ed7febf0c4d59b57d2103eff2e2364254aa814a106a8'
            'e6c9d3d659dfcda5657e6b91862c8ef5e244692ca6024b4516531566c02398cc'
            '4428d2bb64fb2bbb1eab324323c83891597c04049b8807f647c92eabe44fe5af'
            '5d6f8d86ede37aa7c1c53daa8d6168f14ed6e7af9629dd7ed2551b7b97c94896'
            '87050df9dd95af84c84de54d015c51e51716d980d1f9313fa5c34cfcf70a3e55'
            '7a84519592affa367de3d1b2394025d113a6d025fe108566efdb15a0e7a2fb54'
            '80e880e8e5fcbcb4a909d1dd502c57587fa013e8ba30238cc18e2d5091185f19'
            'e3c59c676256c5b48681da2a5d8c977583614d9cedf78bfaf05ecd112742ee6d'
            '32a15940f369a432bd0112b86093c2204e46206397b59834e3b2d173e162d818'
            '5f9c79375079d54ab88758ac3cf0d3f4fc54d5dd1052e050375c329c60ba81da'
            '6a66df6e0e5536a3c7d63e03a84d387c2c78bca792847190460939b9f49ae0b7'
            '10d680d9e1221d54623bc9220289afa4901055055ed5670991cddb3da68880f0'
            '75452f06c77e8f88061bf485da05de228b63a02a437113dda63d2ce7cc7e8e9a'
            'fccd0163dd9607c253195bfafbbcfc11601897970980a95508cf725d5c9afd4c'
            'd55803cab1586b49a76bd97e5d5aa7441a873c1f7dfabdb1565edb6e9769472e'
            'b58ccb4b49eaf56ced2f097ddac2828bacceefac0807439c9f600b66df87f5cb'
            '727a80eb7288edc165367280c9928b22ead7e8548a197c76332f4e200dfa83ef'
            'd7787797e633d5cbe01653eb25bd930dfd31a16120ba4e86ea1f4fa5e688d651'
            '62c9625f46637bb95926b42c69841a7102098e8c54f00e354a41a3578691cd9a'
            '49f3f127d824d84d94bf62c66123cc094f2942712f7ce64efe4b6012566a491e'
            '7a1f51bd450487dc14e43fdc5e7c16670d64fbbdcacaae9efcdd595c7e667cd3'
            '7a52147703cf004e384ea79875d4be8c1847c66c039e942d5dc57c1b6fd3e18b'
            '23cd4abf68d2aa59a35240547de0255cbc84383ca0bd73147b2064ec3d2225fd'
            'c5393d1953d1265f08d437d19b4e9833f0850d5cae7ab6860a455e88126db184'
            '547b64c384fd754d0b472231aa9d14be5ba7b62b6578f69cc7010aa3e782f5b2'
            'e69ce27c87dd801c718958d4ac91fe8b5d2e7b637fa507fe42424a984f5da55a'
            '0df79bbcf8fdca115494552f7f22a1fced8db40fade52eadf1bfe02c2d5c3648'
            '054c5793f430c20eeccc505e206ff9b122b288780c26c56760910618e9cb8daa'
            'e57e7aeca9eb3286f43b60821b68d6473aee86862b9a95612b0f95f4aaec0525'
            '3459aa09ad75f50554d75e14398a716aa65d4e3e7b6cab06ffd39cc11cc00b8e'
            '56301aa51ed6275a95a63d82bfccba28f9a10f0ee371a809816f584d2b4ad197'
            'e2efbc99b35ca70bcab6f8ec47f6f73fe74a37087dc7ed4506a95765d2b56641'
            'f92f5170b705857ac5265d002525ca85e622fb59532293442a5ce67d35088d3a'
            'a9d1707ee5427cccb6bd2e6dac52761f412f2ecbdb97d4d0af6878709a5713e6'
            'e4c718da4db0a976e27f3c58fba73ee885d40ba98422017044440362ce061361'
            'f89d425ed8a81e4d2bae9654fc53603d96615376b951c9cbf78c5e0e872376a4'
            '0552e03c3ff3b4664d485774e339024f00c1f0876c5194a80a37595c50fdc0d5'
            'e2a803431a9fccbcf56765c5b9445274e9a9b6b07cdfb63304db135905e5ddcf'
            '2df31ac61fe832dc4d38f468e2f671569b16034d409883c640aed3760a0bb108'
            '83abddf76a8a2e1be8946577ab3f4a17ff5a9784de9566007fbd3b4052bea3d4'
            'ab05e57365d843df98c47addb791bb85927cc6e9222239542af3230f030b6807'
            '49f39aaefe831f4105be8b15a70011fef58b4993cd3dc7c9cbf42abbcb792d2a'
            '89c90f4425447bada7a54cf151a4e7cb95f33bf953771f9393e8eb99cd720236'
            'eb39ff8d812eac2ccba86fd7952dce9b9d15b87532c89484328cf364584c15f1'
            '02ed9cb928b8733c9ef5a02f4078a43168d1e5f0aecdb8c3595e07ae4a21fc95'
            'a282b791ac108a2cb6977592992d167ffa59a0feaf6f48f5208ce39075e88263'
            '23373f84548dc41e11e244f5841007d6725dc8905b2b722127d3f44ddfa6b57e'
            '635d46e583d613946dd8c6f7ad6026662c18ec0877bef1da64ecd5c9853af531'
            '683f6afd2fea72029543cabd700626481c6e0c9d2d69c407fc09aa265672b49c'
            '2fe24b9f36d2407dd67f978d9d4018e5b68951742c1ee009a9ed29df583448c5'
            '67a90daf59238f226bee8f5dae72803616d68137adc5a7a97225d0405ec1f470'
            'a1a0588996b6176c121db2cbd9795b11a05005331847f2ce4ad086cc65e82b6e'
            '8145a201093f48d4b6a163c1c3ba99bb2c0617750b38f2b5cd8f86e33830b18d'
            'a946fab71b87485860d0fd0d84d7f9f15727b23813be1f9eba4b31f177abca19'
            'ebd7ad46038a1c74571e7fcf896e45e71af34f500b46ff3cc30f58ec91e88c6c'
            '4595f4b425e701ac8d66f9968a16fb6c47c0d6c1f35c3ce9e95e6d5dc188acda'
            '1842c40d52a8c34c9c9a3ab1a4fb2089f087040cfa807b146dc157b1b7ea348b'
            'c3cf4a98fe8a7c5ae9f4cbfc5ac5745b6ea067ce4efc6cffe12edc79ee840958'
            'fbbbb19e64de14b4bf68cdd5513bd5cedbe2f9fd2f12d2a0035a2ab2f6c7d68b'
            'a06a33ee4951d01470fe2843abf56be7456ff000ec952904007f5a1ffaaae68f'
            'b0f92bf1e3c82c336ae7ddfacc9e3fd5da8a81dfe28e57f712ed24c3e3cba662'
            'c49698dd6eb0ad606c39ba85c813ad88e0a3941ee771b63cbcec5b40736e9e89'
            '0b7308f25a400a882bb49f6cd0e4033c31c78a50e918fc45a6caf66ebeba0bd9'
            'ad1a822ee723bfff49d8e4a11f4bea5b9d7ad3b65f4424560056ff52e06cdaf6'
            'd7eaa5ac758c56148ec24799f393e0a078b41170d581a194be3ac4434d8235c4'
            '0e978af1b082b2d4456acc3a82b04b1db9faaafcb102040abae9a0541ee75175'
            'f1de66f0412263f96349f8dcfd5026bde928bf4b77ef9eb013a902d41bdc9bbf'
            'f9ecc832c140f324590bcc03855e43f15e1b53adc08d2493328c27df42fa6eb9'
            '1cffd0a46c91e1166614bc0443e0c5c4bfc8ad461b70b1fd2c7051985ab86dfe'
            '62c7a4d6938b5dee1f0d62ccff3b33bb471e56c11bc5229c7e838caebf316c3e'
            '5168104c1d4f867958691589c1fcf9e4c3912ee4c92302dd00462064c51ab6f4'
            'd708f4deda6fe3c00a82dd7798287284235840b4dba147be94b180eff380b06e'
            '3325b7df38a51cf8b1aa521c183da4f85dd14f3cba673e97c364cf5712d85e3e'
            '4d82ca0dc8eb568cc9bec512356bcb31018ab6eaf2459208f0082142e2c04718'
            '66bbba275923cee102b90b6718674a3b63cbf2f9e97361394dfddc62c77b44f4')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
