# Maintainer: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=57.0b8
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('0630624689db27ab4284b4f80b110846e53c36b411ae1f2d226a8362f6a20aa5'
            'a111550905b7ceb49a6a0694f6d78a160b51a74c30e4445b092ba8b5c4ef8ddd'
            'b6da701c3faabd5fcd29af24b8e063757772452f628fefe9662c63c8d3cfdc79'
            'aff81ffc267da65b41fa3f8f0589f458382b44d66a5473ec0ca80874408da9b6'
            '474ab579787d35488dbf98645fece33e5dc00ebc28b21e9179c8b47ab3bb4ee8'
            'd075f987d409dba115c7ad6aa515eadab4d0cbe81a6f4e9e172d37111e58f9b6'
            'd71389aded8682afe9495f3a4d5eebc2923e9d610348908d5e93967e29ef588e'
            '731deb18bd64ac158025770ce982ecb1f5c37896e9c904cfd119967f523317ac'
            'e00494c147cbd889e56d1377464b048b53aea1b95f9350c427fd3419000f341e'
            '3a68123276733e8a82e9531a42c1a29b5be552cd61d7ee4452833dfa367f21ee'
            '4400d4d010130c599988ffa38a929011873da59ffacc2edf1458c030c4d12be2'
            '08b65f887f8bdf6ed076481d834882e42caafb03a603bf7c5d4d0976a159f3e2'
            '44b8f7fb014a1a433307f9fe2f6ceba8a8f69f110be971acf509769503fa708b'
            'd0ac5abb5b56fa5e12099232de1602cefe77adc3df385710ded07d0c0528add6'
            '74f7e41402f115ab2733322293f883b65b02e4b5d3e0c66dd280271975121356'
            'e48c12bba2259f8b7980133ad7329999b014be005299b5aa9bc97fcfb96226c5'
            'c577d53a39b42a27b9d957e499d4e6b0aff7ef1a58e84e9bedd1a15896912d53'
            'd77549a4fc673f0048f94d2a3d40206d6082d8de9201de7ce8fa15fb6dc01557'
            'fdf4307a579d72dc46d9496f87b3720e22d41abb33c931f2a1e98b7fc752ac69'
            'a928d25d4f3a047a94045fda716e358066dc7b8922710928f8d596628a4ec0a0'
            '5a955eb64022326e4a05d7f1938384b3ea151c1a316b8206504c4e9f03abd9f1'
            '15a4e8740df8e0a9e0cbcccb3e683d5cf7ae90dd12ab52d1e0b4cf9067a33c89'
            '2558b2ce9c3f03a4bf278e2851feb1ae37cd9d9d4645d80bd838de0dee7bd44d'
            '17824b319baa77c14b3864368ac231ffd3f5f9a8d2cc3173c5fc9bc82ecec13c'
            '135aa0f135971dd18a1bff4e88126523dfe115297e093e603df9922f008d19b5'
            '85ac72276832580840f8f9f713f094ee7dc6c0636fcafe3b8ab7c1e6178b7236'
            'c11d6ad4fec4b0a9df244d2f0c673bbc3363d5c948051f9b817c19c987c3394a'
            'dbff8ecbb55824e9bd0c33f85e70493b393f12e63e439548142460abc9dc4029'
            'bd7527f22d6503d41e5e4b7d87e54ebfd48cab9d0ad0f253ec813350d98f4090'
            'a4d4bb69ca728b6139446a7566b0e767faec9439df5586770685b417e3e31de8'
            '74c5bcb3bc9ebeca18d3f93cd9139b29ce69b78368e66ba80c6e0853621ed799'
            '61875123d10cdf24f38d52a1c4a5b63b229c210867c6ba871af9daab38578714'
            '7be00bd770ba576e5f4e58ec633c69e9aa8ad6e8af4f7562e485db84f2e022f4'
            '25e9d4375b3cbbda2919576d0bfac1e9ff00795856a171339146d389f5b2b4b5'
            'fcfcd4e488c7e378309282aa1b1051602f30c723c0c74343bb1e55c80cbe9299'
            '1913a875c1a26c128decd969cce4facde7f85840a1414297788c5ddea2b038bb'
            '5b459f92f89cd9bd49979285d4bd0a03efe1181e8d6f34fef3830e5233ddd2cd'
            '581bebe4bd31181ae2ab738516f9d8f712e14e3bc7ef19021ff4f6486eb2fb83'
            '390c9047d2d6201a0353cc16f30cf5845e2bb27b4776314f1fde7bff5896528b'
            '477e90418f18f9bc144bd2a1964f6700c46328eaaa98b4a9c6d0d53239927126'
            'd3142d5d7f5d772c4bc3d2d25cf48bb9389362bed356c3be9112eca96cfc0bd3'
            'f069610c16c8c9cc9e5536724b801f94beba6acc8b31c04ac3a36e5f15f94b09'
            '8d8050b43b6811577ab334f73c595111db9c2db3398c374cb789fcdcc3f892f6'
            '1aee0b3db81746d7f2093f040d07f0fac45a2387bf80a16a4ae067452c2cfdff'
            '7514f83041083249bf2254c7c394702c093c88b31f23e221fa6c7794d1c72e51'
            '8c048de674c39896f25372c4723150e47156b21181d55f9e13939b37b6b31553'
            '95a8a6f651d71af657e1893ff08f2736556d9f42b1f5c86ea811d14f7a489e09'
            '1f2f8c6b48ca075120b879869d7fb7eac743157495e73ddece8d9418b9af899c'
            '56bf1c4faceb849ffa9968d01b1515870473920cf7fc5a6362fb2c2f60a5b5c7'
            'b357a0320d6a8ff0fc78a00b7e6b999b5fd02170856f9fda02cecb1d9292ba26'
            '03232f298f10b5b77a1a69c90e0de72e9429de0eb4dc6c92f69cda419e61a39e'
            '35efce76e3ae67bd798bc710707108d649c9885f62a0a1ccdb47ee20fb9dc723'
            '554951519f6a31071a2d6c0e9ce43e3eee8e48592b0af95e3f0fe7fb5b64180a'
            'b89c32cff1a81dfa458ef1d35e6122cb77ba95b00e8428b61511f263ae31b192'
            '0790ba8c707644a94a305f40442b307c7726ee37f4975ea81d07940f8ff7a275'
            '26a024d00e0de8e624bebdddb78ceca8e5629f0d0d459f362e817f7fa722f034'
            '966eb35e591083a258a41c992ef3a6ffe0fb0266a1bb444ae19d3a2cd2722529'
            '657700e62a564d3123fd98f75ed6c64ab35efb7bd2d4213150ec3d7fc12dc23e'
            'e316bc85fb1b3ae2f4f27d40315f55b416ab715a43b89a976bcb2f65e72f8746'
            '7ecbf484ed36abd19577706196cc6da403bd8314dc588e1c011fe9518c73523c'
            '5b805392dfdfbeca64bcaea50458b0e35c12d5e17fa21f8ffe3d745dbd18496b'
            '716c0693aba9d879b0e0dfc9dde99fddfd00b7d229eb14e2661fdede5cddad87'
            'ad7134bce2203cd25ba22728033c111d07d5074149fe206ad220a65ca6ac0e73'
            '966ccd4dedbe1dc46bd52016021ed0ab6f22defb7affbd424bb6066a4e85edc8'
            '2eab7c6a69b7ca4821f180332e5176e2fc9530dbe92146f1281a90aff7e10418'
            '46f81535b2968e3c16ec15b42001ffd894b1f6dca379d8f6b7df9622ff3f156d'
            '9924776438e6de0c68d9431a6ded2d7abfdd1af5676f89cb1e9316852623e618'
            '9d3aaae8860750cea7f2a6e4666f7ad330e44d84f39d1fa1f5a2c3e15b741276'
            '39d3cdf86655a879630a4d3ca648262136117323e9f1e22116f9b08f7f4f68d9'
            '6f7e7faf4a1dc76e4e0920c5e9a0a1363a40ece87e7ad683e4c930c91ef23422'
            '48bb9d76ba7941fabddc4c83c03433f79c652445561f1c37bb16ba0d99824a1e'
            'b2322bbafdb22d6501e95a0bbfc0670e84036fc7ed5ac15c44e973fb026da499'
            '13ef5009032d4b4809b69662dd9ce9e93988638d953c1d1a1cc295bda6c5959f'
            '7bcd6d7513b8bbc41f6f08e063d8510a5edc81a1dcc32294828385899075bc88'
            'f5b3a448de477e373fcd31eb409f9bebdd5393005b182231337066eb05c26fec'
            'd7e929cff5775ce9df23a1c42105c45fde0b66db27d5dc632eb73f493f23f52f'
            '0cbf564b8f416a339a5afd9a59287be79040ee7353b979eb98bb603abcdc7b5d'
            '8b97adac60889f207cc7213c02e1feac12c08dbaa60f17d9113f0cbdafb2a17e'
            '9f62f99484e614901819872caf582e12c562b959cc1dbd091be61effe3909abf'
            '7791d4ecde21bf023cfe075a65a6b4a24bb1e6a608f3ca2405e2c101fc2821a2'
            '92c42262630c659cd51ec2cebf23fdf1a23f76412899e96fd95a27639b7a2b44'
            'b79404a7cf4c23bf29998b3b806b309eb68db290c519e9593373e11df9dd4404'
            'f2aad0e0a0bd06cb31f8ff9e0eb776e5fe6cd5496aea30482eb7405b7c51d0e1'
            '413f189176b232fdbde738736d40978118c4db340b75d22f2596ad62bedb853d'
            '77ac7459c29ad3859dacdcad4bebf4aa807e58c755d10e963ac6ba5e9c1521c9'
            'cda30a31508aee17bf593af2090aa174b19f25ba4fed8fade248c565d9fa6a19'
            'a693cb02de9f9b0d2f23d5377342de6f8b3af444c53c2e6ac0a8b95cbdf2c8a3'
            '7a6880e1176cec22c5f59408f1b7c0c80681065719aacd6adae148b15a076d8b'
            '91301378ce47b36edabfafeee2b180ed92c34eb0e8161dcb7e575cf20664084e'
            '02a62c59296135dcfe86a2277b9030579a516aa04de9482a5b30e004ef429aeb'
            '917d68a1301abf70fb37d1a4b119d7b22e2e74a6e2eca57b8c668170940748be'
            '8f890c9f9799d2d673da20bd0166c0b5add8cc74434c224e8f33fd2108cbe7ab'
            '694a84bdcee1414edbc6379b24c9a702fb6fd771dadd18def25a59698e658a56'
            '871076e677062fb2b9831399847ceb38048dd3a6baeb55c7e06d022cec490fd9')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['as']='Assamese'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn-BD']='Bengali (Bangladesh)'
  ['bn-IN']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['en-ZA']='English (South African)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mai']='Maithili'
  ['mk']='Macedonian'
  ['ml']='Malayalam'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['or']='Oriya'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)

_all_depends=()
for _locale in "${!_languages[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$(tr '[:upper:]' '[:lower:]' <<< "$1")=$pkgver")
  conflicts=("firefox-i18n-$(tr '[:upper:]' '[:lower:]' <<< "$1")")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
