#Automatically generated by pip2arch on 2018-08-09

pkgname=pyznap
pkgver=1.2.0
pkgrel=3
pkgdesc="ZFS snapshot tool written in Python"
url="https://github.com/yboetz/pyznap"
depends=('python' 'python-paramiko' )
makedepends=('python3' )
license=('GPLv3')
arch=('any')
source=("pyznap-${pkgver}.tar.gz::https://github.com/yboetz/pyznap/archive/v${pkgver}.tar.gz")
sha256sums=('7c5b11c0dea1570cc8008188fa602b7b6a258571c07c709930bbdca708d3e944')

build() {
    cd $srcdir/pyznap-${pkgver}
    python setup.py build
}

package() {
    cd $srcdir/pyznap-${pkgver}
    python setup.py install --root="$pkgdir" --optimize=1

    # Python 2.x and 3.5, configparser is *not* built in, so it is a requirement. In 3.6+, it is built in.
    sed -i '/^configparser/d' "${pkgdir}/usr/lib/python3.7/site-packages/pyznap-1.2.0-py3.7.egg-info/requires.txt"
}
