# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=72.0b2
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('613f9f9cb6076724c85f48181e1c801c66438869b63a74486c8a3294469a63b5'
            '20dfc58a641b198f5b22d33009ea5cffcabd86d62db963e77bc069882024fa5d'
            'c3e1454490baf343de0f1b0eb1ebd2d90f978de593c5d5226fe7471e63c8b10a'
            '9c767556b6262b5f51fd9a84567fe3461e7f75b995d5e11c5ec801e50d18f0f3'
            '173e9a681591a48d81c60c6e71a3b632122f0372b73141763c6e37b6c802a335'
            '164b484fdac15c8188396168f651171995d60b6da76824b8240c8aa69dca85be'
            'f1677cc0181e2b10c97ba5a83fbdf816db092f5d32bf7761c6845556cc6fdc7c'
            '59cac52465855e8263fd9e5d8d2c570242fca7167d1798f29217ded6fe0c5fe7'
            '3f701edb0977a0c6afaab4a10531a489e8b6d1b1c13327500f9b98fb5a1f4fbd'
            '25fd1ca4ac0bf6e7aa240c68b14badffe7007957366fff75e9c37e77957f4dfa'
            '51230139497a7306936294274d504af731fef31ada4c00edbed7425f2a41bc1f'
            '6d58edade123e5b19bfa088d136cb998768ee4e4a02de7bc9f48913474fc5d63'
            '4cbd8125e32ec8cb8a5ead22bbf0070740634611b86cbbfc623cfe1621aee121'
            '143e8ae2d41c8eed4a274703c6c0ad395d73094a758af15fe73f207cd871e2a3'
            '62816ba5c676674fb991b64088fc3c3347e27a81fa19c254ebac7be911166b62'
            '99801db4d799466368db7631507848da8cebb8f5cc417bc7f39c0d2e29d28594'
            '5d1f0dad6ddafec1be26dcde52d3422b6928685804f26193396022906cf062d1'
            'a81c3b5bf1c283a7752f5f01c5332d7267d5b2a8a796e6ef8a66a8719a562ff6'
            'aec133296302ccf1c40160e422167f75245960342d9444097671cfc2838b4e02'
            '6917e43307e71a0c3408890995bc1a54031b620f387883270d41e5f85ce6d464'
            '6842dc600b26dfd9dc980e1a9e37004c8cb517ad6040a26659a2711878f63dd1'
            '53be8bfd552e220eab4916c0f9d76058938bc9f51e6f0590445bfb5d988a3b84'
            '013c4b479de94e383695aead64addf48c44b7ebb671d64e6af66b0c14eb05d39'
            'a23f2ed90f8a4fb75c7aa0eb63dd5929406b00e03b205cde3204add44748cf72'
            'b696f192f8aab8f505aaac8ee1b6967789eda8e1c14d4333ca41e47d52e87fb0'
            '31a14c0664b88651f9f6af0a786eae7e23720d72298fb22e7981f91229c87936'
            'c085074b6fa9742e2d173d5e38c41676b9653f130b9b78ef8961563a6bc2c5bf'
            '794dfca2667bb1e36264b9c55a0d5a6104ec6c0d11d533108797b586a83437b0'
            'da307fa3c7946ae0cfed11e62cc746e6441478bc2aada6fe09cf393a6784cbb6'
            '374789f0b5c1f6cd88d11e40bd5680589cecf201ad2a2044fb4f78404535b6fe'
            '373a4d05a1770e0f64b0d2a3e8388f257e7b56bb1ff221451555c598074df274'
            '272014944621dab3713557d73aa11c314bb7a51d519ed35ca4ab0044ddccea0d'
            'abba8be12f5dd7aa7ace808ec521a1c5a2322f3affbd2c63f71fef554d9883f4'
            '209f811aed29f783618417afcd0b41768e89910b47be2ce0356c53bb8c05cdc8'
            '6e4c49afc5f7e418f2dcbeed03e73efb7626f00849614b0749f78f2a3adf7a5b'
            '6ae3e8c3defda113afdbd42fbaae176859be2967ca9449711c2c9d527caf9ba7'
            '10a119c9cc9a63aa5e244ecdf0650c17d46e3bbf99485e30b8ec5c62d8c615be'
            'f4a6cc3d3ae66f976578a1bec6da94c2e9282d86a52b4d0f859e6af4808ce6a3'
            'f7c9827561cc574b1bb5483582c5b0eea3e6ab0e61198e4c3462ff0d76fdc5a9'
            '9af3ca9c21ecbeca96735454510905b6fecc55eb73ba11bfde4a4d63d4eb0c4a'
            'ca3ebebafb20681c66f65345ffb4cb40b04c43ebb9b93e28f8efec84c4c7bd1f'
            'f24e2b19609b20b74a86e573f0c2d3a3666b1706e0938a065fac7027d69c12f9'
            '2513cf1932bbe7ad2460eed272e86ccd0527fafa1864aabfed3ca4f0e6a85e13'
            'a83355312cfcc0dd78aca1d0611b0f687d4ac7ddc20e2db46c7b654a8e0c4a87'
            'f53579ec0f87d2f7d42317be30e953774b5b481559f4c2b6a602747facfc61a9'
            'b6d8f682fd803247d062466d6142d8aafab09560864f20dc11015529ed84ae21'
            '7ca781991ccc80cb2f4df02b2544b120e289709e3b41e71cb1ec1d1b94a8dd21'
            'b4cc55322f62183355f7a9c58d80b1f86a67dc1b9c2b09c4c7a258162711a98c'
            'c65df3e41f289b55a42f96398abd23781ba6dabc440675013e0a8db4c3ed1236'
            'c1b80016edaeb48d6bae5a0780792cee887baa8a7e1031f1a59dcfe422334d59'
            'fcd5842b7e6bee492acaa3c694a5cacd0b4a00f82c07124710395587213ce5a5'
            'bf3650098558f46628779843a0811e16b1d58c9db5d94427aa1fc42b09c8d389'
            'ebbc3bb5a975fc59db020fc30f415a8387fbcc68459e3d3b01456ef41c1c756f'
            'f5d35f9ab8091ad9381a1493716ee987e44f98691be1d3c4b8e03676189bf3f0'
            '7cdd4448cad136e6b924a42929fcb519e7a2bd1b1629aa026a503f98d6d064d1'
            '93b71fefe9415bb24d338402d6d831ff765f2e07cbbc5135bf3fd52f41a31133'
            'cf824fbf2f5d90329532a7b4130ccbe10f795993d39cccad648dc2b5ee27ee4f'
            '0366c9af77edeadf5782fd04e4252e945f1d14b44e30de6ff31f355a04ec47bc'
            'de0cfb4aae69233ca135b3d5a94f38bfa946c3eb51e2adcaa6d8a189ad4c3a07'
            '533c5c89718b08ce66cad28f162ae75bb5e3f5d2d46927262fb79ebbd90a400a'
            '9d485203563a8b5db5588d0e45c8bdb98c834f56ef9671f6539fd14de829127c'
            'e70b3d77b979afab0c7917828b12767ca0d809b2e66cb2b41fa310609ceafc44'
            'b70da2e88d6c64c32b4b1de3e4e367a18a6f0c15cab3c89b9275aec33dc9b6f0'
            '8760ce5b9823371f83aeb146eedb59e880a8c6fafa4437c7da69f5b52a58f46c'
            'ba6906bf3a3a5b979d2efc70d9a901ff7d92e275d656136396cf60c3d4c70840'
            'a95e446f206fd393032b82cad8a23ca59775257bcebeab90959bd673abb25d33'
            '922f9847ac581385093295731df39e2d40ed77c67c811a24514ce2390a19c034'
            '8c9c9e9342d20c3eca1b59187e7c9220986784e1db2d1359ea05e71fdb7ced07'
            'f41f7ce6b259fc0d395642227d794209194b89fd08e62bb7a6dbf0d0388b9fcf'
            '71cbc28b730f7b84a748867bd0966a68c7f1e54918739e3647d93aaaf54423e8'
            '6387f93e3421001a2143644d6eddd0ee7c5bbc50e9689b9921c2897ea85cc412'
            'ba717f3e85d6d040ef61f6095855d00ca8067f4a3016968cbc14948644e6aee8'
            '4665c5d91bbe25e4b8ca1600dfb9833301ebe5fdd85da0d77189f78f109f3726'
            'f98413a7ff28751517636d148189464c066027cb28aa56dd0164d3b62be5b066'
            'afc8def50f69badaf8f9f477659372cff0dd050672271a5a9aaf020297177d90'
            'e23780fec7c621a90861b7f30a11640d36526dfb285ca1a8965a47a3e7c83b96'
            '78632fc3593ee21ebc29638839b7e77d2ae7868cbe276c1232bf081d7be78d10'
            'e4ddeea035af903ca1fc9341059eeddec85ae551dc112e6b678cb215f446ed36'
            'c347f87e5d627602c3ed05affc77f684d94bab39d251c58404036370119c19de'
            'd000b010c2a7a743550c5401a8295a94066b50673f973c29b5e0a40855a542b1'
            '626b51d931108bcd91b88db162a2a1fb5eb5ed9c4446256a1e9a41fe9144736c'
            '68dddb31fe21f06869730747c72ca359c9705cc3e6531f25a948483fcc294a86'
            'e8cd599ed19b1663f4905b9395ef635d59b014b5fc94769033a76bf73dd56799'
            '8c2b8ef07dc828c1eabf2a870790ab8b717df7511ae69e1e1f9dc5e4790f5eb7'
            'da14d2a75098f6b2def9209d258028bc11a7557324fd2bb954515d4446b0a13b'
            'f0e31edaf96aa0bf00bf925b3c9db924b8b9ed1ab844e03c97f9f41d1059752f'
            'f9759ef76438b704d6e812bb588492c9c394614d3237311255dda4b808baa8c4'
            'cc418b582ee5dc358fa14c35deff4e3ef6856d4287446b3da109a3d2ca18bf9a')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
