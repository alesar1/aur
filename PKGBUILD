# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=71.0b9
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('e38b33f7177b976dc7e3fecceb633856d88bb483d9d909defa32ca68d2574b25'
            'bdda1993422a89370c07d01a1701fbe5e98d0fed9f912019b72d7b299474c641'
            '701987ef6fc2d58d74cd20db330d07426283889b838856b382e62be882927de3'
            'dc15736f543266dd1196a52cd6793dba9bad88b36d632242e38b931157952666'
            '226f1339acee47ed3a50a4cec2e5695bc8dd4fb9f8d65e2208e9c5a8d24938d1'
            '5dd63cbfcf2af26852e63135b092ad0943a4ada30cbc07c600e4d19549301690'
            '0559e5874fb76827d6fdd4855998875df5354bd03f7322efb4d8e016bd4ac8b6'
            '177de042e80772f8b9ba372747b517449dcec757f605e6a840019b92baa5ff9f'
            '90a4fbf7e2e8152c2618317430a493aae41d51dd893e4aa3cddee6d2428eb1bb'
            '33283e533c4be54fd36aaa1d4af863b85184ca7ee306c997ae81617a83f2b126'
            '1cf266840e12a0559a264dd1b9ee12f36db89838a6eb191ce59aef7b186b730e'
            '0b3027d81aab8132a14ad304ceb26eec7fce9eb3f74fc5dcdda483ea516eaa63'
            'af6a9ed053f0eb35047bd2020688c2f1f0caec13c79755b6af817dcdee8a2354'
            '3a57783d2b82c667329c97315084d23cfde818fa2ce36ca8a50c21d916461122'
            '458d7e614e4e8d759ffc4133072cd38f925e2a2f3d6238fa6dcef85ec7706805'
            '15e42b21acd160872a5a98f934c405c7771a504e80a87cfe8e48570e32a2c6c4'
            '60a62e982a9d0b10eb6142029f9acc82fe73ae69abc6e9dd776a0d89fc344bff'
            '9ae2581e6956e66394b21e5caf23877b8977529687b1149bb533b44ee7e4c657'
            'bed9c4ffbd8c58ce3d34475381462ae71bb10a3202f886ad455312f234b628e1'
            'c7ebf576d9a5a88baa463af44eff17b8afc3a8849a4e4dc79647ef97427d27d3'
            '81c0350809064f891a8a44d4c24b482b6043cde0da989ef3c5c816caa48f6394'
            'bee66f8a9379ae9b540760e814135eda6d3812f4ef4eef162555a742132441a6'
            '0d669db034f54e2b88515d9037be559df729589dbfffd1d7e8560ffbeccc4d66'
            '2fcfe47c6e3524c21d0065b39068a2eaa2d74e8b5ce15657c5ac3eec8f490c03'
            '58ec83f56639505eb3d6d90c781f8b05fcda57302d614b8db818612cdb767a7a'
            'b286343af4f1b348986018e6acc64f2bab17037ffa13bb3c0409b68aa7776ac0'
            '497298292e04396c9a2e4d7de14466e9f27c55ab3e52059793db8cc1e8b1b9f3'
            '0ebf0a57f3485af1b1cd37dff7be9b33c88aebab0b7d2cc0a61f9af29049b363'
            'b58f65d6067b6fc9eeecf918f61bd7265ff3493c185e695d3618e7f5cd27b8bd'
            '34f39c6a0e64cead09c68b0b3ec23d07625cfa7f2da87910c067399eb2a7533d'
            'ff8178d883c620441da31248d8dd46104d209e210977558acd1625ea6427ca5f'
            '096d96e9598dae878f78312b39da301655b0f8bacf40408004950cdedfabbbb1'
            '36ab3286b6c9cd8e49030e4ea770f29420443e72b4b7b3e5f483bfc765874ab6'
            '4bc0344f87efebca4584d1177ae5320fa8a8e701439dc362ca35d3f669f94184'
            '409b282fde7d0807293a772059a08a08282bd91fc4621836de2eb524ff814692'
            '3c45547b21c40f792911a234dfdaf933fa508917282f9c9e81b3a6e894579f85'
            '9fc534328b2ac80be9cbb1bc7dfef34807bca17022cd281592d3046a75623e09'
            '4aa28cf9442455a5b87167ef1aa4f71e3287f869eca1e96078b789b245131709'
            'a361d563418c73aa57cde74d8c64fdf388296a4df3a89008efa7581c26ff7b5b'
            'b6f963c4a378f07c5e2322e6ff0fe8414a75761570820e5ddac2bac72fad3062'
            'b071ebac70d4cd890c60865657459873cbab8f61ce463fa09666dd5c01b3a4db'
            'c13e5c95493a7c1facae0396bec509f345e4ac5c4dfd6c56c1b9ded9c884f6b5'
            '07c86887deaa943274b5297890330b1bf136a1d49bb36e52e555d79478e7e0f8'
            'fb6c180e8f9c7127ba6daca8627464c52f10e48f09a77b0b2c9362df7096124b'
            'd2d182395f45655a0c7ca0f61258104c11d4398402b37e38f1a2da375d762fe1'
            '1d7e8ea9ba942d365385044d7da39e918d0c841f644bc491dd38a66c93ccccab'
            '10981bf76d95745748b5189357bab10f8adbb5f32ba073392601a37f60e5ee82'
            '1f709326327cb100b193d33d821bde5e2052c2196c17f48f30bb7996b6e6ca97'
            'a93b9455b489ba0e51927dd6c86bbb358ee1c6ead13498fa300f5aee6650dfdc'
            '6a155cb6aca637145651425473d2618fe64b303ab0d3336dd820cc225ed8bf49'
            '17b888f5140e7d1f5c77b53803472c5b40e570802bad1627f17b37d6d8ed2ed0'
            'cfd8c1caa2203d6afb9d653a0309b88cae6f70fe344a50d8969f342b9f036149'
            '27ae7783ddf24090dafb3c29bb3bcee3d35d18b79cd05d7456d389a87edde87a'
            '4c45ff70838ee195d64dae1910c4937c54114df3243c465679dc82c8579801a5'
            '848f6216538b5edbe627e421386eaf394edfed352aedc24f5b1460489f8d5856'
            'fe876a1dde0569c759867ad570cf7604d8e80259191de296a61eac45648f1319'
            '4c2aeecc9f66de0c2d2de82e90e504f225df1fc86aa8071ab9023f0e027a2351'
            'ddb64f9d31abca3f3e076f2cb0b8395a5782639d2e1586a07e5b781ae039983f'
            '954b5750df6e5163741696cb9546c6b26d2a6bfb88be8f5edddf5793f87df7c3'
            'dabc36b37a62871fe7d5496d87adc6c952c177f6e18e8133b1e0382427938879'
            'c3b68d867019c258434211f20ecfa3bcc457d8ef1815628a5c0c64952ff1d0cf'
            '3f1ece370029d50e03b6fb33d2d3df55778cb55efa2a4392c06c97c76d0f70e5'
            '558699f3a5c02d23a1bdaed41dbb5212dadcd4e20869ad90f16375fd2e3f4481'
            'd0d1201936e8393f90941ba06158a3f7b4003dbbf997bd21cd74ac7c7f5072c1'
            'fd562f4835c4e37d341c46d7c6b8b491f38ebe2772b90cf0b20c7dfbb9198eda'
            '9463cd1a3625cd0c1ada5d5a028b16874aba483b27b58a5644a253fdc828f206'
            '8a78f1f429f31f1ab683885cbb756ed354ccd583b9d6c206727437277c68a822'
            'b89dad91ef3c540d368c26413ad15d4e6639996868e83a05710a3ef4a2633876'
            'cd87f029b4d65b0786d1736b5e9423c567ec0a2943a0f26858a5ed220a6b939d'
            '08bbb67d1f161bbfc95eb5b9cc2540ecc10dc113831c9e31fd94fed57a8aac36'
            '98e9beafe919a785bbfb5bf073a800a9a3de3605e1fc276b72a90699f8f214a4'
            'd7563779978dc61c32651de080bbe09debcd841951730abc94a85e33c36e4dc4'
            '81c14185a817e5a7eb3b6736b013cacf2957fab25db2b63afee69dad9f76306b'
            'aea8d6d21c7aaa506ef01651f168ba5f81194fff5e651e6eb87d3067c2db9ea2'
            '5674ec574e84bda7dbfea1c58757ec6d0c6402a30a05524b2335634cfc7d9ef6'
            '02731b462b3b6f60435ab7c36cc673f3bd96d285da5b53413124e28454a57379'
            '58c1b9a29235586285240f223c10a95856a8cc0685287ce8991690f9b113a71b'
            '0356fe5f3d10e4bd113b3014e830d7a44f614a11657e98f1a76a5ccc13907260'
            '573163ed033ddd8cb301a6bf810e45bf1976ae7f0a182b0fc5b0cc225d44b046'
            '6030d03cf04b7b3fbd570112b707428d1fbf4002135e8e8a2e168023ada8f97f'
            'e3b2149f1cb23009b4ef2f36ac63d3fecc0d987a81a096e010e6e1ac0404f1f5'
            'dba651fb89b1e542554ebf819f7fd0d9aac0dfa0f8a04946151cf361ab2a4232'
            'fa1ceac795dc3d61b82ecdc94e27085b10ce65c545b5fd2121689616450bb7bd'
            'f9d430bb649c089c9a740744ba834f9145b101bb6c9ac26d933f50d4716c9393'
            'a3d929f3fbde3a56ab54afbcda56994f258dda4e6951fc72f51105be309ff7cf'
            '766d36615b28c48a2fd072820317dfbc69f7b90f6bb178d1ce30537fbe10da9b'
            '9cd35633aab135b0681820dcd145109725107540cbfcd87dbe5a59acfcd8a2b7'
            '892bde2a01a2a69c72483b078d0bf4f7ccbe075db0c93bd719178fa0a6225d9f')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
