# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=76.0b3
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox-beta>=$pkgver")
source=()
sha256sums=('6c4bcc93513b0ee5caf6621552974882d9a05c649b2be3eb55a71b66b6c03b26'
            'f4ebae60c9fe44c1069f31b534ca362b74a51692c97613eb422fc84be97ea797'
            '5c20f680e2b18e81f155d1ebc327898cdbbd94b9b3128bfd50f7685e6e821008'
            '08654a5621a90a9eaf386b83918018cf625cf5707a6575574636f10a0ab7f1a7'
            '327f2f5ff71c9db971ffdbc53bf1a947d90bdc3d04ca54c2e283d0050821335b'
            '825974aa852708c5170110db416885ebd4a4d1d56c959c5624e36349b9927a06'
            'be8b550e90692819f6726e1f39754a325b3cc658214dcd309428d1d8dda228ac'
            '9f1fe7220c42d2aeed1dc8422961e6d12cd3c93c8a8b1d4e0b9d280f97d0a30a'
            'ae08f768981b3326fc07e1892178db228cc9c5f0883f5562df6963e22b369019'
            '1dcd6bc4dc7cef49954ca242e7c087c8a013a3ffa890997054ab29b8ccedc8c5'
            'e41b737cdaeeea26878e84e0a48c83e0a076b4587d211b2726756d85da26f0e1'
            '99f8e72db8011e8d0de55a8f7157dd30b439a08bfa1e98b5685665ddf6a4f393'
            '3f782593021806937ac0fa0e43919b5d3d0d827f6c3ca14b7c8847076d016eb7'
            'd9eceb4f55b14ce656289645ba4ba5193b89d7483901bcabb88096a971ddc95a'
            'f69b94d4ce7dfa3e757134a72bfe767c30a8b37ff046d4b1b7c4b2559affb666'
            'cd662c4fc784ccd10cc39becf1ea0c48e6a29439f30cc1ea96465af4959766d0'
            'b754b07311011a28cad86b0b8ba12c8677035090eabede43a4b6b27acb2d3b7a'
            '033d1a106a826db44bad8f6527ccb27e392e3c981aae8271d4aecf1578cb620c'
            'd489283bbcc246215ec3fbc47583a93a86642e5baa0aafcf628b39ac3cb154b1'
            'c80aea34fc61a26d6e2c51f50bf3060156a0170ca6d46d745793ff15365157c3'
            'a118fdc9494dbd21af7009d26724a8317b5e80b9c94433b342e9b1f5e43ffc0b'
            '6b4e3a80b17970c3f0e67303a919648e528880476edad0c538b3954a29aee452'
            '7627b33ae649e20e38e2723d578cb695c1bfc13a22b877e6076854625e9e0d36'
            'bf038b473b08fe244945847a07cd681f4afb6a21f0d31ee9c2aee36b3e01585e'
            'ee30de2bf636a841f404134ad6b5691159ae13a5b585154b22209597d7a48109'
            '07b5c1490671295f6397fb8cc29be2cd62522bab4207e493332259caf484b433'
            'ef9c1fbbda0c4d9b8629e2c0173c4dc4c6a7cfabe845532a859214a3241e673e'
            '9097e10cacd9986ff438e9da13b2f03c24a1f9b110496c90849399471665c51a'
            'b9a8b08c199eb90eaae5f8e3d5a4614c2b96666c9b7c6f0fb0c83d72dc1e9017'
            '2453761ae3f8ea324b4850ac6d9ac341e42c3e2e1ba667cabdca13ff8e727974'
            '38f4145af9b500fac3fa5dc5e85feb83bc5a3796eb5b58a263a3a9deabb40377'
            '45d39c74d6a4270f2d030660ceb339cdd849d9fd0374a77d3c2dbd07457f71d3'
            '03af01af2972e9825f99f045d570e78a6c0826107ed0cd60a859bde2de248c2a'
            '349396aad9da1c952d85b0eb8817a35c10f8195804a9e8435b463b0a589c701d'
            '9e9a15791fcbc6fff5110962d2ab3ac3865e2019a090fabd3f1a2d6006bd6162'
            'b7e8851c52a3867ce1abd81f949851c3c4f2e5827d558e593cd33c4ca9173292'
            'd91225a6130d84777c200c183c9f7f9d8283bd5cf3c87d24ec14867d52d9643f'
            '1ca5f692d03ec14f7f8531ace551b49d232bc9bae40476b8a281065163652407'
            '110958c79e8f299b0d05727d9abd6617dc43d4881a21410211a3c9c2a504414a'
            '7b321c413d385cbad9149e907d66d9433cb82cd4711860912e4b51263f5de0c0'
            'c7120bfc2448a363f7d4ecdfa32fa963a9eb4ecb464a2db924dbdb834316043e'
            '78269b8a01c5aa064674308c2f5761ac81bfeff46a3e86606459b0a8986b5010'
            '4df5c3c2afe4a6b5593dbe9bdea83e55499f6f0e58461de1d13b307e9d88cae0'
            'de181a7eaaff683b29233dad429374811907ca6c90c7768ff84352a793e5a1fb'
            '4f9eaec684c88b0437a02cd681aa92813a037e994c7c0fc966af941716da8796'
            '8f0f62254991df756dcd905d6ad630c0dcbb0af779175207e0ba64ac0f9e66c9'
            '98fe004777b67beab24939274e8c539a1cc8f92c0263e32136e75cef9e89c7da'
            'a116bad1fc8a35f3597b6833733533f4d7dfddcd7cd606edb0e3fef7d8ba38c7'
            'f20ab4bc477a5f22a8dcdf749a4cc2908dabf59cd940eb1b4f6449e603f23e78'
            'cef663734676fa21848015e804892ad4a507fc06fee7df0154c3644a47bcfd24'
            'e8b471489f4d8ffabb567049a03a358fb4cd8635cf47d2a4ca6734603d7c8b2c'
            '25feae14bc8661a0501a05188fde00ef2dbf9471fec6b8d5ecbe8e55c62a9c78'
            '44cf2e556a7a1bf82c7d77b796d424c24873c1fa1624ba4d5bdb9f737ac52c1f'
            'f8ca9c31f8659b568d8660cda2451f3014f8423ee00d5e2deedbae8d9793fac5'
            '1d8dfe3b7c32cdc40abceed2805642ca3cc6257278574b4706e4d7ff304ca1c8'
            'f7285609b2ac3ca6362205e7e396943ce0d73a733b6fefac776291cdbded8323'
            '06349a399d31db55829ce24f904fe3da39eba70690a9ccdc6de3a60a3158ca6f'
            '5f7509930e3694653a65a45f133277886ac7a037f38db78cb4536a18f0b6d62d'
            '67f7d9e3b8dfa0901d37440e494eda5cac308b9c4d3d21b5e07de6b305528cd7'
            '34bece224b966f943193db486a78b2ee38c747346a4c799da198552f8bf880df'
            'f4428f81cf87d93dae85a01761ce172fa6feb4c4b4e2f18ba504b3c0452b4d77'
            '29d664e183f96317a4580b1f57a403c0aa9a341eb4eee19d9087fef896732a98'
            '8beeddaf2ca2d62a8051c3796f62e4c1436de9c14045c5a87d9a125de39bb078'
            '44ceed791c8034b1ba46cb2bf4da0811e159f9ee2b8ec0b525c22e69ba87847e'
            '2dbcbc8af2f873e8fc3209dd6a18693420014f5964e06912027692a002c0942c'
            'fa4391c433f3998051cb39675abd569a43c045f0409e0028e5195f050168fee5'
            'e10eb8eaca134443d2f96beb35cad80b0e53e2420cd62611369597838b820853'
            '22548c49cbca3b3ae34b02c7b3f4308a8fb316e02e391fdb4f27239381a7c1a3'
            'b76ab8d07303e37d62b3890d12d44f3032d98bc16daeec8db17b869644a30304'
            '4777397f4dfab48bcaecef09ac25871ef81e194594ef97b929c528c262d35a6e'
            'de2a55af9a2688b4a1d7e72f17bca428b51987525e640c6a9e1ecae84a897635'
            '02818365e920b65025fd238b5f7c55de072eccca728733a4ca9cbdbe566fb404'
            '31041fbefad350d5abf032fb328a32900eefe75d5c848d629a46e9a1c16c9f85'
            '5144247dd1c07975c1d9acbdee489514bb659be548937d8c68cf4b7af2d97360'
            'cfb58913b0b027be14d0ae04f8683d4e38982b62c2db29be47560992834f8fac'
            '8ee2f1dc2e34b0f63ebf89df2b9e4a825de5490fdb6ae12462d9fe94c2e0e199'
            '9c08c132174bf6e98486ec744ae0d50f68c3e94992654ba2ef319c1b68b46b61'
            '4bece9c10f9b2f67c67c6cfb68a62413f43dcbc6c69e06b43fdc3f065af98dfa'
            'd4e7d17e8de2f1e5d28dc1ae393ca7fff2924f9c1740e77759a36ff48c4532df'
            '411c0a29a56e582d4ee1055805f3783828959085680a4fcd7229230c32db159e'
            '72784aef37fe0324abb98e539483f8c58fb0a212ccd51d79e5be467920b6178a'
            '801ea604a462b647c9dd3d67ae69e2aa3fb879454227eb69052b3bd760b26185'
            '1e4dd3ad686a778106b9c82cd6d30812148947c3bb899c93fd2bec3a627a593d'
            'f709ca9f3a294eb2101a1daabf189515d9d9decb355df860da5c44413a40f995'
            '09dffecde2e2a2f787f1a2a83fa40401b980dfbb7f79e5912b4c9e4fb26a458f'
            'cf0d60f8a3946e392b4e736e296f84fa60e2524ece0106e8cd541f3b0aa23eff'
            'a6f09a5946d378c93adf9f3d18e5020b6bc472f1e76f93d2d8ec96b08ce8be62'
            '1cec748d4608d2bfdb526f1ca105af13205231263d7bc11bd42836216ea35d43')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
