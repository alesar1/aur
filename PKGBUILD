# Maintainer: fMeow <guoli-lv@hotmail.com>
# This file is automatically generated. Do not edit.

pkgname=ytmdesktop-bin
_pkgname=YouTube-Music-Desktop-App
pkgver=1.13.0
pkgrel=4
pkgdesc="A desktop app for YouTube Music bundled with AppImage"
arch=('x86_64')
url="https://ytmdesktop.app"
license=('CC0 1.0 Universal')
makedepends=('git')
source=("https://github.com/ytmdesktop/ytmdesktop/releases/download/v${pkgver}/${_pkgname}-${pkgver}.AppImage"
	"https://raw.githubusercontent.com/ytmdesktop/ytmdesktop/master/LICENSE.md"
	"https://raw.githubusercontent.com/ytmdesktop/ytmdesktop/master/src/assets/favicon.16x16.png"
	"https://raw.githubusercontent.com/ytmdesktop/ytmdesktop/master/src/assets/favicon.256x256.png"
	"https://raw.githubusercontent.com/ytmdesktop/ytmdesktop/master/src/assets/favicon.512x512.png"
        "ytmdesktop-bin.desktop")
noextract=('${_pkgname}-${pkgver}.AppImage')
options=(!strip)
sha512sums=(
        "7a5f9f85764d9d40957ec843bb62ddff0bf06f267dc283d7d2023278b5cf922dc8bad69f6bac004ee7ce67e7b71ebcf6a919679f16f4217c5832f7fc45c93c4b"
        "a80a34b7f491e8ff31005944b68a652ce867e8b4387b105d2cf2981a8c06461d89de74e9e221bfdda6a5e5d7a7f6bb211d3b9e376b166fc645baa477968e634f"
        "489c9f5eb5db2a63028c52d064a35ff4f5f1755ae5f42d8a065478c91fb38898645f19f6a3bfb932785f6dd663bdd3d17c76acced3825e2d62b85f4fba4919a7"
        "dceb5cebcf44fa62adabbb878417acf4e59261acb35703ce8e64ef12bc2bfed56577f2334f8b3f9a7ed206ffe2187a153853f62f72d885d3f31deaf41cc1a5e4"
        "07945041e5a15a1279bebc592ede9291d4eb8b7652e9471ac5a509479eb6aeb1339f3876e5a6c02c78c694268ffa8f1649500491f67698582d2b316dccbee212"
        "c8e47107e630307892ec33642e7332805bf2d49e2de6111e41e744792a9aa4b71ed17522fe5c0659add27f91fae8ed8a01b69d2f4b51185f9b35516f435e5db7"
)

prepare(){
	chmod +x $_pkgname-$pkgver.AppImage
	./$_pkgname-$pkgver.AppImage --appimage-extract
}

package() {
	# install license
	install -Dm644 LICENSE.md -t "${pkgdir}/usr/share/licenses/${pkgname}"

	# install icon
	for icon_size in 16 256 512; do
		icons_dir=usr/share/icons/hicolor/${icon_size}x${icon_size}/apps
		install -d $pkgdir/$icons_dir
		install -m644 favicon.${icon_size}x${icon_size}.png \
			$pkgdir/$icons_dir/${pkgname}.png
	done

	# install appimage
	install -Dm755 ${_pkgname}-${pkgver}.AppImage "${pkgdir}/usr/bin/ytmdesktop-bin"

	# install desktop entry
	install -Dm755 ytmdesktop-bin.desktop "${pkgdir}/usr/share/applications/ytmdesktop-bin.desktop"
}
