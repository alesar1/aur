# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=71.0b11
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('98dfc4a9f768b1aa586cfa79ff39f6df808862ff723232df2d158dfe7d8c2135'
            '816d758951d0005b43bede5e0dec59a46aea19049de0438ca8e415f5f6d9f7a9'
            '009d057a2a39445178dbfc49ec288097c5f9f18c65bf74e5f5cfd3ee427d6a71'
            'c4b953d16c6172026223986120b9b006c20d3e89e71cd2fedfc0c0629056fc6b'
            '4b49a8864d7cb2bdfdb1de535c2ec66bb35556804434ef15eb7c45c59940f567'
            '90d7b29023fd5b5db9bac31cf3c8cc5b3ec2bbc71466c3eb2bf62f822902f246'
            '578c4f95ead2cdaf7245310e82341c5cba3e029d9cf35c57f1110431e78fe33d'
            'eb1dabb29bf0f721ad8786f13576f3ce5aa9f567064ff8e34889694d4695b41f'
            'e5d7466e74734fd51a4e9fdcf761e2c3f393d8d93d3f08a61bab848bb286653c'
            '5d1f5e53a788c2ab992c38976fbb6c4def8ffd1ce56b9cb5a3c539a593a5245d'
            '8e204d238591f39b2977a4ce11a864bba27e5ac0305fbf63b23256c59cced66b'
            '1ff401b84eb3a1bb84c6e7dc0e51b9b38b84d854d029b3d994e3aa0c65737895'
            'afc86fe8332ad6a5d1d611e4a4e0b3ed5ade68646b3bb4c47503b2990d981763'
            '2504e0283d98e10c877476fc3de19e2248d59e7f33fdd352bb66d8f4e3abba83'
            'af942fd523c8802e5e3c0fd87642eeed82f91622248f5856f1638c83db35a5df'
            '5148699fbcbafad3a2936a6bce89e18e0781b67cabff512963733f985dce1221'
            'e09de8a2f84cd0e26710c4469c591c8e5be98799113c04de9091ee9d9d320b33'
            'a7c174158571471c44d59554148809a063b00d381ad121df2387bc0f83ad549c'
            '37e70f39f1078d9bc88c6072246f6c708e5351a5cfdbd549805f0c71c3302d89'
            '9ffc6fe2d1f194c3b72127122d77949ebbb16d0bd84c2c218e706dda5d695b4f'
            'ef68477c556e32ac4e9d8ed6289fd4ceaad1e4214b35263c15b782127af73402'
            '778efabf8253d2b7bb929fa633e9a8cd168690ab14d4c57c5446cecc92be5e3e'
            '48b635d64a75106ce176dd4603713e2d89c976eee30b49ff422f8d4315966f63'
            'd47da3080894250d59468a6ed4159e59abeefcf773446af22d6f1d1e46acf685'
            'd6b0b47ff0c0b04e6c596568bfffed3a23df7517b9310fd6c0c03bbcfb26cd28'
            'f466afacb949068fca753e92c016e9dcf24a575a37f36ec20ec7c3c0672612fb'
            '92adbe03aa52f4813cf9f575c08f52b5fe037f397143540b6fb0ce59e73f018d'
            'c9344d796b5b85177a8b5131f008c235d3468a1731c7e28d46446a3f1cedce9f'
            '74517dcbbbb7b22627ed84ac17913ebc75e3c899c87c30b13a8a2b47044b5c0a'
            '3eae0aaf8e0ec0873df6ced5c64b341f1b71404b50b1c289cec956fd5e15e388'
            'e110540a8e013574f72b010be4af6c18182ed2199846f96d7c78641701874752'
            'fd9aec5bcd8b40d9b55a0508e9e08c5107f742c3950fe2c33d1797f8e2e3b1f3'
            'd9ab8ebbac7fe3d6e4db5c35517aae1df9f8eddce93c1892667728f4df3df663'
            '88d6a9486f7a1299aca99c886ce9ccde28aadb85658837ce71d01fd9407f8127'
            '203a34ac5a886b41b0373b487c2c943d8197e41c7f3270b14fc1f2f4687c9f5f'
            'b3764904fa5623ee3e2bb64d6972b99f0b4f44ceb01b0c9682ccec8d08a34179'
            '810ac92d53c80d08f0fc7e49b743366f0927f5e0222a79d8bbdd0dff707ccec4'
            '284de29eb232f5f0fd2c5cfc829d776a175f06370b41e87c9e70a52d3a2e1e39'
            'bcdc61c59f5ac5a462e642c26b8b914dc5a5216cd324ce8e537ec1d5f786b6a2'
            '1ffc42431e86d42a1f39ccdf88aeee412a98036aac20bda81fb27dd61a073b95'
            '02f634e6ac7f63d221a959169a745a785efb415ea4ac998ceb6622cc5f037691'
            '0646cbccad9cb221b7b26fecdefe672700d2f2b3bab513ac081dbd12538a5e9e'
            'b655d89959216ae2b9fe75647adc6c7935f53b12faca0b6f14ad2c74271ea210'
            '158d4eb156510c6ea575a9db59fdccbfc5396f7fa798d9882d986117e68c32b0'
            '4e76654621c16da6d6191e9c92c9f20fa6046ea1990a35beeba67377b8656a55'
            '97a4541c1359102abc1fd98cce86bd5f6aa9acfb1df8130cf3fe39b3fdec0246'
            '42aa6d498d2051eba2d1ce6302fa63503c16a28a8fcf483ff4fb0a7b296f80ab'
            '74991bbbb9f5db93bd92584185292ee25f575e65c92b1cba41c46b39c06071ae'
            '889d7a0286ccc6b30b47c42c537e4c5106eed0241b816aef7c3bea816204da88'
            '502926167529525e279930fadb1babf57af9289f47a1fd61e1165cd4a1039cf7'
            'bd30ea71b0dac87b5a48033a576089dcbcaf4dad0286c6511147843f6a958516'
            '96b7a143c4093adcfea3b99e0656fc3d630036e51d214059e54419dbced2f7ba'
            'f9e1d604f849d726bb0f073b917eff434921f997613c31c0d0292e3e58d0065f'
            '8cca7ff18c3265f3df31108a76ee7755231cc536febc6e8c9cc2a6074c3165e9'
            'c00417b5bd0bfbcd16947dcc3d60247bbb1bbca689c05b6f048f72f54e57bb22'
            '759ccba590b74ec946410569e3cc78a7c472be376be058abb303640af8bc8b65'
            '19a5fdfdba76d6416faf62781ba77337c90218c1e52ae124c147e9f93c13479e'
            '5eae826d4d14af5442d3029054659357befeb0a7a95bf9eafa7781efc35e6fee'
            '1fa5041b88e11c67b4ab11d394d6ea653c85d11da2a1df4c7fabe41dc1491c77'
            'b0e1fdb09b3a734fbd4387ab4876041d48d7e3667a4b40874a7db6e604af77ac'
            'a96a2c548908c5f45f21876933ccbc8f6a5879b54b280430b40e01f5382055fb'
            '3f5a0da3dda314b1bf8d7c81ce8b1a35553571eaf5135b017eeaea1ca4f36eb2'
            'cf89c9dab50651d0858cdd0f3ec2da9426d8ebbe8b88717b9ca0312b4a74de71'
            'fb1ae6dc9e509546e3fe475f2306437dd9909d92969a29c63fd3d5aba384f62c'
            'f1bef4454007e44536400011fe3c4ea1add4438b35514d604c4037455fdfcb02'
            'b31c420594ef89a4cd7ac68b0032d522089415776087ab58eac2b0c86ffb3287'
            '61c30dbefebcc3bef7b21acdc5fbe56ee9aa3911e391652deab17152c4c5c826'
            'da3fa97bd155844227179b410cb3f6ec71c3ec20746955bd15bd928fd4cf30a5'
            '0037c1540d2d6bc11f0c25f7eab26b81d060c685e8d31933485cf40fda805385'
            '67ad5db8ede93ed499837b49b96f6ed2c14fe544c3eaf06b92ac95d47e3ea6b6'
            'c0f1a72b01c2c5f4f4d83e810bc145c81b38ff78113facec5c918d29664825b9'
            '162a0be70d0beca27419ad2d4e1d3ac38767269871fa0fd2f38d1556c954f6a1'
            '896648ef8b15eea334902027de6d4312d58e55e67bd357a5cea137a1c9358ff6'
            '92d8aadc5c5f01ca9ba076c8c828cf105594bb1f0ad30f0f30253a00c09dd764'
            '0a44dade5a77922f14e842ad2e10dcce708cc2e345aa5efb0870194b3d2a471b'
            'afe19eb9c0a52e53e6773ae31fbe2fd2fad776a08f00331642e9159ab68d0b2e'
            '0f2a74829d7f559821f83e155768efb3ff9bc8bdd04b0c3a51c04ba18f06fa7e'
            '9dd14ba23828d22c5fc3e0fd08345c92f1a06c05ff3e69daecf49d488fdaebef'
            'ef9f8cf28d22bae3689d9de9c2d6d4d4c4c804d466fee1e91776d9afe95fc318'
            'cc4388c45828d993a63adefaa1015ddc98ad51f67c9787a8e6f26132d81daa01'
            'd289b418040f44ae20aba745ff2796959eafa6fb09f197ed9d7f9533447bf941'
            '1dd87d6356653deafef12b6353c03a3b32e181ccdd4d2aba9a956be30a1aa496'
            'be7890c577778bca38369e4a60a08eb61a13a78d54be7767137604ac42904a86'
            '431b3698b2130fb57c90b8524d1b8bc9a874a68242132009da373e4ac1255ce2'
            '0377d38f1b9ef99545a039755dd9b7fc0a9ac50abbab10094d0001c1688c8710'
            '3170967f6348bc2d8957be6add1e2f2ef1a2711b19916efe77ee67c63cc0379a'
            '9022e2b614c8a682b291ad42547023ddc98e89d13fe7021b5b786790ae421291'
            'fcb204c38a9454e1de18fa6bd58534bfa5cf4dc5462657e33b664d274603e510')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
