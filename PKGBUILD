# Maintainer: Kirill Goncharov <kdgoncharov at gmail dot com>

pkgname=zkutil
pkgver=0.3.2
pkgrel=2
pkgdesc='A tool to work with zkSNARK circuits generated by Circom compiler'
arch=('any')
url="https://github.com/poma/zkutil"
license=('MIT')
makedepends=('rust')
source=("${pkgname}-${pkgver}.tar.gz::${url}/archive/v${pkgver}.tar.gz")
sha512sums=('e6114681f6a24133cff17e8a7c3cc0febdc15111332eb47e340a81ecf73c78f5f883251c24e3681b5f48035e12c8383f488ef141fa60969b14368b61210e5ec0')

build() {
    cd ${pkgname}-${pkgver}
    cargo build --release --locked
}

package() {
    cd ${pkgname}-${pkgver}
    install -D target/release/zkutil -t "${pkgdir}/usr/bin"
    install -Dm644 LICENSE.md -t "${pkgdir}/usr/share/licenses/${pkgname}/"
}
