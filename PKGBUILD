# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=71.0b12
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('af9b03e60bc41e7b5113f11ba3f2f8401aed9adc50480291f04431a3eba078a8'
            '1c5026f991bf466a46ef49641c98356b6c030b8eb9ebc3eafa86097958b847f1'
            '3ade8efbf66835463541bfe6bfbae394b48d99f4360d9302bb9aca54b3e222ae'
            'ea18840284895aa04aa850396bd029c5a9ce2f51261d02e7b498c2d7e1447d65'
            'fdd0c5d3bb5d4b335f20019e5be0f9ddf6bf47172a9a9397b269245c5f7787f2'
            '4c689f590391c70c2b47a148b480ec33f8814b50502e6f86d4b958aee38f73ab'
            '144703c2f634bf0a391a023bae725f72187374db53e51d538ba92a46a48acff9'
            '41b1aff692cc25d6f0d6bf31312af027dc7bc55f4a5b0a965229372c3db10ab8'
            '350e66a18671ebb473c23dd19b5d51d3f8ed7258f9748f92d3a367f7bb5b23b6'
            '402bb26ae510b6257c524a51e220594ebb69b7802092c783500545918a659401'
            'e8578a162af7ce5a9d900fecbbf34f2d1697be31c575f4d218d607b5363d8dff'
            'd1539ba6ca3e7f9915c610efd540b76da5aebc03599efdc600ea3a5874ebde26'
            '6b0a4ce839d60530cd7a638b13cde394ce5a8fa5f18f1f8c93ab2d02ab56a4fb'
            'd7c794e692e1c82cefff4c16c095bdf658219b1ce7ae02ffceb7140fceea4e71'
            'a5a764e42817de06c9d2d39db9b7c58a95f613e09c899953a040943034975e8b'
            '41355d119fe0be7e0bb47e44319336d79754fb9194fd6dec791f8cdcd540ea36'
            'da093263efd229603004b16b8eb36083e2d9e55b36ab2284acfb21876417191c'
            'c560e3f4dea5d2555eedf7c7a806c9073f60650206d28be76cdc805068f840e6'
            '377acdae6731649f6832735dd9c4217ed9394ed0e414aeb0e0af7d47bd905b05'
            'd4518b0c5c1c5f92f33a1e5785d40942b677a68b43d3558da4f5cbce65d6536c'
            '201274259ae3f7e5c988c0218148df8434816fc2bfab2a9758140eceba56dc7b'
            'fe64f14e19e3bbb8a380fafafcc84f0e6da1c27e643d7b90a9d9ce025b42cb51'
            'ea3de930c39afabf875de8edc8932eae000679c1b9bfb1385f35cb6145c91f9e'
            '50d46083fe1ef32b0b7c80275795da7b2116c91db55bf5812433021488fc4c71'
            '8e9ba8f758cb59be9d4bfb67f06b627a5ad44b188c120d03b6dc81de6a109ccf'
            '3f9360401b46fb0876db599922e5ad5b87f4a008f8ffe2675d00f51f6ea9dd60'
            '932261406dabf4677e87864e669c2ef7ecda2701517d31da1090cbe398d83664'
            '75ef1161999563bf5003b6fcc1ada8f48830fb95ac7dad8dd1fb66012ed0e4a9'
            'ae3f9ba4b34524c7a6a9e76a459c7329f5790ff6f54088a4d9d27beb606bcb02'
            '49fbb86c4787b30e1a0878755669e96c03ddd64d8d7dfb281b9b235945fecfc9'
            '2e8662f7a3ca0ab8f1cc1c4750ced91bbbcbe6bec815a487bcdde42723ccd3b4'
            '1b5ddf0967c42ed3c6a920f9b2ae5058667cc55102a9426c7aba8f705a3eb788'
            'e05d39a1b931f5c497376d91ec2a16a3c4b504ea4f69cf2c5b0e8686eb6e7fef'
            'c0c809f4e1ae0ce21a5227d4020eba396a111eabb60b8003aa3b92e004f1e5c1'
            'ca1d8b9c9c32a92a050f7fe26b32e1eef2e24b2dfe4f8901c5db23890c76c1ef'
            '0a3c51cf72fc356e4329260a3529a3b48455ee0002dddf06f1ec10b309f57087'
            '423122b6acc4f57d121bf6d01498d9a2de0bd5ba842145907ded30f3baad7194'
            'caf1f63c34ad904f018960f49fa44838751585c28f9ed364e529bdd31aaa6045'
            '88fcceaace247b43738432261b7c820bf46ae6ac39dd33d4ff5117afd1a7823f'
            '02d3bd92eda8a326dcebab6cce6def08f3b72db002fb47420ab1cd05ebcffcc4'
            '3cfce6f2bce63273bbb5b8018f7f6685efd81c903f3cadf5dcf03f9b85855377'
            '8c4dc4e27cb9eb893de00d1be7cbd37b6c2becb9b58a700cc37292f458413bce'
            '348f584a78014e4ec97510792188c8eb98a8be780e6fb9051b1885d1cc617fae'
            '50cbfabd4000982ceffa258b93f9add57b6decec41b8b5467793109740b29850'
            'b5b09c6245a57ac9f4a011f6281462fb92a3d142278bfd59b18c83092c742fa5'
            '1229b80d2f73c5ae38d9e5fb5d9818aa01e1d7bd39933d19e73ee04a5b7622c9'
            '0eb5a285c96b1d31b040f8c0adc562d6793040b7db8e7c644b708453d2ed1a17'
            'be52b8635d27bc71190e8c7f1335859362a00600f4a6c86e91c7e9528055f912'
            '75eb42986eb8b3db4a6ddac0514f1538151fda9d4440b1ef1ea551ab956fa74f'
            '30217cc7081f9d51722791b9f561a4e21885ad0ce442c4b9de82339807d27a44'
            '52e3a593515369209611348091fe8c34a4224508ba8fc5a46d50a4d6e6f4883c'
            'b0c37bc26cc04389a5c2855859e661a4100f3abf17a59925bc2be53800dd7661'
            '7426d6f537e18127a3022b1c4371e11c4f7f11230f46861b98babfaa2fdc0615'
            '619e8e755760efc6cbac8061454a7ebecb47d8f73930657525b33683480c9a87'
            'bdd016d3d8f635112e335bdad5c434bc1c4fd57bd6516d72bcf793d3e69a8823'
            'ea4679c457f5598530e3198180f25ee2a5e270cc50761481fad0525f7dd55259'
            '742eb9eacc9cfe25ba28feeacbec8a96df6b7785ca409089068e8a0f58b216db'
            'b607db251d75f9b41458a13ebfd5ae073844e9d55a0cd93ac8c440d9c7eaa43e'
            'e567def3623e31d4364ac21c54533d209b69782f65dd1c4f43375c4e4f5f43b7'
            '63c494cf1532ac851b40de5bbb869fa6e2c026db93761d23c24b83b591dfc2ba'
            'e9218a92ebd092a6f82c39312a08a33b4bc3a6c856228a47ddcb596c62457817'
            '018d1558bfa280193e37d73001590178a984efd84dee1f3bf937755476ec370e'
            '3461328c6f90bbeac380e0db3063bf31a93fcf13376cf0af1fd29ff0b2e3f383'
            'c367a74cd92023a638b6d894f2776f8c7a16050c0e7c31cdce928272ae50b096'
            'a30b8c30072c0a03723687c1675b2b2b4858819fbfa81e68f260005acc291e89'
            '28f9787322da0aa6dad3b73ebfe8f2249e715950e0605b01d315453f91cf4d50'
            '71e55d44077c6b3086e77492bca8bb51267eec597fe7886dc30b79fd679a1cf3'
            'aa84a274a509be1f2650dd1d3d17799d427ee2b0fbf213b05ee4a814f3324a3b'
            '36cff171ba76f1d3bfcc60540ee7974262ff7610c9e24ae08c442df60e649689'
            '8f66b82cdfd00607367eeeb50fd18385197273ee6389e4ab507124911e8d3205'
            '43d2c25aad80ef12909e609acdc2c234320c995ffb34efd7634fadb6cc45aee9'
            '0e95a4dff3ba2f145362ac3dec6e998e5ebf383f7c8aaef141e5a998a52a6eaa'
            '8ab65ceb7d0f8544282cb8dc6608e9a687fc4836697f21888441c1c8664f7bb8'
            'c489eee95e4373b8248ea8031d7ce74131fa68f60a723ca7a6c756f27bb5ad4a'
            '8ae3941b2257147151ea94613164e831bee707daa3af67bb8044c48c873cb773'
            'cd89d79c871bb49a10359cfb2e0dc3b4e7f162323286e60a4acc7062af72a35c'
            '4e2ee8b70534462df5c6d093e5fd725b3d1a8daad6d50fd50b519ffe1bda9846'
            '205b183316c63ad4f945308425b4b9197eb17224c3a5e474ed0857695e109cba'
            'e3754e62bc963b919d74e5f0fa1aeecc7b162ea8d5e576c803f093135005161c'
            '8bd5f045d12469f1fde6126abd0264bf7d21aee5b5fb1b32272280126d7ffc5b'
            'b453c27b32fd14ba94cf6f6b0e14f69d889d8c367153360dd41d30d301793096'
            '12069eaf157289a2d5bd6a2dff744f288a0175a28e9986aadab589a7e89c4acd'
            '58c0d33d995b5021e09f87bd8199a3135e6a5a63d3be71709e67663f650d9276'
            'e0856c08e236a3c02b01f03dd96a0be239bad6e170cdb1ef8419ce95fa966797'
            '044625078e93f3df26ec409ff52e6b6f9c61afacd8773026ea8f634d99d949e5'
            '2038d8b6b9c4ee27845e16e1cb302a7d5d56f074326a6a382389823de5902d04'
            'a553d78cb036aa3bd2a8ad4d46c89ff07871081e1fa61e5fba02dacd9742bb73'
            'fd37211df91a01afddec67df385546bba5808ca8c6ebf61ed3c0e651791bca1c')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
