# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=70.0b12
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('eafd07d1f0a9917ce58a50a30777e07f8ed3687a3dca28c0f6f6670cac3c4dcc'
            '1aec663aaa6e4bf6c144207b9abd70e6d5c67f7eadf2bfa420e4dc4e6b765075'
            '10c9b26252a026bb320083d5dbb7a07651633a917e7ae15358f59224ce95efb8'
            'd8e4c557ea3e8ce6ac0813d571a658f1a3e612ab8a5b4aab3eb8c2f5ec2896fc'
            '4c945fdb0b5a5dd0226cbc921df0d31118efe840649e2ad9382bcb3f7de26c25'
            '3227ea76a7adae5dc415ada8a20f3fcface7641b6f85a1e9ec9fd16b70c978f9'
            '409176a22f2ce9ac3b70a749436e5b40386bfa2fe40efd96b64fea582aca5897'
            'bb3e6d6b58d8a73ae74618005543424b10244cef5d7b3f6a36fab9b0fadbc4f0'
            '24ee211ab3c116c82107e91a1bb299153a3e1abed929ccd196d0445d7d4b6139'
            '2f6c342f92bc3fb1dad41acdfbecf81997d1b91ffb5e600e2c2e884389489651'
            '3849e0f2008491196b00895c5626a1cc345d6fc781b9cca72c408edd76b56d9e'
            'f253d44a0684401a9176f2e8b856db71a36dd901f626dd4080f2250e9a431100'
            '209366497edf85505c1c1dab22ea6afe74dfd3c563bca6956e3c633e7659b5a1'
            '3bdc94712d08788c1b411eab6cb392c51e508ad8bf63ab02cfec8c411266ca3b'
            'd6d7cb89546506b497de1a26a91e2091ab0e9115c161562fd02b5c322013cf46'
            'bb977e55d77d8b84e4a1a6fe4485962b5bdf86799fa7ad14975b7c8e40f6fcf1'
            '9cef5c5f8b6fb3f068c65fc61b5e4c20fac9c4e8c3a43c4b2095737b5f3dec89'
            '7a7c09277ff1fc42be0899b026c6dc6d5f616ee9a5a18659b7a0c925b41333d7'
            'f2e3a345b55822406f49d9764eccb7f3868f973e7c52e911fc8ec4c998875a4c'
            '11fc413cca4139191279d5f6f9ed404a5e8eb3e4a081c62637a8a863f6c0b3db'
            '1d3b25e84a61afb5aa23645efcbaf96ecd029ee9e386cca4313df0f91e38b9c9'
            'ddfa4d2af169b88d7782763ab2d8fac2034e072b04c88f39b0c8961e360fa751'
            '95ad861ea3642ffa6bfd24a5630745f850d6d99789dc981ffc07dbe6496a9278'
            '04c3a91be46dbad56a2256923d343d6478ffa051e73b9b9676d7d452d792ba14'
            'f6b8bdee0d0d62f5769a806da6b535d2cc1be5f45c7e57135be2b7ecd4eefbaf'
            '86ea9393d7bdafd3804b6411ba0dafcf7d98005d04953f808b268f953819ca88'
            '9d58d2df896385843c8adaee5e029f3e8711b8af446d97b11c7dc12195b989d8'
            '0a63bbc484a1eafa79aae4cd02ce12d097f3d6e0d06ca92f7d498319ea9a30bc'
            '6a03ca1395e5cb89b90552c3e4c16e891cdaddee651da4069369bbe09c22cc8d'
            'a9dee7fa7f9e0f787b2553a7b44eb01b92ccbe6587b22e7a6c68a1957f161684'
            '001d594c3a33546d7fedd7741bf6475f0905e4acff60fddaba739ed5ff217383'
            '7f350dc9b607172e99d499871cdee5daf3e3f12bd1aba12a291a8452d7db7db3'
            '5ff00fd23b2a084f3e6ff11bfa91b3af5c256a23dccf64c21e41c046e95193bf'
            '4d8e7ecb83a520964edf207dd052b6bc73f688c96c15db23d8b67683fae5ff82'
            '259b2eb72a5ff602de0157685ae2524cbd0f5d8c4abad00ddb8103359661d331'
            '0f14c6357c5ea93786d12d7b2dd6b51c043cd3af450d87f0da32bd70fd409dd0'
            'b4cf511c908083bc48412b9968184fc4fee9a7a2d6696c10cc2fe81208826401'
            '37d84185d6ace6b584abe9a7f2d4c77796d1f6da7ba11f950d258bf187827bc2'
            '649f3b2c6f7e5933c5ec7abd25d5ac8c2c6c027b7f836092a4bf46b5d8c64abf'
            '533115578a1e71390c5d3d431d1a411fb55f6e6d55cf26d2b125490cb947a3bd'
            '5cc376734570ea716dca8871293fc0904b984ac51ca868a7c26b348261969d89'
            '4e63f94cd5ea6e968c55b17883e025cb23ddf16d66f6e84bdc9a75cf34bba741'
            '2b0f62356c7ec2dcabef1ae06243613238588bd7c9f26cd8526df8442c38c419'
            '275325a0d5d676b6514a228e09cd4de6359accc72bdff69b80c3b404edeed2d8'
            '6d0219a24850139aa10556faddb889788efb4a860fb062306d6ab566406762be'
            'f0538149c85bafe2dd432c501a2cceeaf8f2770117c65031f84862a6355f2709'
            '64fa763ce866d8d34860046e35965c8984b6258e09723f3d2322b4e620e4df89'
            '0d1462fb611c5513fdd496a9fa0c49fac28b78d333fa84b620c7d4248dc8de15'
            'f35ed73feb6acc203e3fe4d7f8f07cf0bb1ed7d27a081f4e359fb62b3afc2d5d'
            'aeab2f73e8528e8b9d943c6f3cf4c4c69053c58800b69e3ea9b41c307c109b6c'
            'bfe69f2b9f24f2c95a6459cea0a3bcabc0ac1de32953526517e3cf812d888001'
            'c7d0be648aaec373f69a70010f78b196df27cca15e5b53746a21b5da02e04794'
            '9596e64162e6bc903d4b9c59976d9de690300f44eb12457c2618a7dac9011c53'
            'e8c6d463c5202499ac276c35509df794f122febdc8632d95e1a36743b44c8636'
            '1b4532069f6969f276ba426a9f6cfdb4898443905730f1245a9310c402a2db49'
            '7906c2af1112a81b6d723f8b93e3702e83e0cd5ce45c4b3ea57a725ab4979644'
            '435002751bf5c1ad4c196d930e50d64d564f27fd8edfc02ff2ce90adbdeb13a3'
            '0a2ad044abee82c8d306d9b605a7ed2adc1d42e2d9d3e813fb6815aff2a4ef33'
            'ce679d88b6eb6035bec13d36b52bd4a441aa2a4d627c03b984f4e2b85e23ce28'
            '0eb6fdcaa8844555e70678bfc26ad99fee61a483c87ffb4a8b9627ab3b54ef51'
            '403588a999a7e94003e30a01357198affec453085916f2b1f238c7ab284c5ad0'
            '09e458fa422fd243fbc539fcecbd810dfa8e006d524a88d019874f3b43faf411'
            '630352ca679392b303cf136432300b4f952c33e22c1af71cf81aa66ba50b6301'
            '85444dc978a6e6a67e13a4a10e32448b1df3952b04e5aef45add037376f972bf'
            '91b2301e3364984901b56e6223b1ed579b2085385b52def6d33436ac6bc88b17'
            '1ca116bba3d81b5e927b7799294749318c14d628abe045b52c75c8fb14eb830c'
            'f3ac3e1a384ead61d848d837ccfd32425d243af4adcffc3792c18f49d4e9a7ab'
            'f4ddde985d750a8c8b96d0d4591f24708d96515afc184ef7e774cd6b0998e72b'
            'cb5df521019cf7875ee6e929463f1f1353f700283443ddcc5d94178a535faa43'
            '1fbc38436c14b3586a4988ea6080a6c01972dd1b01640c81ce884d98db040ae1'
            'fdb32403bf6201c49f9a94ee4604dbe2875dc7c0b2b2cba643008b94737e061a'
            '2106d322be74a0ba2706d9a3a6997bee5fda9c28f310d5f7a04670e0fe45755c'
            'f0b2edf9a3447f7a9a50164ade763995098a15710729ea37a369d589ca4c6d9c'
            '8a5aea9fb61d6929eb5bf53546029fdec1e0961ee3595c50de36c9e0a7355071'
            'a7e07c4ce5886cc92e8aaaa579b9b922e2fca53c03774f73473cc49c1d4f7176'
            '5ed8547f04a4bf38a135ddbb6a55a0c9144c3f6194c4b5030c8a4a7edb661766'
            '5327617c17267486ffa4ee85b11149eed269ba1eacccf3761d9b60954da1b96b'
            '56739e6f8765a84fae4dcab32686ad8e3780c0f7249ed7ede6c2e7de1ddd531a'
            'ed2b567463de63468cb3d4bf7a1dd6bacb775bb967727795aecf0f165345a3b3'
            '65f3e142f6d7aef2d641a6c032df06d1e96acb68a2d614a03f121300032295ae'
            '67d21b0115dc12ef13f207b1fca932c6fc29941a62457245e00171f26f7173a5'
            '4154ae7b57959086019b6f5b97174c781aa16d83b804bbced46d4a1fe95f219d'
            'a78fde8120270cf8886779fd06dfb46c5510ba5d84550d125b3f77ab23f7c7aa'
            'f02c8a229dfc0e011b7e678b733da3489eaa4d3611038bc09c0c5d1bb64d143a'
            '17e26c8e3adc349e9a147a2aa9db924e35fdf45f32667c7b12bc3b650efd0368'
            'f090f330896b513936cc725286983141f6ce44ea554588ee8d21f9da782fbf58'
            'd4723edd36173bf9508c61e1ff3c0a7abcd1e9e341af7eb1285ce8b744546ca0'
            '636b4a8e1ef7b9347708bb34c6a421b62f879e66e90d29f9580cf2696362fc40')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
