# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=70.0b14
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('92353dae0e25264d3268e24ddc8294add4d91c6f0d4b2afff7ac788901a5364b'
            '57a44fbf71ce2ad692ca88b94d855caddf9b15082e11af6e6db96c5efd88d6fe'
            '20abac73b06f7a6f93a4da918fe062c459a3ba3acaeae4ed079f37f39f0f1c3e'
            '802d77ea6d099629f4e65d64f1871881ebd65849434489e262996679d721a5d6'
            '65abbba34e02a9e74e6d0bfd572f5feb540f2bbd408545d2f33761b015e923c8'
            '91e8548132aa79de6db00216a4149cc71e3c1360389fee467baf39aa4e960059'
            '5490bd1a8c6918a53e142a997cd76bbff6989f72e23abc89e94ada4b11c11898'
            'fd08c86b6a565372d30d9e304fbe4cd4504f3ecd74bc1b2a73117758b3285e80'
            '16766a261d5084f4350a70d6be0c941939b839ace30358a83a5005abb6549b66'
            'fb084c6184aca5af6babcb112a6f9da4490eb01fae319a6dbd8ee8120ae50a38'
            'e6876986e3a23bba1bc5280ccfef60e5c6bf6a46c9fe49c8aacf72399ac79650'
            'a36d1397014810c4c13f5b0326ded3c7c1290955e68b3fd967fdd620f42565d8'
            'afc86801b31d537089fdf71202c47e3b9ff657b119abc16792813cc7756562f6'
            '867b7ba1d54839e2d8b19b7a209d68daa68617238935176ec6e926ff3c89e234'
            '7f599ab542ec787f5fffec98ef1b7bcb5f5385c721627c3c633b7499b628a718'
            '82d76e7c7dfcdfac85653b2ba790474c02b8c61c3209316fcd3a78768e10232c'
            '49f5d25dd216bc0e2b61d399fc047bde221d782319bd3e5107a4be043bd7098d'
            'f74a96eb0042c88d5d903d37dcd2761073106b34346c9e5b14a79a3b6f291db8'
            'f3ba8658b3ac622e776d35f4a6b7f6a677f573b338f846adc47d8f6a94d71043'
            'f5f5f4a3d8007e2e14c09d15896780ea0e2c2ef924d71e55fa09ce9a55dbb147'
            '97e00ea214dd8c18acf189451f816085e0002cac2f5cef7e5bee0a2076ecfce4'
            '9dcfa374cb81908fe3c25b89062a46c155bd12d1566d16d263b49e907196006c'
            '8a2acdbd4be108bf65da485fe842292e50629898ab01e9a4c281b897398aeace'
            'aef226aada96ff1d44ffa880c5c6ce485400b62f458f6b464cbad1026e6e1ff2'
            '197ecc9a6e2619ee7b964999354ca1875044679f3a41d5c159311b4c268e6c01'
            'e6bdea1e1acf3ae1c8a01c418d5b1c5b2b924a3870280efbd556a0a6ecd4f9da'
            'b82d15d2a10723f3f4278bfbe403d783604fe0f11cfe172c3354d435ff545b0c'
            'aeb2ffb6461824a164aa869815cca45bdf319ac30b52b2bb8e28d638a0a19642'
            'f690e3945435ea0b08d1f3266e30fb5db43a4c28e04adcfc097bbb12ab9fb546'
            'c4bed65568fdeb1d56ddd5652f6213d74c75cba23783bd71397a4feaf0678d98'
            '8a667adc445bc36a61197a3e5f647f33d32bc3f0b5c83194970df9c2fa9a5f25'
            '863b48b1462b7530d560213c6f1e1753ba6f95765a4694650e71ceca9b259b0e'
            'e3b8d224df73ac648fe7c5a38e7a469a887961a63a657598d4de69c3a345b316'
            '00936ea0f4ce253b0c1a48a0e1be7c9f0834b1bd791edc54e54b08107b061687'
            '38c50f1fe40168f2fec90698b9bd7d48233b30028ad2f5a4c1677967c066748d'
            'cc8656ae51a94ae81f9315f4edf63c9e9209f43fdce15d07626271257289b5f8'
            'b6117510ee1e79248c0dde0bdf434f672f67871f4469cd6c0c6e98eb7fddc73c'
            'af4a6ed708679e4291296ca366abd156cbaba2d02e6e0def43b0d0a657f2eaf8'
            '65ab5f366811d2f1dabc3b371aa676157ac3a30b619f621d7cf030cb835d06ea'
            '86d21e7ba97a2612a8f4da8e595bb1487f67945000d2c8c60f0a7607aa56738f'
            '2065fadfd9ce613e11035120a7a525365c7d008225fd52f0122a94d992494583'
            'ac869fa366b31f904d0bd31b448fe872d0c82183d7d71b88f21bfa0a8266ef70'
            '09597daece5f284b96274dbec1ece6d5efe4b5c79ccd95495416add72adf7346'
            '277bc10a8decdabbcbded8c08f3e7e9de9f9fa2e2d43aa46cbc3284aef4839fe'
            'ab362ca8044ee57e714d2d0fda24685b7ca6a51878db35125b041dcfe87d2826'
            '15053e09471f56c768f57d65dfb9b88912b601a670b11df122da4d1b908c1e49'
            '8888b581865e96fe8f0fdaf55a27ec3298ef47e3cdd1912446513eca6fd72c64'
            '9c6b3984ae574bd1865cf609db5a3c33b94e28c359bab194a0c173632175122b'
            'd4bdce3fff97bd54924e286c3dd39ce0b2cf6a6b2a014e6e6e5bb81c450f9b76'
            '68106b5cc3b4fed873ad3cedecfd969dbec3f761c64df933d00898fb55328229'
            '4a9207553587bf54dbcb4ad087421dd1ecc07b90b65f13c59c59a570b475746c'
            'a8f2f32144c4309e42bfd76c8d1baa51c527adf0e66e1adceba4f07b10b2ba8a'
            '41e9680b03f652a0bf44617f6c22be332f1998d302d368317929659bce985f6d'
            '2e4f744770f4bd3a07b623742e1b9d86615a7783e81331c0793c618dea947623'
            '4d25df0ac1fb68ed12462c7fe608fad989910530e391a3958a7d96ce4da27080'
            '5acfe4d2ca3c4452ff2d4814c09f6f808841740270eb10fe5bfbf42bfcd1e02e'
            '0bd0a3c178f3320fd68a1f5373a85b06c2c6be22e4d1105f843279e165b9de38'
            '92592484b254b41e4a7c8d786ec01c091c77f6df2e742dd9cbaceab2a39c5823'
            '3181cd463701f3470b916e6e32c7501562259955526083b08c39f558772e0c3c'
            'd26f2d9a934a82396076b0b4b07bd30ed11e962038faa25e5adaa2fcca3978fd'
            '39689ed4f4584dcc979db054952f418cd4f9f4108e1ea0d83532a424158594d7'
            '14ff4d7377e866e5006cd128b951ab6d02e98982972aca4419a6190d0f6a75b8'
            '0d15628522daae4ce1e916d6fa136da0460e5aab44245b66173894d5aad94633'
            '09810ab2f18f20ffdd8ae422cc314783810d0e54e0073340eabba666f97ebfcb'
            '9f7f42058b850c375f2552d6002bbbc53c9e04c468613a8f210382cee46360a4'
            '2a25c8fd2bd2583548727fb8f60490315f583cb0cb9fac410cb89aa922539ed6'
            '654ba6d5fbf9751644f7f20fdea5586f075fe84d54b91812d8a9ec08140e19cb'
            '5121edc1f96369f9fce513b546dc8ada7ca4ec1431f8d4ecea4c963c44c5db7e'
            '986602ee1f59cca6ca347a6edfb9b1af19b4d0ea1c5b2777903756228bb01c7c'
            '26e8f0674d772a5b9ee38f5ecb4ac8b674d599eb20a4842d766c460ea1beccb8'
            'b5a4d7b529e677b669a650a1308accbf1892432e73cb5b31313b2c8c6b52f74e'
            '06c71ebb778408c099bffc57cd55c363d07bc456d5cbdb38c267e5990208f698'
            'a8c1316691ba4ce16a64a9562d9b4de36cf0c133d10a049465d8ec8bd5e31045'
            '5f48d069bd9bbba71cbbe6c5e8f972f547acb2ca376f47a8617d6a93b44631fc'
            'ddebc292dc1b3b24a945157c1933ef0781cbea312fded45eff997f34a2090648'
            'ce7e41a90efd6f97afe9fa95c4c58016b8068698068c80758c39a44acf5bdbbb'
            '0e7df259c502f3d66dc4f0c9660bfaf5033500ccf4138600054453a896a33b48'
            '9ce2534f7aae3dbf1852fd03492a53cd1c58be875c84c4bc9e0c6b89bf54d8f1'
            'ecdb18b81b9e4f98e1e3b0f6aa9d87376b3878386e67032193e1c4ca9bbd0252'
            '8fd47c0e768edc741e873ae982f327998efe6cccc9097f5bbf8ac5e9a0215db5'
            '6774cb1d670170abec79ef77f38d964e028b22b68e115ae8b50a4d0ac7bc0765'
            'fa9c8b4191402cba82068eb3a46398ff70f8e9334fe967b3ac98e065a61c4feb'
            '1c58c50f6da90799ec899fe4328fbdf3d3d39b5ec4251340915d81c9ad05e480'
            '94d54e06a4305c691eaccec665d2e9073891993421aac132b222facc3b01c960'
            'b9e521c4f3587339b34806b69333e089e63b2d47d30bbcd00719c0d6d17ab141'
            '6e73f69f03ba4be7b2e04cda21b9602b0fd36586282042949d9d8554454a894b'
            'a57a0ee036e5004f767c6949e07b6adda002337d3072c991b8de92a53fe90301'
            '8805b52556310bff5b55bd1521a17314536769a6657a8d21e3c9f7cd316e988e')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
