# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=75.0b4
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox-beta>=$pkgver")
source=()
sha256sums=('13bf2a68c6fda09a42bb6a279a04a33ddb41a850a1a4be718f684614b97ca25a'
            '4efa55d4946a824261a3d12d8304a00a248f65ded2234f50dd761ce23e32a48e'
            'b598fc3b80be18a036434749c085c734b617ca385ae3ba8ca4954e956290cf66'
            '8d5c012e4f1de347e22810e00ff1a63d4e0f58204ce5b3680cedd2c2b9d27544'
            '9e0578ace4c0d4758e9eac52be86fded614df3044d50a500036ee116d4ed54d1'
            '438c19426abd9daaaaa0d5f03c818438fc457852e272e6a088536408f31a6fd6'
            '9ed2d216ff07213304e44a0e1c6c134e65e0e73f2fe5ca19d98db5991851c0b9'
            '4a27e13cf7048e543ade3cb19077e6b29ed53f7d4ea8174d4894822f60134ae7'
            '56c8faae3ea696a657bc9334872a6ca36080bf9d06c07465a4a871981017cd2d'
            'e61f7c75fec7e544051d4d60602f27557c0445e6b48cc6ddbceadcad0231615f'
            '048b6e55f8a9a63d84d7aef040867fa41ef28227732f8a9cc58c56d1bf7d5ec7'
            'ad1d8422526166ab73cdb825126177efda7958b544ceee429088bbbf6e69dd2b'
            '38112fc2bb71d93597f855caa17a17da1aefb28dcbd1ee01b75d1602732a3df9'
            '64c71a146020ba65d834df81a53edca84dc9fc64db0dc18e7f48f199c97d4b21'
            'f18d19294e6ae7f5f097722c46bea9ba920a81eb3f1bd2e67f0f14bd88b21735'
            '1a1b1c8af2a0331e0c579d4a638d65ba590ad776f14d4377b3a872051a6bf0f0'
            '6b9f8421acff61a7fb166e612bf31fb1e0b00caffbe802377efae68b74c22cdc'
            'a77975577633aefb2275fd116f405cd44cd6bf496ffdba090f80268a59b0dca1'
            'b9fa4bfd880ff2a3fb3aa8f121eca0d237e4d29e565ebc5c13ce72c4321ef66e'
            'ee5465edb310e546138602c12ce7c45aa6bd0f24f796b7ad0835b1a9473d5620'
            'cf182baf2cf91cbcd5bc942b908007fe178a4b2b3aba34d290f42b1b8a86a17b'
            '24db9320be1ae0d4da865ef2bf201b497c92afdf9369d80cd6341930548284e8'
            '67a7c490223d691c98df6f4b344566587c10b7892ca2d78582842112fbb1d5be'
            '792e72d599c526b3714206fe8296c0cf2f7d93e75ea3cf1755715b59219d2393'
            '675be26806d985ca99a74e2411c3c3393b866a3c2430b13971b02fa226556b97'
            '6936f8ad41e37f6038ba4d47be20df57bf7ca1dda5e95a12b046867812fd2107'
            '11fccce9ebfec05506d21bf8a5aa0c19fcfb4f8c4b161a9248a4f254a6a883a8'
            '5142f46f8f074fbbb3018867f701ddf7a0ba6b26162958424c352c18d9ebbd54'
            'f57bb058bec93df5b8202ac14885fff4c031cbaa4cf572bdd5009b9cd82e5713'
            '3f2f00a47d2379cf3223605719282ccb4a71689808a9e7b79cd9716bb00f3c65'
            '1c79043bd7930c2da88b562d1827d1ceea8083813d79175686760a8f2ac5616f'
            '3fd9c1e65fd514ac593bf52380fd86917b3e0c7f3fd769540f6fca7688fb8e7a'
            'f49683a555d6c45fe22ab6f6d29f17c8026189b02139e904d7028b107edb7bb8'
            '97dedeeac48ba5f18743150126924d91bcaf442fccc0fafa5c2d00def4a56cb2'
            '6a59dcc20eba73344735bc9dd030785cda31877c9d8bd0dd174e915ec795236d'
            '2ed4ee5012b78fab6f8f5d0bf3cc76c6dea6a57ae5c4baf903be69c5d524f761'
            'f9065528919560899cf6eb8b9f4c3baf5ea622a5e310fc968f9378627bbe8f98'
            '5a5014f0b82040af8849ce4b428cbe1e455a18be1cc952395c05687d5b0311cb'
            '542faa95db3e0ffe332fbdbace4a4d930b370d82e1180f245bf523596bc3bb38'
            'cddfa7403e4a592680011f55daea93d7d5b882b067b12c91ce4d53b019acfdb5'
            '09829c0f0e2ce531adc01856095fa5621b16dbe9613365e6b70a4149aa068c17'
            '51be5786852156565da145b4cad32e37e1f46d11188a195f766ffe7bf2562ef6'
            '35c3cde513388067c5f4f69fe2a29a7c4ad1daf769998d342ec93b6f74d163f3'
            '139939c5eac601dc566b7024424ff29b1c2170d4402ab93accc8278358f0acf3'
            '6d79ac47e9b020383890f0ea3748f3bd32b2713bddb2c8713b8d44abbc33b532'
            'dd28b5ff4da79b02239b338452643655b51c43c66311b5e387110795708832a6'
            '2af5af53ce3d28707ca201fa419687c8bae66c8425decc5760343042d90f6a30'
            '0a01cbb876ad491a0ee595763ae04263f22d6f19ff46afa4d272a69e6a64fb80'
            'fdbe7e852a2a92817af9c0f5bd6767ccf75921d490fdbb2817a97d0eba602b86'
            'dfb06aefff9460dffab6755dfb758e117658f829142c468ed345e0b9e4129d98'
            '9736193a0f22d4b0073f004c8062d76e3349713ea6d1a2800647fddcd463f240'
            'ff5edd0b58c7f9a28e62787cae9727c103b0eeb28bd71ed4fb517d0a4ab7e016'
            '1f8ea38e669b882918dbbd8a9bb9b1f43f72dfc0674f05e5886bcf0a561f9960'
            '9e8c4978b09c395d8956569f3beea0198a89fad785753efcea418aab76ddbc30'
            '784d6ee8f954a2537695499cdc42854f2b0755fa1ec60b53670fd565730e8d38'
            'f9b9446d06de0afcd3c027e5aae44c2a9d36844015a53c9591f995b8a2f5832b'
            '8ef978ff6e8aa46f52affe4f9a8260bcf913ce796bca6a209dd8dc8b3c7f736b'
            '471d723b1d6f7a4296f62884cc8969616edbf1842ea488647e56634da4364201'
            'd0de02568a2a892d8898b5403f6f00b77f91306c17a58ef2f4f95634de529d80'
            'c4b1d90703605b458a49909d93d55832eb3775020b1ee2db1917e9476be7d3ec'
            '3c054803918fb83f3e8939eb735bdf81dd7e57176bbf26028d9999ce9d936f50'
            '93ee6aef84d249d10332d37616f7c436b5585483bcbdd4b46b1bf3e7d6882311'
            '27d71b1f8704399a5a6f6618b30a309bcf4ca721ad172b4cd92a7b9eeaa012ea'
            'af036bc0100de988a462fe15ad188f516625e3cb61f434811081ca99146741d6'
            '1b49cb784e59e24d79fec562edfd86b3165eb6a42bc0b19b6ee68645909ddcf8'
            'bb56a63a05ec108d31e8960e8da3412b42a447b3980541613bcb9e18150e0e6d'
            'fe92a89ad9dad5f7ba711ce3d9b723c8de7a89ab66b6acb028e2161bc96fa93b'
            'd0a00ab708f8076d86d4ffd7b5c64e5a1a6d74ec2d80be2b1084c4441d296b17'
            '570484f684507f75348d1151d984b41d077d8fd4236a98da5eac5f04155f3b87'
            '67e389458825fd59a73acaff0cd10c35cb210fcdb99f0775e9439a69072da041'
            '7748e5de9913cbf9879baba48e845bf45fd19acbcee958dd3d11d0cbd2d02b3b'
            '228ac0c1821c3a3306d06f528b10628825ee3092e3d60e1fc574b6432f6c501a'
            '81eafd13c6899962a9b02f3dce638c010e40fccb633705ce7f2e2476772d5014'
            '186456f89fb4332f9786df2113b9b69776ed1c989d32012f4d20b833a216145d'
            'e8e1ac768be0a5bb2754832ef92b246279167b7809e8a0af8cf47f5f2cc6960b'
            'd844f03b280f5af7db778c162c8d9c6d712665ac2f36247fdb5d49263ad2d2a0'
            '789f22715c376cc826fee26f42fc4a3a16e18afcadd1abf62dffa4ea77e86a08'
            'fde8eb63ea0aa7f1c22fce8ae33e60ef0861a8323268cebb2f214a7ae76fb65d'
            '98732ab687b4b79bd4e6f6d792b5b15b58647e83d9a415b661c81ce5ce08c5f1'
            '8b0c955aea28109bb1d39226be3f66d7c71ad95eac148fb8e316066c3d745905'
            'de7c445afe3b114d652d2fefd4d23543255f6213e356a05e76d77b080e0a81e6'
            'dce153a9012fffad0d1887002c8e0ee5c23774f5d710b06eb16e3d55c17c3ad4'
            'c6f71b953987e8f5abdc2766a4ab8add53dd61ab9542779a332e4c18126adcd2'
            '61591006335461225d59d3b56281e31c968244cc87fa88d6bc7b3104e256c77a'
            '4fc5da9c20be5a72de4274377d025a9231a529339e8adc7a7b7ca367dae9e84e'
            '2ff2bdaadfe05e6424586743fd1dd59ce45633ce7837838ccdb1db816b566d81'
            'e7f2883cb29c04cf43deef2fc8f70a52f4ce90861ccc23bab16093c0b5b66797'
            'ff4e00d0425e3cc5d1b03bf9681ded6ed6a8da03e20695d7faf844175b96edd7')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
