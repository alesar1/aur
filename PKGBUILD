# Maintainer: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=57.0b9
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('4415ce1bb2c02eee7a687f5024287030dcc920fe0c87a5a3a086c0f16dd5a383'
            '19d3a4174e859efb27b4e87ba40896a097b2c4ec0e21d7a97b3eb1dbf5c0d871'
            '0622b41d8d42eaf85d868e20b2987a664af462ace41cf44ff25df7bbc0f41b3d'
            '5907a2271db3350a83dab84e0425e929358001514ee79e9b566ba4ca2b84bc4f'
            '6b437d60728decbb09884cd17f322efdf200f3fc0f11f09edc5be761bb713f5e'
            '995e25a673a53bf97e973a4b86fd437e054305d15137d101473bb2af54fddfaf'
            '5a920d51fe0c8b010fc0e10524efa90676f24bc6828281c0efe3295f415f362e'
            'bc1535589b9586589f3947b23e8cfa0c3a9d567c87cad6a2f8d572f9f8055bff'
            '137b32c3730a96106931616a4208df3d963118fbbec97819811cc9949e0f53d6'
            '2dc5db74f63360961734622d773080dec9ab0bebec7c76e6b1ca7a5e6fa12144'
            'd92fae46fc86b54bf6000b96d7e80226acb24f65c2eb45e76734d384296f5cfc'
            '82ab1f2fc7dfec4cbe278b6b1342e75a23e2a48b056665fdb43a282c898892b4'
            'd912a53ad7c675201b426e7e805d96b3a48c114ef4af6509dfdd1bb263bbfda9'
            'c41c6b813dee6d8f9f8821cf38ede034a0bafb11961d3c1893e3ce174edbbcc8'
            'a3ff4c82814188c61391ca9daf4406c0f82cadb92c992e4699ffb44a07a8ac37'
            '971852ec5d898a6e3d5fd350e05f41d566f9f9747579b7eea0b818a584d86178'
            '58521388ad92d653afe1e962d169e93f5a98a5132435ae7dd6587703ec31fc0f'
            '23131621da4fb1f99108ed92a565f606da9363901805a3f910075a8f0f1bfb28'
            'f54ce66e94af4d619d0bed6c1f76af67adf92e6819f667a9b6ef71934856422e'
            'ba12653a3a0c4c718c3feb7426dd681c9ed8052f84f99eaca24a605d9c3b4442'
            '588bd717bef703f82a87f1675426f4b2554689a26a66bae44c843a0007e0dedf'
            'dfb4b4947e9f125865b05bf0691c69b157f2fdbbee96fff024171b43f0d7fdb0'
            '931cf9efc4973e804366cf1a89758d655ddc7d4a7d2b3259eabcdd781bf78bfd'
            '95d2a70e0c7524f61179d75feb68a605e594d79bccea43dfeebf96e596bd996f'
            'aefc053b597439e56b6dae3cdd6e73acb125c577c3f3ea86806c76dcf82de3ff'
            '209cae9ec7b034fddeebf784870c090bb991d4c9cf9af426b3f1badf87c0c9fa'
            'bb833b64cd3f9fe98bbb7e7f2235e1c24f7057572501950c884ae65eb0309e85'
            'e0fee67fa4567127b4c68146683eaf7b827981bcbcfcc8720d3dd495c8f04157'
            '5e37230993496a8ffb2b359c7ab85e401d36a771ddd0c712ca8d313dc6762f5f'
            'd995737ae5a4b73559f3275e4b17466e7d9ffae28783fe77fcca0f26e51a9b2d'
            '72e7b31ff3b4af7e11a9e573c937ef508b6859a44af918a0e0bcb646e8bfb4c2'
            '9a6fab35dd70e8bc608e5172fdf0258dc2ba0d74365f4803ada006115518c40c'
            '53816085e63df81f655fa413860b945f6b0f47c5397f06ccfe6f682a967ee485'
            'e0ace5fdef8f8a173f91d6dab6f9ccde1ef3a80f14662813b907b7c7a738b495'
            'dcb2e8a09595fd7290d3cd458908dd66dca580d0d7fac7df3067b53e751c4b48'
            '0818e6276131048645b48fbd70d9c7f1be4329b001b314b554b1addd047a3230'
            'af930fa504e17f9b191edfd3e1ae3009e0a307f5bf6405d733b780a543aa0b4b'
            'e309d9472f6710214c4a8a4c3183fe7533c11eb8bef13a90df959ca55e5fe2d2'
            '9482a006ad55ca6b806b97da18d2bd6932a8327f9ea9efb51feef06ddff7e690'
            '8bdffd95adca22ae4ea8a5e866aa31983ce918d5fb4970fce89bdde66ac87d43'
            '3a7a63e6b94c09fd84be4eeeba83c9ca7e436a22813636d199f71b82c1436267'
            'b2435346c7b51d9d9adce78671c394380f8bdf4eb22306a60a8e9e38875380d1'
            '920ce7c67ff8ec54308980d18496751b322fac908541f02a4955e01af9625f74'
            '67e4114945170237f49c2f18eed08b2d43be7437d6cc4a61840d4b17a08a1706'
            '6b16d7ada1cce8880c38734aa877dd73800ec731daac6a261cc0e9cbe470b0da'
            'f4fb1c9ebaee9a2383c2ecfd4cd122ce153632b9303399aef0b99d057a10c75d'
            'b18b43ba96ef442f54bfdc543f01853f9668e02cf1d163dd4f858e26777e6e74'
            '1f84d1b4b7766af5430acad240167570f56034fc4165fe3d15a0e08f27ef4320'
            'a4f6f9c7f99155f568ee55ab5eaeea73ffb3c36bafdff95b6f2b71ae19f259e3'
            '628fc4e2f4c603150a58423a1cc34cbcb62aae2409a91a8c2cf0fea9965e99c3'
            '730c5ec303e83927b041d712bfbf19b08688e5f457660d05a5a77c664fcd5f91'
            'ee31bccd98bbdebbb1e4f6f326f1cfa4a33cce63515fb2d035d29f71451fa14a'
            '48fff943f56e7c998d6ce8dab060f5aa8723746856a847b18f921eec5361a409'
            '2a1993c73d2f1b8d8a9f3b850ab3e96c5f117cef5fe7d664e89d51a2623cd419'
            '822c6e9442775c8651f49f7ec7e4b3abc02bdd8816f0a2b561f14fd88fc497c9'
            'b43931618d1e56fad79462cde71487d934be015c6c40b627041c2d6cd3856aae'
            '2a32c287cdae1e6e863395b2d672d29f3ff5b55cc3436c511fe05f57a42b4a28'
            '7b88bf3e8c4ab39025431e2abf587d297982696cb3d78621ae6f04c3099dbe7a'
            '043c63c2a3a3ceba0501f8c1008918c14044ea26a3002bcaa443b6b39bc2c975'
            '0c731370577c5202189f46063c2d69050564afef7c2a9d35d6602d6df477c3ad'
            'dcced6e3eaa710f85c4e51f67a9e2c710adfe68ad1731be2ec6ab5b176487fa8'
            '0f150a2d67cf14aff13e81cd5843681175d8cd0145168435834ceb8fea36fe92'
            '709d44a4ba5d7008b203ddc1b57a067c1ff6f2840c3a7e8174ef36797aabe540'
            '862d9789157875c4ec4a09dcbd66b4dfe1547809ebe22f2c3dbb3d60558a1271'
            'e49d5b7d2ff383c5c3d671c06afb647580dc977135e3e7bca125cee8a41c85ff'
            '9b3be2d26034cabc74e5fe5cb4ad4b983ec8c592c31fb1695896799a12a3e07c'
            'ba36ae53ad3a4c20ae4d9e21091511d90b26cf41807de9ea5fb37e0f83e7955d'
            'f51f2c264ab5c7313bd223d67f1e3bf407fe786d3fed401f9a40173898f79b2c'
            '7e8f9c3ca4ece1069ab4cbcc8beee4bf7b4688e3c4cc9e9d50592b752623492f'
            '3ce149754c8523029cdfdae0be4f061dbc8b696e7a180d0cbd3fb39a20224098'
            'e48d4d81e4994eee35975dfda46b32d9ff5026ca432f7bd9b8d1a985d5141cac'
            'e8f26dd88f1b80821a40579e4042897d691ec3527f21ccff750d79a2698592d2'
            '6100ca5a4eb602726243dea376049b1f3ddcdf0c70a1a56ea1685dc03a9ce016'
            'c3e9ba96d8a8e23f71d5ba6e2c7b8350151d527b1d3110640c14582126e14369'
            '3274cb788f0a4f009e0417d554848d3d3deb9490c6d65c5929c4b2f06a863ccd'
            '3a49d37ba7c4bd7aeebcf9af61753ed75cee9cbbb73c7f51f08ea73a0bee6a73'
            'dff81797a69a05e31fd72852544350fd8a6b4c58d747a399eaf2f8aec05f0e0b'
            '168ea2e0e76a2451c68e54cf51b8ca6367149d0fb6ddc7329204f3792cbc8c48'
            '446c76ba406c4378e4346a85159b34512db40c63f4a2c6276190ce8416ff92f3'
            '263173589d9f4aa2eb3707b961e04a773ec04a3bd5daa1c16802bd9def461f39'
            'eddb3c34f89ba0ab0bac67eb80b1c8880925baaf7f20e48b9a7bfde93c7e2666'
            '76b7891929981d0b2904c8155d4030a33d8244b85a216125ae529f131f3d6ea2'
            'ca79e44917b2891a3b4f2cd510e044b73fe50709523ef5867c6a5d6b209947d0'
            'f7cfec25d368f6b4b9183c546119276c09cb395ef0f9c0cf97f0ce9178190bf8'
            '8ecdae1bd9c073c41302f5c40e4412c590695cd7c2712bb2853829585c7ebca7'
            '45fe66e3c77420b9610da29b82b83de9e945307ba5270d607ccd477150c29046'
            '1286608cf0759f8b19a1a42bcce56b1bf7b64d2417f988dcee713161e20bd955'
            '85f001e6bfe456e193b2e7f00a676f0f31a12f4694dd5f4942ddbdd1ab3c6636'
            '794cb8c17b5de7aec658344cf6c3b7af5e370698dbc2e7fb3db216bb6613ee1f'
            'd5883f3c668448d290433aafbab672eadb0838ed76cd88be6a6fa8424d3bfe85'
            '2ed0e0809a682866aab9d8580e2a33156fb03405f9b204a7475f34c12aa03427'
            '8d12578fc9a33ad02d50a4ab7f781c1e63117d493680a179702e841cff232f08'
            '6b86f7cdc89a4bd1240c57abbca971be16ae2b1e0d230607800cf0770b29c0ae'
            '3b4920007ecf5fa96fea8562de3b5f979300e8d296df90e7f3b8713e8a315e57')

_url="https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['as']='Assamese'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn-BD']='Bengali (Bangladesh)'
  ['bn-IN']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['en-ZA']='English (South African)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mai']='Maithili'
  ['mk']='Macedonian'
  ['ml']='Malayalam'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['or']='Oriya'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$(tr '[:upper:]' '[:lower:]' <<< "$1")=$pkgver")
  conflicts=("firefox-i18n-$(tr '[:upper:]' '[:lower:]' <<< "$1")")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
