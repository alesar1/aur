# Maintainer: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=57.0b10
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('4415ce1bb2c02eee7a687f5024287030dcc920fe0c87a5a3a086c0f16dd5a383'
            '19d3a4174e859efb27b4e87ba40896a097b2c4ec0e21d7a97b3eb1dbf5c0d871'
            '0622b41d8d42eaf85d868e20b2987a664af462ace41cf44ff25df7bbc0f41b3d'
            'ae78d7b44b8a1fb5fa72de675743321101c90e1a1c084fb6e8e60c9857543554'
            '6b437d60728decbb09884cd17f322efdf200f3fc0f11f09edc5be761bb713f5e'
            '70d1315a81ae1b28498c6ba6d36b2dbfa4257e0eacce94197e29a7df343ce642'
            '5a920d51fe0c8b010fc0e10524efa90676f24bc6828281c0efe3295f415f362e'
            '8b15241a8f59f97a1f74a6c41af5fc8df6f82e79e700e4b25bc9f4e66e4cc233'
            'cab4be72228fdffd5b59b25fb5fdfd0256d76aee89e163fa0b0279e7aacc720d'
            '3cfdf222cbdcc7409808b3c259514c3d76c3e141e7422469fbc8b6abf563fe10'
            'd92fae46fc86b54bf6000b96d7e80226acb24f65c2eb45e76734d384296f5cfc'
            '6e60aa6cf9dfa09bfe42c8b3d485e9f2745ac56261e8c0cbfaf3c0f69f9f61c7'
            'b227d8b6482189634eecb63b78ad4db0d3c5f6eff97ed5c930c5255cac6d7949'
            'c41c6b813dee6d8f9f8821cf38ede034a0bafb11961d3c1893e3ce174edbbcc8'
            'a3ff4c82814188c61391ca9daf4406c0f82cadb92c992e4699ffb44a07a8ac37'
            '8ffbf5e03487a1d6acf7423c0b7f5ea2bd3b86b0990a3754330ba64d0f230257'
            '58521388ad92d653afe1e962d169e93f5a98a5132435ae7dd6587703ec31fc0f'
            '23131621da4fb1f99108ed92a565f606da9363901805a3f910075a8f0f1bfb28'
            'f4e46ba327ed27149aeadf64ea5d5573e53d48fe1d4b5172170fd68414218c20'
            'ba12653a3a0c4c718c3feb7426dd681c9ed8052f84f99eaca24a605d9c3b4442'
            '588bd717bef703f82a87f1675426f4b2554689a26a66bae44c843a0007e0dedf'
            'dfb4b4947e9f125865b05bf0691c69b157f2fdbbee96fff024171b43f0d7fdb0'
            '931cf9efc4973e804366cf1a89758d655ddc7d4a7d2b3259eabcdd781bf78bfd'
            '95d2a70e0c7524f61179d75feb68a605e594d79bccea43dfeebf96e596bd996f'
            'aefc053b597439e56b6dae3cdd6e73acb125c577c3f3ea86806c76dcf82de3ff'
            '209cae9ec7b034fddeebf784870c090bb991d4c9cf9af426b3f1badf87c0c9fa'
            '1270cefd4fe5e81024b91687330f1b0d77f34847378c63fb18db33882385d8ed'
            'e0fee67fa4567127b4c68146683eaf7b827981bcbcfcc8720d3dd495c8f04157'
            '1ca25e1c0e70662a4fa323ef4ade7939a1a05fa1d7bb732d27ad433a48429d1d'
            '694dba45100c1ac0fee2942f1fcde2fc83106f21d1e18928e5b8d1190b45e13b'
            '72e7b31ff3b4af7e11a9e573c937ef508b6859a44af918a0e0bcb646e8bfb4c2'
            '9a6fab35dd70e8bc608e5172fdf0258dc2ba0d74365f4803ada006115518c40c'
            '53816085e63df81f655fa413860b945f6b0f47c5397f06ccfe6f682a967ee485'
            'e0ace5fdef8f8a173f91d6dab6f9ccde1ef3a80f14662813b907b7c7a738b495'
            'a484e58f9c045d94e9bb491642883d705800d339bdcfe087ad7c8ccede7e39c9'
            '0818e6276131048645b48fbd70d9c7f1be4329b001b314b554b1addd047a3230'
            'af930fa504e17f9b191edfd3e1ae3009e0a307f5bf6405d733b780a543aa0b4b'
            '96cb30182b556d5b2b92a7bc4514d826ab862f78d37e8be9473deac3cc4b81ae'
            '9482a006ad55ca6b806b97da18d2bd6932a8327f9ea9efb51feef06ddff7e690'
            '8bdffd95adca22ae4ea8a5e866aa31983ce918d5fb4970fce89bdde66ac87d43'
            '60d431e222a87d5e58b8f920abb99c9aa7bfbf2bb5101bedfe5ca17e20ca6e01'
            'b2435346c7b51d9d9adce78671c394380f8bdf4eb22306a60a8e9e38875380d1'
            'fdcfd4e1ac4410680ebfb614eedd9a7e1b803c04782a84f67f17b80b5ece0512'
            '67e4114945170237f49c2f18eed08b2d43be7437d6cc4a61840d4b17a08a1706'
            '6b16d7ada1cce8880c38734aa877dd73800ec731daac6a261cc0e9cbe470b0da'
            'f4fb1c9ebaee9a2383c2ecfd4cd122ce153632b9303399aef0b99d057a10c75d'
            'b18b43ba96ef442f54bfdc543f01853f9668e02cf1d163dd4f858e26777e6e74'
            'e556542db860cdb4174c2b90411f9245c45a3bfa0857908bdad5c0bf6ed64752'
            'a4f6f9c7f99155f568ee55ab5eaeea73ffb3c36bafdff95b6f2b71ae19f259e3'
            '48fad6d61aeb06f136e49228476aaaac24f75ec6d31c16def823e76f4a840106'
            '730c5ec303e83927b041d712bfbf19b08688e5f457660d05a5a77c664fcd5f91'
            '71ad93d05df2e6f61382a45bbd67783107923325ce61b5f48e4700bbb246be41'
            'bae00c49b53a93d2dfb81540fec1b700efae54cab0827c795568cf69612b1bbb'
            '2a1993c73d2f1b8d8a9f3b850ab3e96c5f117cef5fe7d664e89d51a2623cd419'
            '822c6e9442775c8651f49f7ec7e4b3abc02bdd8816f0a2b561f14fd88fc497c9'
            'f5c0f5a19685c7882b05603bcbd1c7eb6a540dcf209d79f9c46c60f45082763f'
            '6397bb05dd37c7142d78ce364f652b1050709a91c659969dc6e5edd9b86cd5cc'
            '7b88bf3e8c4ab39025431e2abf587d297982696cb3d78621ae6f04c3099dbe7a'
            '586bb4e77c0d43f610d6899cdbdfdfca07f01390d1a68624706470297ca8920a'
            '048a682c47d5503928f714168b72cd106ec056826520a0ec5d38c3784314d306'
            'dcced6e3eaa710f85c4e51f67a9e2c710adfe68ad1731be2ec6ab5b176487fa8'
            '0f150a2d67cf14aff13e81cd5843681175d8cd0145168435834ceb8fea36fe92'
            '709d44a4ba5d7008b203ddc1b57a067c1ff6f2840c3a7e8174ef36797aabe540'
            '862d9789157875c4ec4a09dcbd66b4dfe1547809ebe22f2c3dbb3d60558a1271'
            '1279a58f0b27a09d7fcc9ed33d6dde3e70840d94526ffd0e6d107c4204c3ea2b'
            '9b3be2d26034cabc74e5fe5cb4ad4b983ec8c592c31fb1695896799a12a3e07c'
            'ba36ae53ad3a4c20ae4d9e21091511d90b26cf41807de9ea5fb37e0f83e7955d'
            'f879cf9ec3a7e86748adf246d2d81713c110bf8c94afa59d48157e3178963e80'
            '7e8f9c3ca4ece1069ab4cbcc8beee4bf7b4688e3c4cc9e9d50592b752623492f'
            '3ce149754c8523029cdfdae0be4f061dbc8b696e7a180d0cbd3fb39a20224098'
            'e48d4d81e4994eee35975dfda46b32d9ff5026ca432f7bd9b8d1a985d5141cac'
            '7b264895264ceeba16a67bf1dc7b42420dc03f27fa1be60420e41125955e7243'
            '6100ca5a4eb602726243dea376049b1f3ddcdf0c70a1a56ea1685dc03a9ce016'
            'c3e9ba96d8a8e23f71d5ba6e2c7b8350151d527b1d3110640c14582126e14369'
            '3274cb788f0a4f009e0417d554848d3d3deb9490c6d65c5929c4b2f06a863ccd'
            'ab17bee4272f8cbbbbfc3b4d33895bd95144e03e1c44332b61b1483e2267b3b0'
            'dff81797a69a05e31fd72852544350fd8a6b4c58d747a399eaf2f8aec05f0e0b'
            '168ea2e0e76a2451c68e54cf51b8ca6367149d0fb6ddc7329204f3792cbc8c48'
            '8375156a37b52fcb2907bcc29e00c83a93af2ae2e67e41a5f1a2169feade3d69'
            '263173589d9f4aa2eb3707b961e04a773ec04a3bd5daa1c16802bd9def461f39'
            'eddb3c34f89ba0ab0bac67eb80b1c8880925baaf7f20e48b9a7bfde93c7e2666'
            '76b7891929981d0b2904c8155d4030a33d8244b85a216125ae529f131f3d6ea2'
            'ca79e44917b2891a3b4f2cd510e044b73fe50709523ef5867c6a5d6b209947d0'
            'f7cfec25d368f6b4b9183c546119276c09cb395ef0f9c0cf97f0ce9178190bf8'
            '67c73768edba5624bac96272ee203d96ef03a27470fe3905cc7cd58950b3635c'
            '5841365e02466cae2dedc7c52980b6c638288fe862165f6e4f7b5050d3bde0ca'
            '1286608cf0759f8b19a1a42bcce56b1bf7b64d2417f988dcee713161e20bd955'
            'facff15b42589a19d1b254f3c90da20ab079b2aec1b41fabe496b716d4d47e50'
            '81b5923c5e3ad3a21f55e9c01e7e6523d84891cfcc4e4edcc1d5072b0af47d43'
            'd5883f3c668448d290433aafbab672eadb0838ed76cd88be6a6fa8424d3bfe85'
            '3a9f58f68c4905fde049ce020ceb117cda9fdab310aecece4cca1392e661292f'
            '8d12578fc9a33ad02d50a4ab7f781c1e63117d493680a179702e841cff232f08'
            'fe66cfd897574ab818e0b6b01fa1b2abd73f368ea7be4acc4ce9b806972bbc4c'
            '3b4920007ecf5fa96fea8562de3b5f979300e8d296df90e7f3b8713e8a315e57')

_url="https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['as']='Assamese'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn-BD']='Bengali (Bangladesh)'
  ['bn-IN']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['en-ZA']='English (South African)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mai']='Maithili'
  ['mk']='Macedonian'
  ['ml']='Malayalam'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['or']='Oriya'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$(tr '[:upper:]' '[:lower:]' <<< "$1")=$pkgver")
  conflicts=("firefox-i18n-$(tr '[:upper:]' '[:lower:]' <<< "$1")")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
