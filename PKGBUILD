# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=72.0b3
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('bf7cab0a8c35ae4adf6ac5972ebcb613a449b6d179e83f1acc7e58f7fd540543'
            '806d5575c8af54cbd16a64653fc2f0bf6e61ae6b5b6e7c158021467b769d1a4c'
            '6c203c381e56acd40b82181b69ac7c3d5775612b27fafd44cec94b4fc029bb5f'
            'a9b185f803447b853bd97423bf28c12650f886a9de047cada86b9b712d384f25'
            '74f5af87b327a6e53f66483d6a95b2f4c5b872a2121b2527f8d64d5ee9b44729'
            'ae9449094a0fdd22a9ad27d69ccb0f08f65a8257193e24e9a7117e44adea6ae3'
            'f70e5b9ee6ed8e475547b4c9d6e30247e3100055dfc70f8b78d9985028198dc4'
            '04bc846d002a194119c447bc0c2950811476d9536de47d0f480c06183b1da0fe'
            '56b98f7b9d72e4df0b519663e99edc1ca48e5fd3f0c187ad3125715f0a17cc05'
            'b138f8521dbfeb1cba49bc7960bef83970b3038e4dd781892d1a034bfc79d399'
            '31b63e8ac42aa06a2559ee71886ab53346f0f4cc46059939d247ba563e3dbfc3'
            '22d310b9f96ae4fc19c417be4da50311fa4ae96f6426b4423590d0e794697550'
            'fc2fefa4aa7a358914d42345f55c749865530d0aeb2edcde98388c4f6d176cf9'
            'e3aaa22cf71bb229e8f28c6da0b7d3bf14044586941acf74efc85b856e2dc1b1'
            '57063d303b88342aba04e831c58eae60588832cd399959dc3ff90a4d38f53da5'
            '54eda9ca9ac33197bf83dc498474e7a5d958bab1238d741fb7ffa95df520e148'
            '86c08fe984062d1caf8fbcb64d53dda32b1ecd610a09054a92f8aaed8d043cc6'
            'fd3947e7e76f2dd42d722e87a24b22347440eaa754d96278ed4d1bbd65444f8a'
            '2fea0f874e50d32060256494160e79b1c7708bec460895c7f39796ec4166cc22'
            '1fa6fa4b41542db2590458ac02725bcc869b35b4fec0c49f47d5e1f1767647c5'
            '2e1ce91b32cd655ea84fafa181d746b786e4369e8c7e58bfc758bc84d4281481'
            '7941f53f2eef825440d30ec73735583a8cebc5eb9d7f6a6fa573943b263cd493'
            '13a018bc8bf16307f3df7ad132cb3052ef1f1b4411d4cf22573a76ace9813409'
            'bcd1ba81bf316885c98e44d7b151fb96134b09b445dc9560b18afb859bdde376'
            '852fdd1028bda72e37babba3ba6df1326f66f945a81f9c393a2c6ec7aaa0c559'
            '7058d368b0755de3d8ae08ed210fc949808c5afdd3bdfae94065537fa504f478'
            '5f898c06808d9e397a9e7d5fe6a4083c115748e314d44e8009abf0ce5f9927f4'
            'd027ca6b5b09bb57bb335ffad02036046b52c9d218928d707e21ef02c2902a9a'
            'a86267538690a423acfd20228397fe0bcd0328fc20352c027a8382b1f7e4fa34'
            'b36608e3f4d37beeda5197ccf2f9e6726cce38b88ec96565e7b92dde576570dd'
            '96e65fba982a14b868822d61ae972c71f2efaf0658c3b5a25c3b3fcb9f674ebf'
            '20e2b58e530668171c63351fda3c70e2130d39efdcf1aafc17de8f5929622ca6'
            'ae92f39e16ef7152f7b0a1c6fb1b9f3b695174de72a79d3cbc95d384fbd54490'
            '9fe0a465c6bc2f1af9e7a6a8d7edc2987a3c9b7dce21c4ecba96dc9ba21a0aef'
            'de1494594caa9a13998cbeaedb8913949a5a73798f20c9e8a54bb875639888aa'
            '86b2682e7bcb53ee6c0d1995089176b04091872ba07e62da37aa5dd727667109'
            '4abc23e25bca575320b42014167c069dab736d08a2e1e72a90a3db79f1202c6e'
            '2248c5baea3985da2208a205fa5eaa83674b13f63cba5b5c8133d43be1a51165'
            'b5c63fede262813e0435e288af5024767a4e98ad931d834501730b3e9903ba5e'
            '40de2ea98675845e90cf30f80e66b1de983ea276059dbf7e1dc4b5935b2cc507'
            '23c442a618f1d81f491e1bc115674d85718d3fbb60db343647713699ad1611c0'
            '26e910f2c303177b5a4b5d931896ff9f1d756aa62185bcd6f8a28631b700f767'
            '61aa89beab137b54128ab682703ff8c9922d32a68068eb35ad569783f4b734f5'
            '0575739f76de67517e8fa7df34ad6eb4ff99e4498893aa2224f2ed2933ed6fa2'
            '6c37d530fb811a547635164641e7673dfe1ca20bba51da480070123afa51014b'
            '27e7b687729032ed5deb76fc7fc7e9d81956836e9445f46b0742c3f9b20ae0cf'
            'b41f65fc7a25283a3e02a7ccd83cc808885d2071ecbd51bf5c8caea19b696a97'
            '9456cebe90cea6a5460965b2bac05cc8c64936892e7ba7d14ceebca7c6253823'
            '91785e01bef1fc1efc230a19620fa460a36a2008f83953b971dbb6b50d6b4257'
            'e880816b7beace4c330dcf56600513d5b277a1cb137d16174777e9d1e26987c2'
            'bbcc57fc816ed09d50c80b1a1123167d4e5aa151f14147977e12e377a28db643'
            '118724c7a7fe16d392db037aa715672aa3daf81b780831ec4ceedc59ce607f33'
            'cd12e727a5f4775f7731248e853cabf14f00a1b424b0ff243ebdc58845589060'
            '16bb27bb9d82a010d7921ad26fe0b6683aa00bce81bf359a22dae281860befbd'
            '122219a841bc89e9523b89d8cfee6c8bfbc62674f1905044f9ab4e5f7cfe8691'
            '991d96ceb2885e07a6926e87e47d9cf4bf0f97072bb6b036de21e76595e27f65'
            'aa0afe45468ea3a77c0bb2375f8386fc70e914a100422bb240392d48ddd59320'
            '4ec4c5c26713efc406435047724763161a82614a8a6dc8006023e728d207cd1c'
            '582f1e535031edb40494e21a4e7bed633c36228c07864b3bdef4a55c0bf9156e'
            '34eb1b11aad6a26e3f4bf6d74a66bcad7eeb6779acf25337a69852dcf3146f3b'
            '547e3e8b2694b4fc3974b1f3c55a3395b14f7e9879c1003f1bc3871a324615be'
            '32f32acc061855c976ab892ba8c7778a056aeac2b965e79c10f37bba8fa07b82'
            'd0c2ca6fc9ab29fe1b12d1415e9af6769cb8e6204ea692925946e7c19565541d'
            '310b659bb01b52aecf6e832aa324aaf1854791c7c06d7c61dfe8e53b41042e2f'
            '01a235770013a5db611f1247db0e2277e2dc1460e8f92fd0ac6f63694190e1df'
            'a14594507c60946de7a98910c13e4240bd47f837829013ad79ac8564391aa58d'
            '15f19f63125d4fe2803dc63d33ae85ad7bfce78a1d9d82d6a6d76a73cb5bdc5d'
            '3753bb164780d2e984f336f02849b0e78fe6279b4eae0be9771de23dd810048b'
            'dfd3b6781d5f3936bbe2aff1cd437a16a04e5d4a33b51490993d9bf9e9280d5c'
            'fa1319f49ca556c62bdd5cd055dfc43270b8a7834e1c316f618a8d385c52c2c8'
            '9c06925dc7fc3fd1c1c65f373272766962a0d28d2e454091b0a68a8d8d0b0cc4'
            'f2cad0152e94d8accd8fd63114425fd78174bd81849e5eead2bee5fcd7560930'
            'b5273c50f344969b196ea8b603dfedb9b5f1950608c7bffc6b1efba1e8e3e303'
            '8bfabae5e4cd0d597f086551f85c283bcf26b7b85b1471d24fe9571f20f5aa03'
            '62891c40b7dcb83a9e10896878b3f74dc50f103c0508b702f4f0294fcca70121'
            '6900e508dca9f37a9bb15c762c66bdfa45ff28636d4b0efee080f5fd81f13a27'
            'e918c907e3bed9564ab8377c16252263c60460db633bbd3bc4f823b3e650974b'
            '71fba946ba88174a3f3a575ca5d63c9ec8021f234858afe1ecb2622318d5b8f2'
            'b5ad66431583ec8ff385c32778591224b211bdb638598b922fed16938a8ea088'
            'bf4260f631425074074ac10b67d4b87306be7ca3ce498bb75e2fbab4dc3daf55'
            '588ac3a3ed106687d5c1b269c770099e9cdf7f0798f6ba59c941edea3ec83f32'
            '263cce6598f2e4367e68e5dad6f539709fa215c51a752fe1992650be239b8b5a'
            '5427860b495c384b6e3c137fd2079d53a15104c23940199e6b54415efd497e27'
            'dd99a17b88bc4ae00d750b2dcdcb0320b789675d437f6fa97d75e4c0b083bbe0'
            '01e4430187fed3ac46b3b948e0bedfba83eab1c2dc4f1a6a884ff4f545d75a52'
            '17a39966c8f15ecdb524ab06d413ddcacfc14f43d7a43975317a976f8e738f42'
            'ea3e2192097ea0081c58072870719801393e7164671fbe0224cda1b978b397ee'
            'd225637ccdf530aac8b3a40102107adb46472fff80249910c57b36bc140d8d6c')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
