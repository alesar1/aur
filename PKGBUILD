# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=70.0b11
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox>=$pkgver")
source=()
sha256sums=('6c89704fc4b73eb8012e1291115b2cbb50cb26f81f96b52b8f8a72cd2fad4715'
            '8d7a4b8d79deb8d3bbd8aee2f3444b22d54b16defc0783d2fc69aceb1dc0122b'
            '91825faba6c838822d2a3508e828f9fcb8f9004065bc8935f4925cc9d2b3da35'
            '92f89d08d842bd1c6c07e930d2ca8a3aaaa70c17a435a2e9f169b4c220e86272'
            '570df20057ad12f715cbdc54572b7bbef3711e9bac062cf7a6e87ef6a616a2ff'
            'd7e754e8e42b8cb10bb16794015fc898d8e71e9617a7a78fe61adad103736365'
            'a820bbc78d5466d3297ec91b41dc6223a8a55266279984e7a2cb99f378625c74'
            '1aeb620acf327d77007dda92a8ba6b8776432776f54c00441649cfbff185f336'
            '4dcce3b83ce6e297d8d9d8a68a795bfc9d44b6700f782cb84ef05631247c6e79'
            '004fa1cdbc4c66a5289e7bf7a1be7ed4c0eed4948ee20075325fa18fd91aadc7'
            'a82a6690592ef6188790b7cf358388268138d23c43e98d693b7f2ab4779e67b6'
            'b2c26d6474d2399cee40bc5be82bfffcb31f82899ed4aca7c37cd1b928735e1e'
            '5c746c90dc561e9871ae45c910b2838b76665274cce915db4c8070ae0417d6e1'
            '570802c5e03f731e80b6265777e58c7fb56f8d7ecdb2bd714bc60c3f25cc87ed'
            '96d231728a4284be259e124b143c2ecbaf63987777724e1b09435b70fcf17b84'
            '7b44b465432742695c200dabdd92df31b624eebce1cbb49825bc135ccb5790a3'
            '42febb137a3ce95ff564e76a8444d04ed80dd1ad6a7e48677b1e619e4aac4ab0'
            'f1e168911b14669d62d305771366cb71ee1fb6713bd406a6af5b90c929d946dc'
            '72d4c6b1c3bebe5f784034f1659faff6c5932d072ba85ed0e83fa00ade593604'
            'a861d98d3b6c801cfce76c915ea598941da7b45aea72e59304b6c0539d0330d9'
            'a8265db0275ab80d492fb3e768e0040c37384b3dd4374df2c77451fd46146d49'
            '630460a8a00385aad0bfe57a21cc77b0995cab22496ef08d31767bd07dcdb74e'
            '9274d5153b59cb21f638b795315f3e68c205d02ccc902de06e26917a11850949'
            '6028e4c44e761327ea65397ba23178196b91110e703c636a4dccb90b4933c17b'
            'dc80afc8aba808601fc62eafe0c55ef07af8a88a1b22a5221c1aa8ad8e0afbbd'
            'f616a9d440b7e30c2913188cc32e8ca0320d6cad0cf02a3babc1c25802d9e2bc'
            '0579dc7437dcaa28ce61d5cad44d99469426627991dab9fe4ef25f6c81d314e7'
            '6236394bba404b687a24958eef5e65bcc0b5db21e42a3a1f7aceac98f7fc9e32'
            '9b35d65d542b9161168fa71eb5ced2f998a3983ad905a840cdf3c5bcfa593d0b'
            'f6b8ed9668efdaeeb5a5de3ba2fa8bf8a0192e1a08a1447ac85e4cf846086fcb'
            '6c62e4980b99fd3837ab79e6408bbea1e051a856c22ba57e363f0aaab61e9c4d'
            '27418fddca0be515bb327606d396de2e0c3a94564050f4f0099f23d0c883e42a'
            'a6bbe9ddb89a59a5294fa1021dfbf4646ca272c59be49136ea2b01a20783feb6'
            '8dc91102980daeab385d4cef8ee23d137899dd5f6910d3fb54cc934780efaff5'
            '0aff5ef7d6eb9c733ba25eeab94acfa3ec13528993d646f1bc8216a00b1462e9'
            '65ac37c3e9e80b71060336079b9f35f723a767ba6355e9209dabc7014564146a'
            '7965ecee496b20e1aa840f69ca96f74b9b3d94533837913c9fbe197cd3897b71'
            '6da288b4217f579fa0575406c8570da87d73c149177812a224c08fd2fb23b4c6'
            'eae92d08b1c818385094d2b652d618987a18a479ae825ecfd1b2cc65749037ac'
            '2783a26fc91c36e0181e141d920b51b0f9708b4c6f1dfcb2900b0be456b5a81a'
            'e1ff71740a3d880f2611f806858865ccf1ddbbef64d9907af3f079a86818888a'
            '099eb69f956925d6e7bd4ada0dcfae3976c8f864e52a02a8e38dd19dc09ce729'
            '3f5d0e165331d587b61d9e697c1fd8268b410343e08bececd013d4528e4f5bb4'
            '6202d33fc1e12f85e0fdc5ece0fe51ccdec95fdf098a6af5b822c3dd1c4a31ab'
            '4d71d3c3fa7d4d33a95b67abdf156d6ae4d9b92fd225d61a3184719636097929'
            '828a22f414c6f7f8bbdc60169d775c1f1840560ddca42dce6f32feabfdb41a04'
            '1a7b4087e108c5843e0948dbed056288d4ceed2750b456fb9adec4d676c95bcb'
            '1581e5257418b971b46018200ea0ee91ce76cf9896bfc6ac26fac8ae3063b6f6'
            '795a1fd7a8943a8fdb828567c6585f0ca28021e0878fb18b9bc7411b29721970'
            '18adfb58204e2b25b85b91edb5a45fc167248bd6e6558d826d441402b70fec7e'
            'e429c7291299c5964678e6205d681d04872b780a2d83d257b228059078bb35b9'
            '69f12d9721305290bf42e79c0fbdb4fb6e5de5b29705971a1bad68b6d756b2ea'
            '32d7ba30e18658d24c15eb77cadc1a674d61155b8f78240523da6a5496e09587'
            'd4c27dbd78f4ee653c9c580f58343ccc67af2a00ac3ac32d0cc8dffc2e25bba2'
            '43aa5df17071af0a3ccebe92f24113c61b083ba705a5e215b739b7f43e25ab86'
            '41eb90f2ee5aed5be9abf5e034afdee849b7b37e34112c469a32f599daea76c6'
            '24454452fa7f771a68a2a9f6f46cbfe78d21e35a0b241402f493b6a4a7a4255b'
            '94ec4a1a2ed1396d1f07501d20d9dae207f34d82409945606fd0501cef2025a3'
            'ea0fa381a425b6e0088a3584cf7bf04e856298d44a17fffd4cf0d4f5dc008057'
            '62484410249966f6f9a405b066679151fc4142ca40107b6c936d0fc4c2f9fc7d'
            'f6f3aee1b822b7149c400fc8bdf74d30bef7f24bc0b8fdc82baa424d3f1d2197'
            '57efb2876fc328f584214e8120f9aa1fb949dad6d505d550aebbc118585e9c00'
            '45b5d7d00eac56a772373119e97762bba17ae63a6d7ad6349298146f53c84395'
            '2cc8cf1e61cbb3c2c1467d54c37aa40b21d2e4c6a69bef572efe9c15f63c42fe'
            '11a20a40b5c19e2bb33ff75958af619dfa2ff1bbff919eb3a3b01d427a7d0a21'
            '79135f26e6e3cb818331f93157277994eae02f9a306c45f4e35dc4f201d6af7f'
            '6bafbc20691af76bb92788a3ef17fcd3d02d5c8cc23af14238ea4a5c1fa56583'
            'c6e454f0ea43a2cf1070577df2888aa9692359086ad22c27462ebcf2af1c8337'
            '514a94a36af94a3f563b71763dc7ede7bc81e9cec2934ba2370a1b16e7692e51'
            'd5ed5ed87cc779ae34924d93165a150d02688b867c81c515bc1c5b583b83be5b'
            'dc5b12b343f41862c148bd0bcb73773f3dd3ad83bec95924dad21eb81a501198'
            '2f4bb5ffcc0413dadabc9330f42d65f67958016dddfbb21f88b14b7149b4decf'
            '13cddbbce71809a92a501185dfc4f1936967a1f6a874658afae9b4d17454037f'
            '4283a01e82b7aecc1f2b1b7728ad96179fdbec651a330c3643af5ac42e9c1bfd'
            '5fab700b645ee2cf79817b917d0fc67860bfbbe0f106021a3812d8be8ac2af8c'
            'fc7b27e3e143cdccd686cd8a867d697e383015748df4665b68219f7d21c2f7aa'
            '89a82462197b2821f6056e33a51f0cdd1faf4b475ccffcdbca9fb6b8ca273ded'
            '72bbc429f821d576e9387ba4beb66ed860ec977efc66d3741fffb06efeab847d'
            'a1b3218182067cf014934ccf2004b6292d4b7c2ce4a5896dc1c1eeb9ce5dbe48'
            '5a737acf7932fec6ff0913644dfa25009301fd1d6da1c618df14787eccb3f59d'
            'c72cd56ce505bc47fc84d858a81c2d8cb5a1e623f2ae18992886d88fb5c6ff5f'
            '0e058b3d745d36d17af4723a04b52808e998b2254cd0cf9f1be00d495fa04d66'
            '04054fb2355f1e6d83e57896e8bcb23920004c7f9c0d185636a4c39a2c3878c0'
            '7037b461d42c9303ae2bb14ff307b1499a8f6ed9220b2e7e85c6c4c137c02b4f'
            '7c3d3d40baf2b88a4aa1075964b5175de178690bc644847e973781c8e2ce45fe'
            '7b4113c309d41ab989fb11a898ac10b75749c90bf73ac1a5b8e142b572787947'
            '83cac4664e841ec9724fed6d5e9dd96f209878a33f48e2b008b67fdc89be5c75'
            '7238c440a88326c72d11dbfb8d67bce32bc00e0ae62ac3ee133f8aea7fc6dd76')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
