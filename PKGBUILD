# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=72.0b7
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox-beta>=$pkgver")
source=()
sha256sums=('74f862500c15d9483c3accc1179411524a5ed79e88054ae7609ee6db1e16c069'
            '6976a39a642bb093517dc83dc4e1e9f4aa0a268adc034004717c25bb8524d8a0'
            'd136051c1c3c17d4d7d265a5e950aded22d0916dd8ce7cf44bbd8cb861b9bcd5'
            '1946c9733fc67e6784b5e0e424e69ed837bfd3fc0e82ec3dbc22926942e6e58f'
            '3b38d230af03628bdaf556b094f1e23dcd78132d3fcb30b8a8fb65eabf0bb933'
            'f5e2a1dd2f7d256718a8d9ba7463f3ff04735f340e1d5e6340c21eb0eb0c6050'
            'a1c4b257a7ab52fe37f9f5c377205eeeb3ffc6bd7436b36f2cbb80cde402cc6c'
            '082bc745c919b3cfcbba1d64f7da8f665aadcb218620fcc3f1885694aa1477b5'
            '1667733e4aaaaa262e0315c46e35cc1b3a71270b1ced5898b2d27f04217002ac'
            'f5e6309e661cd2cf605999c15ff62d4e5f8add71967f99886f6a277b6826e8a0'
            '02cfe64873b86f035e41efc044cf849697c21cf65a75350cbe252737e9a2be96'
            '8a15d30fef2fa724aa4569839e8f6efef1f9d54b2fb5dd8ef095a8f23db7ff03'
            'bc74afcd06e3dfa7b75202c5fbc46689981068edf58100432d36e7384a1fa13f'
            'c51e3b3a55d070b8b8a3d85a6c1662945c49e34e9c49c60d5fbce890a34081e0'
            'ec8200d91ef8f193c9d2c3992fc5e553551c89d21fbe37d1257cae3d458786b4'
            '30a90a789b758b41182c82459d375b5bce7ec0ece7c4ea25886e6cb8c08024e5'
            'f5db248d7696c627afd91838a3ee88217a3b921973814d8f20c532a9c4674d1e'
            '7a2eb29244d32f097944ae88f0e07b987091084482e25cc23e7f53d31e148222'
            '9fa845d61baa698c98c05027fcec10bab3573f97394ebea7d1c5700a831345dd'
            '5e0319efd1318a0136727cbc43388f02565218d913093ae86b2cdbec40f06b55'
            'f8387bcfd9084098f0a8649389d03d80ab35048cd6745dd777a483026881e8fd'
            '5934ab8da21391714705afc575798e35d4c243b431ea2325d63e299c77431e0b'
            '2d7900601a4ca1f22011e9509420bdfab1632dc3698756f64e844c0480aeac3e'
            '0e82655020908383beb382dfd01f31487bd27581a3c9a5f2632e511b8e5a871d'
            'd05ef8c6c60766fff5913a4e7ae46954dcc5079cd678b028c86e30ad0384907e'
            '4d82ed0006215a4355d1e3e4a8aff2bb267691b0dbfcb1f86c905dec5e5c2b66'
            '72bb07718efa9efa0a982d3a65bd09444d7c3057e67c9cc013106e272db00b9e'
            '6c46de840af556c1338273ebd3de58f65912a69ea54769bfb151f9a90ac33f75'
            '9b61686950fe9a4c4e455ea873c11f2316a895157903ad8f78ef30e764e02d5d'
            '491b4cd0b0d7386f128d249c6d9d29f6fdcb138b0f2efc9c812707564b987876'
            'fc25368668ea0b35a1cf128b3952f5c9ceea4fe34d59049fe1c1d99e9b13dd36'
            'ec8da7e3662dc5721ba9f58e93c0a0f7b6dcdb973e966e5d381d1a1dd6f70ca0'
            '95a1c550006b95bf948c490b90c6f00ba2e0c27cce17ca6d4576dd9f9182d965'
            'e861a0f3cb348e131adc4587820ee20b846a2b93860f34fee7530a01ff81aebf'
            'a46b0856eb62928234ca28518d91a32ed28394729c1ac05c373f772d3a377061'
            'c073de536147da2707d760796a3826c7291f0180a905ce333e8d85c9469c87c8'
            '63debf7c687d25fb9945bec2f926b8c5042d729282a78279985a9e0e2b0cef6e'
            'a324dc843fcbf585de8bc6802c35b1c9ffcc4148109df7ee2410074bd1045348'
            'ee4874601e506ccf33fc2feaaf726af536fed379a7c4a098ce06531de95bcd27'
            '12a72dbba715acfc6aa72051d454751dcd028dc41587ce12582f074e44325b8d'
            'd0d1b0661890514b44493e3ec61cfc4454fa3b40a7601926e3cb57ff5745647c'
            '627708be8d017017ed1181e39d493e4be2d54d45f2ab9d7538b73ccd1ea079c0'
            'c4aedde820fd78301e723c4a5c3b5b3a296e3b1ef1fdc70270a4e28cce5f3be6'
            '1f4ebeb7879beb5c85be0285ef10cf98cbbb92b98714939f92d64bfc979c3e62'
            '027316e0f22adf513bb8589835c0dfddcce1be07a37f8b6d1d6c92f0dcc21112'
            'dccebda362cdb56e183253cf845b77070a61b9dd5f5efe649d3f62e02d401f17'
            '88ac4af08b23951fff780994160eb7674977d2d7c64c079be36237b70f96c6ef'
            '4c2fb00b60a4864aa93b105c5c9cd533c0a6853a2d89bb0e1b688d83d55b64b6'
            '4ac491061f48920435a36135e82428de423b323cf8077dd64476ac252298f85b'
            '7be57ee71987a16665372a05769362408b8fee4dd783b68c0e8abbecbd264274'
            '8a32bc514744ce13158c4ea06c1048748c926c03613b529e4314c52253346733'
            '3c9d8b45fb35152fd146dd88052f30c8ab1c1d146de61928ea2eed62eaae3362'
            '3ccd58dcacdda1bf1dd0ff6550f3a416c154733d4c61f6a75aa115bb6a96b0a5'
            'a75bbba6b2c4550691140cf1e3f24247fa99e18c81e479b0e73c9f1596726f3a'
            '5247fcc118ff843e2e7d92018c2ebeb868705fc4492d73b99eb86215cd64e0ce'
            '472b0c080e1188851b3bda0e721acf80cff51888118a3517de8c33528a9c05dc'
            '8b68f4d1b71876fa8199a50c7cdda2c2b95c258307e32b76b70ae01feac4d66e'
            'c100e686692fc5cbfa372582f471c9880ac4639241a9264920e6882c0eb41c77'
            '084960d33393ed01a5763ad828ecda7aca4b6fcb535af459dbf312b0b53df471'
            '1ffad81b6fde9d97a60beb338fb1a522a683b0777c7240a0b6dfd32c266373e1'
            'befa1a267d6875cce73aaad3248eab5ccb6bbc6b974a9a806c85b6f120ffc739'
            'eb201cb8b625013439141b2193b0e7bd499b18e8059c5cfade8178131bb59621'
            '251489e22b44720ef3f4a201521d368ecb852cddff59d3c2778d22f042772ea0'
            '02a16b2f4aa2799b46513ed814113802c305a9641d5d1e3125be178363a5d112'
            '926400f495f82720c3c3553b05b7a0942ef902bd2adf9990c680e7b3252df26c'
            'bf9a701994acd0816df548cc1a100773118ef59ec5cd2c2f89d943c607dae1fa'
            '49efd1a17114f1cb72c1cc5b51e6aa6a8fc41f42c6e549b2749fe9bc3f41ac9e'
            '00c90a6ead888c83cba6bc6369cfb8fba609526dd3b26321e76fef6aa9c4240b'
            '0252798813e0131e9ed80dd020d2bb38a4990f499758cc695e2c34c49bb034da'
            '26597cf23991b8257b055fc284578f0bb7a1289ffe85fc1d94d7fbc9b2f6a33a'
            '64331eedcf10bf80caa85939817bd276710060d9c2e70257dcce804ade7334cc'
            'b966e2789217c65d94f0516028bdeefbe47ae8821c938d1d73c5f36f80413026'
            'd91448f89d4ee14c76d85e5a13048847edea73a79e0c2a152598ee642f778fe9'
            'c18f588215a2733634b1846d16a1b63456b58bb2c4c814356157c56cb635fb86'
            '60dde319dfff8e662a2d7d961be60122ea79d43c69ff4394c3184845b1f39932'
            '52f822b7ae891e720b8f58584f58c91d969c854e761cf30c8f8b49e7e261352b'
            'f324c54b6529b79644f53c4553c4b632e99855cb29761c3868d1b1e0011359b8'
            'a513dc8b70bc00f09f31e22530d10f48065d46099540a77a640a3c76fdd742d9'
            'd277f1513b6d8be7b84daaa9a03a7d67e3e446fdbfc8e28e14815e8fba3f5994'
            '26c58191f03a40c08c8b0b921996e56396ec260cefd150e40f0aaf22fcd40334'
            'f852d8a74c69e57b3a9ff67ad19d51d9e0aab369726785f2a9d3166e074f186f'
            'a3d625dd6cfc773d46cc4ca276c795d942766314c6895f46d70aa818712cd122'
            '81c7c1ea9781d5a12684337c663f26ab814469cb9d7d14769f3cc8d7d2870b40'
            '92c628d10dfdf6153babba194ccd611ef39425fcddef9198e36fe60b75fac8a6'
            '02fd8471052839ef57986f3722e849126225d0ecb7fa9aa25b315ebc80c3f696'
            '403e53a98aa00b82e236b2f756e58556a840c9695fe13f6b8f06b7c2cda33d77'
            '6503c6595a5c03a671076585b3cfc2c335d6d5bdd6596e98171e6e79fee8b5d2'
            '0eacc673ccd7729b8f5ec9481a9176a7873b6b7dc7bd5815e4068d97b6575c84')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
