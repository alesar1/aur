# Maintainer: Frederic Bezies <fredbezies at gmail dot com>
# Contributor: Isabell Cowan <izzi@izzette.com>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase='firefox-beta-i18n'
pkgname=("$pkgbase-all")
pkgver=73.0b11
pkgrel=1
pkgdesc="Language pack for Firefox Beta"
arch=('any')
url="http://www.mozilla.org/"
license=('MPL' 'GPL')
provides=("$pkgbase=$pkgver-$pkgrel")
depends=("firefox-beta>=$pkgver")
source=()
sha256sums=('1b37768e454adb2bb18e725e52687540c67f0ef5c1b8a70af6519843c5667a08'
            'bd6d268e5e4858d9be9573e097d24e7041dc45f18f063b34941cfabdc05d2ea6'
            '195ee159168e1c50123fd1639648a8a1b55561220b72abcafa6d26e1f92ef80c'
            '79b9a769744633e45ab1aa0cdbe17a3ef97107e299784de49c5e3793dcdd7c4b'
            '8d01c3a9e6e08de472623f145c27af2a6b232d1bbb6db42d54e67b3eca898abc'
            'e09b105c4bb174f3ac9d9933e790d180e1977f3b156a7a5a0bce45602714fbc2'
            '575e9143fe17f4b74e36d4ccdaa785c3fe9e28385518e97ca5f6b5b6f464f8b5'
            '4b76a2b80afb2d4bc4337214e2f6b6b06de85c6268f3cd767cfa2a2a055e4e4e'
            '9502bee10d99aeb77eee868b20051d3fc2ef2a1a9501670bd1fb9ccdc7f10e06'
            '251981b2961fd0717b4bf796e4289f5dd995efaef07ea4adaa452dad5890640f'
            'cc4537742fd70b891716331085a305d83d31ed68cbc607cd412904db3237ef53'
            '9d47f728f071cdfa236c674e2f4bfa4d4545e23972c5e59aebcfcce1c03d9880'
            '4b92e5fafa7319383cf53c114a7e94b382d2a8dcaab1a4b313a81b0b253cd3e1'
            'b07e74f66bbd2d3e7d31641a05639e2d6a51fc0394f3a5404c638017a70656eb'
            '322aafd5513a233d99609e1d4f38e063bcd5fb93f9f6921a82b520c9291fbcdb'
            '515c0bea69bcfbe53d0190f959d85d8c0298b920874e45fe194c65a2bf622263'
            '169b5d3dab54f60b3de26bf993bebef4ff04841d05f36380f66f1224d75169e5'
            '0fd092176cf07f0cba29fe9f559a71ed0f75675e99deb7c6e23467a8aa042812'
            '058c1199d5cfb9ce7e6adcc8b1a5001dce5b23881c6433c986406b1ee9fd982d'
            '14c0c6246bd30a11435b9588f90ab4bf443f4eeb1de1e2e949561dbdb102357d'
            'e8819a2fa05d8f176db5a7e09b3551cd8311bcefa3e0ebb8a52b92225c75dbc6'
            '0fc07b3e5d21fe0d162f413019075801a4b242a8720159cf4ad720dd01af61f8'
            'cdfa23fbfa337670b02baadab9868c3674eccd208bfffab4b2dd4fbe2fc7e6e7'
            '86c652a16d2f610fdda88ab1706d231c7a489f7f68123525dcef2e47d736dd29'
            '31795cbd984f4649ed1d497d26ed17cf50d301ab92aa692337397cd3e8dbea8a'
            '9b04b468f428d66f39a84cb1cd5d1bc20fce33d83e8de7f995fd2fab83969e8e'
            '4b0a2511a895200033597e050890e26b6cc0ff1643e53cc9f77e3c1ba687b194'
            'e1e3bea1906a0c2afc44e131612bef9f64c204f7b4ce73853d0d65332dc1c689'
            'a7a3328b49d11f191fb048d23c0038ff9ff6b8dfddc4f9ff971c14abefc806dd'
            'e5b5bc959c86da8350db01c46475852ebdb3f4b3bfb38397edb3a7c4a3f96eae'
            '07320b5fdc9967da2cbebad5f657e88d1047e5bc6de8a2848c23bc123d019d13'
            '48ed1c422d7357a7e262615a05c44968f37fb849bb4d7764e3e7af4a1af19882'
            '98f57c281d34a3c026de2510b8f1f6040a5466703f54608639419cf9b903d53e'
            'd0784b87e493ae3b524a66449ba761f0142ae181580f942739079befc5cbc57e'
            '1a516e77343dac069a4375ec3f9be6fff8936e83e43c55d96cb313a1beab911e'
            '49df16ae7d20657afbd89ebc84f31dca43e45c0b6ff7a5e3641e82224de04f70'
            '9714c4b5c8f86097d7a1f2da031017c78d793d3c5bd1eb8b3deba71b619d0a5e'
            'bcee38fb51a3412efef32d04fdd02128bdb6580ffa2a1a1bb6a8f4a902ff3d0e'
            '471dbfa31fa73ac9071b0b8d6c296863b4e7758adcc7d6f117ba46a00b21837f'
            '91f743a8cf11f7994c2e0b4e07bd986bd18619f1690f5b60e3b584e1289d9c0a'
            '4219772315cf1dce4d321debd009f38c9f2ad82afb55584d4bc579bdb9b137fa'
            '33a2ad63ad85d76b5b5d117bc3749b1915111575fb91e98758e4794893edc1ae'
            '838b1e14af63d8b76f0f7b00197944266791a55ae585f24a3b2d942c8870c915'
            'a66eb3c29f25b37ee0d2192b663f174962d25767c751858de62cb67ad0b5ef80'
            'cd4e09fedd53c9ee943cacb11ecaaee418a89d136114fc5e9b63d9dd56f8f62d'
            '519a10793eda7cbdde4f24d99eb8241cce471297d7157b1e9dc72335776b8ea7'
            'c3180d7ef39e8f56571ca8dace243d547eaae81e2bd5e7de4f4d176a51245ae1'
            'e28680874be5f8149dda1d95eca9a77eb8e183875563132e9966d8d4293f3302'
            'de2174e99176cdf9d7750c0c49f064b5c02c9cac5f35afbbe0962dd143f4486d'
            '06d4816466fbfbf3738ca8549883a717fc9f58751a238ae8774941dd76587bcf'
            '0cbffe07fe6fd943823eb4ffc843d1b9b46fcedf99861285decebb87ad9efdd3'
            'ff2e32c9a6d57f4cdc7f62155e0637e5c4243bf157455a8fe494a71e87800a87'
            '842b9b9b051ac0f8ae8baff2369afab2df0194ccd607aae0d113d36135973146'
            '4db0943e68b93b0059aaee95bb85d695b6a4fd68448f0f283cb9b7b862d421d4'
            'a08c55fe27777f0cce81c48a10d80c0ac4afbac070f9d7615af187eb3152aeef'
            '66b6b31e8a4e4f2b7989e1c2b10a5ee5ce82c2fc2935afb2bfa92ffd7d5a99c1'
            'e61ecd49f1d7bf64c0e32e563b381077132ef155270df7f626c369adbe53adf3'
            'bf2aa80385568ecbf2ee9afc10cfc4bd8d11652521bdc790c0cd3a7dddb7593c'
            '5f90f05fa36c9782180cc045d1e99ec03ccfebfb3e56a5827a999e66a116e388'
            '9e868d806b9f61ec032bb87a03a8c1ff7889593d7faf3f850d2fab6d56af6f37'
            'e812a351c8230ca074daff0c09f350c9bcc90306cad97fbc0fc5abe6a959a830'
            '6f7b5274d610ac606cec303d9b4623839feb7633f1d2242adafad3abc7cf72e7'
            'b6ea3ea2f57d7ed237ca41bac9e8fc56b9e7957f87a6f19f0071636202313388'
            'd0a9335f5da39e0c9ee598bb6ee6cf6db2c3b66f9c03da0805c8eb5597a350b2'
            'e828626dce7e59d420f639364883a8ded0c45db03aca7dc7939d8c4995ab3974'
            '14db2f15a09a40b2772d6035b47bcbcc166db1d59c83d046e2549d32101799b6'
            '44dce56895c1b6923b4f13ca6928dab1f65ad714f3783bbc4d07f6b14ef6c346'
            '0777cbf28484aad0c60a7e31e0197c8393fbd3f44974e54600c3040e6fc1917b'
            '73f261f4474bc7bd7ccf6882e4d313bbedddba5451aa412621178f5e9fa26e90'
            'df55b731afce58d928d9a2c22827715ff4715fcbc9e7d25d30d893ec24a0eda7'
            '7a62735582cbbf6eb7b52a913e968085494594bf5f46e3f731f905366cd89de3'
            '4e4e9abef1194dcf7ab53146bcc6acafb7fb44d384c2c0ce0edddfb596873d29'
            'e542cacf11d1eed5110fd301fbb26759b13952da078c5ec7906e4f96dfd69d13'
            '4c520bbbe38bc8f783753b21dedcbc90595dd8787e1d997bf35575ee8cd20f33'
            '6e49587bb7c63f5f10a58d77cdc1541712cbabb04001c3318236ac455db8230d'
            '9d847b66232117e71fc4eb7ed6b24a33c758fbde78b7fc4a6bbf9f676157dbe2'
            'c61252c14287120f7cba7635925782600dab335df9351353233582690297af8e'
            '4379702f33a8edb9abb36e8c52ea6d439db9ab7568b37bf87239c762be03f470'
            '0d549dfbd1bc95a39d49d1905cb923bff580eb688ee98f3c1f9e62f95e2bc38b'
            '1bb7e31a6804f3b09b97b737d5499c8c015061cb93ac3cf6940103a00e5eb76a'
            '079b982d408007efecb34c04fdf51c09b8e9984cbff86595baac4465b04e009f'
            '13421ede0885bb30893bc6bad8099f025b78053d865991a9d8ce0517537b56a9'
            '4516a8ae6c0a5707fb14b528f08458a3cd3bac8b6fd448d6b34f65bc5270254f'
            '9b9ddb7d5357d47a11934f362c6d0f3d9a66a5f61a3f7564f0ee1a1aed989eee'
            'd9369385b24e412608bb96bf075be2441ca5a6fa98ac5e4e6a4d8c6102aa70e0'
            '11e4497f31d2bd0ff66cff1d0e22c5f72669bd52df8f9427ee524625b4d33dd4'
            '8a1ef1490322ce15241d29c0c0340484b2150d8430fbfb07a985f0899c4a3b8d'
            '728e9b0e1e819f004bf08e46da4d679ab57d0110bf2711c65887d6335bef0b27')

_url="http://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-i686/xpi"
declare -A _languages
_languages=(
  ['ach']='Acholi'
  ['af']='Afrikaans'
  ['an']='Aragonese'
  ['ar']='Arabic'
  ['ast']='Asturian'
  ['az']='Azerbaijani'
  ['be']='Belarusian'
  ['bg']='Bulgarian'
  ['bn']='Bengali (Bangladesh)'
  ['bn']='Bengali (India)'
  ['br']='Breton'
  ['bs']='Bosnian'
  ['ca']='Catalan'
  ['cak']='Maya Kaqchikel'
  ['cs']='Czech'
  ['cy']='Welsh'
  ['da']='Danish'
  ['de']='German'
  ['dsb']='Lower Sorbian'
  ['el']='Greek'
  ['en-GB']='English (British)'
  ['en-US']='English (US)'
  ['eo']='Esperanto'
  ['es-AR']='Spanish (Argentina)'
  ['es-CL']='Spanish (Chile)'
  ['es-ES']='Spanish (Spain)'
  ['es-MX']='Spanish (Mexico)'
  ['et']='Estonian'
  ['eu']='Basque'
  ['fa']='Persian'
  ['ff']='Fulah'
  ['fi']='Finnish'
  ['fr']='French'
  ['fy-NL']='Frisian'
  ['ga-IE']='Irish'
  ['gd']='Gaelic (Scotland)'
  ['gl']='Galician'
  ['gn']='Guarani'
  ['gu-IN']='Gujarati (India)'
  ['he']='Hebrew'
  ['hi-IN']='Hindi (India)'
  ['hr']='Croatian'
  ['hsb']='Upper Sorbian'
  ['hu']='Hungarian'
  ['hy-AM']='Armenian'
  ['id']='Indonesian'
  ['is']='Icelandic'
  ['it']='Italian'
  ['ja']='Japanese'
  ['ka']='Georgian'
  ['kab']='Kabyle'
  ['kk']='Kazakh'
  ['km']='Khmer'
  ['kn']='Kannada'
  ['ko']='Korean'
  ['lij']='Ligurian'
  ['lt']='Lithuanian'
  ['lv']='Latvian'
  ['mk']='Macedonian'
  ['mr']='Marathi'
  ['ms']='Malay'
  ['my']='Burmese'
  ['nb-NO']='Norwegian (Bokm√•l)'
  ['nl']='Dutch'
  ['nn-NO']='Norwegian (Nynorsk)'
  ['pa-IN']='Punjabi (India)'
  ['pl']='Polish'
  ['pt-BR']='Portuguese (Brazilian)'
  ['pt-PT']='Portuguese (Portugal)'
  ['rm']='Romansh'
  ['ro']='Romanian'
  ['ru']='Russian'
  ['si']='Sinhala'
  ['sk']='Slovak'
  ['sl']='Slovenian'
  ['son']='Songhai'
  ['sq']='Albanian'
  ['sr']='Serbian'
  ['sv-SE']='Swedish'
  ['ta']='Tamil'
  ['te']='Telugu'
  ['th']='Thai'
  ['tr']='Turkish'
  ['uk']='Ukrainian'
  ['uz']='Uzbek'
  ['vi']='Vietnamese'
  ['xh']='Xhosa'
  ['zh-CN']='Chinese (Simplified)'
  ['zh-TW']='Chinese (Traditional)'
)
_locales=(
  $(for _locale in "${!_languages[@]}"; do echo "$_locale"; done | sort)
)

_all_depends=()
for _locale in "${_locales[@]}"; do
  _pkgname="$pkgbase-$(tr '[:upper:]' '[:lower:]' <<< "$_locale")"

  _all_depends+=("$_pkgname=$pkgver-$pkgrel")
  pkgname+=("$_pkgname")
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() { _package '$_locale'; }"
done

# Don't extract anything
noextract=("${source[@]%%::*}")

package_firefox-beta-i18n-all() {
  pkgdesc="All language packs for Firefox Beta (meta)"
  depends=("${_all_depends[@]}")
}

_package() {
  _as_lower="$(tr '[:upper:]' '[:lower:]' <<< "$1")"
  pkgdesc="${_languages["$1"]} language pack for Firefox Beta"
  provides+=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")
  conflicts=("firefox-i18n-$_as_lower" "firefox-developer-edition-i18n-$_as_lower")

  install -Dm644 "firefox-i18n-$pkgver-$1.xpi" \
      "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

# vim: set ts=2 sw=2 et syn=sh ft=sh:
