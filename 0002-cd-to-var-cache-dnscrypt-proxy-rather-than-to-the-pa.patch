From fb3499b0e1db37bf71ef2e3497b06c89b573d1f8 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Adri=C3=A1n=20Lavi=C3=B3s=20Gomis?= <adrian@lavios.eu>
Date: Sun, 14 Jan 2018 09:49:40 +0100
Subject: [PATCH 2/5] cd to /var/cache/dnscrypt-proxy rather than to the path
 of the executable.

---
 dnscrypt-proxy/main.go | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

diff --git a/dnscrypt-proxy/main.go b/dnscrypt-proxy/main.go
index f70d8f1..1b0273f 100644
--- a/dnscrypt-proxy/main.go
+++ b/dnscrypt-proxy/main.go
@@ -51,11 +51,7 @@ func main() {
 }
 
 func cdLocal() {
-	ex, err := os.Executable()
-	if err != nil {
-		dlog.Critical(err)
-		return
-	}
+	ex := "/var/cache/dnscrypt-proxy"
 	exPath := filepath.Dir(ex)
 	os.Chdir(exPath)
 }
-- 
2.15.1

