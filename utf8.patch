diff -Nura e2/src/eggdrop.h e1/src/eggdrop.h
--- e2/src/eggdrop.h	2011-07-09 19:07:48.000000000 +0400
+++ e1/src/eggdrop.h	2016-10-08 01:24:41.533290748 +0300
@@ -49,7 +49,7 @@
  *       You should leave this at 32 characters and modify nick-len in the
  *       configuration file instead.
  */
-#define HANDLEN 9   /* valid values 9->NICKMAX  */
+#define HANDLEN 32  /* valid values 9->NICKMAX  */
 #define NICKMAX 32  /* valid values HANDLEN->32 */
 
 
diff -Nura e2/src/main.h e1/src/main.h
--- e2/src/main.h	2011-07-09 19:07:48.000000000 +0400
+++ e1/src/main.h	2016-10-08 01:25:20.746877377 +0300
@@ -44,7 +44,7 @@
 #endif
 
 #if (((TCL_MAJOR_VERSION == 8) && (TCL_MINOR_VERSION >= 1)) || (TCL_MAJOR_VERSION > 8))
-#  define USE_TCL_BYTE_ARRAYS
+#  undef  USE_TCL_BYTE_ARRAYS
 #  define USE_TCL_ENCODING
 #endif
 
diff -Nura e2/src/tcl.c e1/src/tcl.c
--- e2/src/tcl.c	2011-09-10 01:37:53.000000000 +0400
+++ e1/src/tcl.c	2016-10-08 01:25:00.830082096 +0300
@@ -863,7 +863,7 @@
   }
 
   if (encoding == NULL) {
-    encoding = "iso8859-1";
+    encoding = "utf-8";
   }
 
   Tcl_SetSystemEncoding(NULL, encoding);
