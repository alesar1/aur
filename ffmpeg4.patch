diff --git a/src/core/d2v.hpp b/src/core/d2v.hpp
index f87b1a0..ecdae78 100644
--- a/src/core/d2v.hpp
+++ b/src/core/d2v.hpp
@@ -68,7 +68,7 @@ static const int idct_algo_conv[8] = {
     FF_IDCT_AUTO,
     FF_IDCT_AUTO,
     FF_IDCT_AUTO,
-    FF_IDCT_XVIDMMX,
+    FF_IDCT_XVID,
     FF_IDCT_SIMPLEMMX
 };
 
diff --git a/src/core/decode.cpp b/src/core/decode.cpp
index b563697..11a0fef 100644
--- a/src/core/decode.cpp
+++ b/src/core/decode.cpp
@@ -242,12 +242,6 @@ decodecontext *decodeinit(d2vcontext *dctx, int threads, string& err)
     /* Set the thread count. */
     ret->avctx->thread_count = threads;
 
-    /*
-     * Enable EMU_EDGE so that we can use buffers that are
-     * not padded by 32 pixels.
-     */
-    ret->avctx->flags |= CODEC_FLAG_EMU_EDGE;
-
     /* Use refcounted frames. */
     ret->avctx->refcounted_frames = 1;
 
