diff -r 1a01e996d43b codec_g72x.c
--- a/codec_g72x.c	Fri Jun 30 18:15:40 2017 +0300
+++ b/codec_g72x.c	Sun Oct 08 12:53:23 2017 +0200
@@ -26,7 +26,7 @@
     #include <asterisk/lock.h>
     #include <asterisk/translate.h>
     #include <asterisk/module.h>
-    #if G72X_ASTERISK >= 110
+    #if G72X_ASTERISK >= 110 && G72X_ASTERISK < 150
         ASTERISK_REGISTER_FILE()
     #endif
     #include <asterisk/logger.h>
diff -r 1a01e996d43b configure.ac
--- a/configure.ac	Fri Jun 30 18:15:40 2017 +0300
+++ b/configure.ac	Sun Oct 08 12:53:23 2017 +0200
@@ -67,6 +67,9 @@
 AC_ARG_WITH(asterisk140,
     AS_HELP_STRING([--with-asterisk140], [Build for Asterisk 14 (the default)]),
     [ASTERISK_VERSION="140"])
+AC_ARG_WITH(asterisk150,
+    AS_HELP_STRING([--with-asterisk150], [Build for Asterisk 15]),
+    [ASTERISK_VERSION="150"])
 #AC_ARG_WITH(callweaver,
 #    AS_HELP_STRING([--with-callweaver=PATH], [Build for CallWeaver (not supported yet)]),
 #    [CALLWEAVER_CFLAGS="-DG72X_CALLWEAVER -I\"$withval\""])
