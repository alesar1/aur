diff -aur serial-1.2.1.pristine/CMakeLists.txt serial-1.2.1.new/CMakeLists.txt
--- serial-1.2.1.pristine/CMakeLists.txt	2016-02-18 23:09:09.037989467 +0100
+++ serial-1.2.1.new/CMakeLists.txt	2016-02-19 01:19:59.568329056 +0100
@@ -2,26 +2,34 @@
 project(serial)
 
 # Find catkin
-find_package(catkin REQUIRED)
+option(BUILD_WITH_CATKIN "Build using catkin" OFF)
+if(BUILD_WITH_CATKIN)
+    find_package(catkin REQUIRED)
+endif()
 
 if(APPLE)
 	find_library(IOKIT_LIBRARY IOKit)
 	find_library(FOUNDATION_LIBRARY Foundation)
 endif()
 
-if(UNIX AND NOT APPLE)
-    # If Linux, add rt and pthread
-    catkin_package(
-        LIBRARIES ${PROJECT_NAME}
-        INCLUDE_DIRS include
-        DEPENDS rt pthread
-    )
+if(catkin_FOUND)
+    if(UNIX AND NOT APPLE)
+        # If Linux, add rt and pthread
+        catkin_package(
+            LIBRARIES ${PROJECT_NAME}
+            INCLUDE_DIRS include
+            DEPENDS rt pthread
+        )
+    else()
+        # Otherwise normal call
+        catkin_package(
+            LIBRARIES ${PROJECT_NAME}
+            INCLUDE_DIRS include
+        )
+    endif()
 else()
-    # Otherwise normal call
-    catkin_package(
-        LIBRARIES ${PROJECT_NAME}
-        INCLUDE_DIRS include
-    )
+    set(CATKIN_PACKAGE_LIB_DESTINATION lib)
+    set(CATKIN_GLOBAL_INCLUDE_DESTINATION include)
 endif()
 
 ## Sources
@@ -45,7 +53,7 @@
 endif()
 
 ## Add serial library
-add_library(${PROJECT_NAME} ${serial_SRCS})
+add_library(${PROJECT_NAME} SHARED ${serial_SRCS})
 if(APPLE)
 	target_link_libraries(${PROJECT_NAME} ${FOUNDATION_LIBRARY} ${IOKIT_LIBRARY})
 elseif(UNIX)
