diff -ruN cinelerra-gg/cinelerra-5.1/configure.ac cinelerra-gg-new/cinelerra-5.1/configure.ac
--- cinelerra-gg/cinelerra-5.1/configure.ac	2017-02-11 12:05:00.232197909 +0800
+++ cinelerra-gg-new/cinelerra-5.1/configure.ac	2017-02-11 12:01:24.000000000 +0800
@@ -603,7 +603,7 @@
         libtheora/libogg libtheora/libvorbis ; do
   lib=`dirname $dep`;  needs=`basename $dep`
   eval pkg_lib="\$PKG_$lib"; eval needs_lib="\$HAVE_$needs";
-  if test "x$pkg_lib" != "xno"; then
+  if test "x$pkg_lib" != "xno" -a "x$needs_lib" != "xyes"; then
     eval "PKG_$needs=yes"
   fi
 done
