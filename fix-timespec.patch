diff --git a/blackmagic-11.5.1a14/blackmagic_lib.c b/blackmagic-11.5.1a14/blackmagic_lib.c
index 397c585..bbd4d6c 100644
--- a/blackmagic-11.5.1a14/blackmagic_lib.c
+++ b/blackmagic-11.5.1a14/blackmagic_lib.c
@@ -322,7 +322,11 @@ int dl_printk(const char *fmt, ...)
 inline unsigned long long
 dl_uptime(void)
 {
-#if KERNEL_VERSION_OR_LATER(2, 6, 28)
+#if KERNEL_VERSION_OR_LATER(5, 6, 0)
+	struct timespec64 ts;
+	ktime_get_raw_ts64(&ts);
+	return ((ts.tv_sec * 1000000000ULL) + ts.tv_nsec);
+#elif KERNEL_VERSION_OR_LATER(2, 6, 28)
 	struct timespec ts;
 	getrawmonotonic(&ts);
 	return ((ts.tv_sec * 1000000000ULL) + ts.tv_nsec);
@@ -333,7 +337,11 @@ dl_uptime(void)
 
 inline unsigned long long dl_get_time_us()
 {
-#if KERNEL_VERSION_OR_LATER(5, 0, 0)
+#if KERNEL_VERSION_OR_LATER(5, 6, 0)
+	struct timespec64 t;
+	ktime_get_real_ts64(&t);
+	return (t.tv_sec * USEC_PER_SEC + t.tv_nsec / 1000);
+#elif KERNEL_VERSION_OR_LATER(5, 0, 0)
 	struct timespec t;
 	getnstimeofday(&t);
 	return (t.tv_sec * USEC_PER_SEC + t.tv_nsec / 1000);
diff --git a/blackmagic-io-11.5.1a14/bm_util.c b/blackmagic-io-11.5.1a14/bm_util.c
index e6a7856..ada1836 100644
--- a/blackmagic-io-11.5.1a14/bm_util.c
+++ b/blackmagic-io-11.5.1a14/bm_util.c
@@ -916,7 +916,11 @@ uint32_t bm_random32(void)
 
 uint64_t bm_uptime(void)
 {
-#if KERNEL_VERSION_OR_LATER(2, 6, 28)
+#if KERNEL_VERSION_OR_LATER(5, 6, 0)
+	struct timespec64 t;
+	ktime_get_raw_ts64(&t);
+	return ((uint64_t)t.tv_sec * NSEC_PER_SEC) + t.tv_nsec;
+#elif KERNEL_VERSION_OR_LATER(2, 6, 28)
 	struct timespec t;
 	getrawmonotonic(&t);
 	return ((uint64_t)t.tv_sec * NSEC_PER_SEC) + t.tv_nsec;
