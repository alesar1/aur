diff --git a/gulpfile.js b/gulpfile.js
index 9238d763..80eb0c90 100644
--- a/gulpfile.js
+++ b/gulpfile.js
@@ -69,7 +69,7 @@ const parsePlatforms = () => {
 const parseReqDeps = () => {
   return new Promise((resolve, reject) => {
     exec(
-      'npm ls --production=true --parseable=true',
+      'npm ls --all=true --production=true --parseable=true',
       {maxBuffer: 1024 * 500},
       (error, stdout, stderr) => {
         // build array
@@ -142,8 +142,8 @@ const nw = new nwBuilder({
   macIcns: './src/app/images/butter.icns',
   version: nwVersion,
   flavor: nwFlavor,
-  manifestUrl: 'http://popcorn-ru.tk/version.json',
-  downloadUrl: 'http://popcorn-ru.tk/nw/',
+  manifestUrl: 'https://popcorn-ru.tk/version.json',
+  downloadUrl: 'https://popcorn-ru.tk/nw/',
   platforms: parsePlatforms()
 }).on('log', console.log);
 
