#%Module1.0
#
# Created by Darjan Krijan <darjan_krijan@gmx.de>
#

set MODULE    "aocl-aocc"
set BASE_DIR  "/opt"
set VERSION   "2.1"
set AOCL_ROOT "${BASE_DIR}/${MODULE}"
set AOCL_TEXT "AMD Optimizing CPU Libraries (AOCL)"

conflict aocl-gcc

prepend-path CPATH           ${AOCL_ROOT}/amd-securerng/include
prepend-path CPATH           ${AOCL_ROOT}/amd-scalapack/include
prepend-path CPATH           ${AOCL_ROOT}/amd-rng/include
prepend-path CPATH           ${AOCL_ROOT}/amd-libm/include
prepend-path CPATH           ${AOCL_ROOT}/amd-libflame/include
prepend-path CPATH           ${AOCL_ROOT}/amd-fftw/include
prepend-path CPATH           ${AOCL_ROOT}/amd-blis/include
prepend-path LIBRARY_PATH    ${AOCL_ROOT}/amd-securerng/lib
prepend-path LIBRARY_PATH    ${AOCL_ROOT}/amd-scalapack/lib
prepend-path LIBRARY_PATH    ${AOCL_ROOT}/amd-rng/lib
prepend-path LIBRARY_PATH    ${AOCL_ROOT}/amd-libm/lib
prepend-path LIBRARY_PATH    ${AOCL_ROOT}/amd-libflame/lib
prepend-path LIBRARY_PATH    ${AOCL_ROOT}/amd-fftw/lib
prepend-path LIBRARY_PATH    ${AOCL_ROOT}/amd-blis/lib
prepend-path LD_LIBRARY_PATH ${AOCL_ROOT}/amd-securerng/lib
prepend-path LD_LIBRARY_PATH ${AOCL_ROOT}/amd-scalapack/lib
prepend-path LD_LIBRARY_PATH ${AOCL_ROOT}/amd-rng/lib
prepend-path LD_LIBRARY_PATH ${AOCL_ROOT}/amd-libm/lib
prepend-path LD_LIBRARY_PATH ${AOCL_ROOT}/amd-libflame/lib
prepend-path LD_LIBRARY_PATH ${AOCL_ROOT}/amd-fftw/lib
prepend-path LD_LIBRARY_PATH ${AOCL_ROOT}/amd-blis/lib

module-whatis "${AOCL_TEXT} version ${VERSION}"

proc ModulesHelp {} {
	global AOCL_TEXT
	puts stderr "This module sets up the environment for ${AOCL_TEXT}"
	puts stderr "by adapting the following environment variables:"
	puts stderr "CPATH"
	puts stderr "LIBRARY_PATH"
	puts stderr "LD_LIBRARY_PATH"
}
