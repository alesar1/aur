From bf3ac150506fa16bfc049ed6eb8b159e98e5760e Mon Sep 17 00:00:00 2001
From: howetuft <howetuft@gmail.com>
Date: Sat, 26 Feb 2022 11:36:46 +0100
Subject: [PATCH 2/4] OpenEXR3

---
 src/cmake/Modules/FindOpenEXR.cmake | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

diff --git a/src/cmake/Modules/FindOpenEXR.cmake b/src/cmake/Modules/FindOpenEXR.cmake
index 090f80b8..a2f7b4c6 100644
--- a/src/cmake/Modules/FindOpenEXR.cmake
+++ b/src/cmake/Modules/FindOpenEXR.cmake
@@ -34,11 +34,10 @@ ENDIF()
 SET(_openexr_libs_ver_init "2.0")
 
 SET(_openexr_FIND_COMPONENTS
-  Half
   Iex
-  IlmImf
-  IlmThread
   Imath
+  OpenEXR
+  IlmThread
 )
 
 SET(_openexr_SEARCH_DIRS
@@ -120,7 +119,7 @@ FIND_PACKAGE_HANDLE_STANDARD_ARGS(OpenEXR  DEFAULT_MSG
 IF(OPENEXR_FOUND)
   SET(OPENEXR_LIBRARIES ${_openexr_LIBRARIES})
   # Both include paths are needed because of dummy OSL headers mixing #include <OpenEXR/foo.h> and #include <foo.h> :(
-  SET(OPENEXR_INCLUDE_DIRS ${OPENEXR_INCLUDE_DIR} ${OPENEXR_INCLUDE_DIR}/OpenEXR)
+  SET(OPENEXR_INCLUDE_DIRS ${OPENEXR_INCLUDE_DIR} ${OPENEXR_INCLUDE_DIR}/OpenEXR ${OPENEXR_INCLUDE_DIR}/Imath)
 ENDIF()
 
 MARK_AS_ADVANCED(
-- 
2.35.1

