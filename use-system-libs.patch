From 4f8f8c2d12a03cddc3ade2ceba13525e086d929d Mon Sep 17 00:00:00 2001
From: Sefa Eyeoglu <contact@scrumplex.net>
Date: Fri, 11 Sep 2020 23:48:34 +0200
Subject: [PATCH] packaging/archlinux: use system libliftoff and wlroots

---
 meson.build | 13 ++++---------
 1 file changed, 4 insertions(+), 9 deletions(-)

diff --git a/meson.build b/meson.build
index d4fadab..23de301 100644
--- a/meson.build
+++ b/meson.build
@@ -45,9 +45,8 @@ thread_dep = dependency('threads')
 cap_dep = cc.find_library('cap')
 sdl_dep = dependency('SDL2')
 
-wlroots_proj = subproject('wlroots', default_options:
-  ['default_library=static', 'examples=false'])
-wlroots_static_dep = wlroots_proj.get_variable('wlroots')
+liftoff        = dependency('liftoff')
+wlroots        = dependency('wlroots')
 
 shadercompiler = find_program('glslangValidator')
 
@@ -61,10 +60,6 @@ spirv_shader = custom_target('shader_target',
   install : false,
 )
 
-liftoff_proj = subproject('libliftoff', default_options:
-  ['default_library=static'])
-libftoff_dep = liftoff_proj.get_variable('liftoff')
-
 executable(
     'gamescope',
     'src/steamcompmgr.cpp',
@@ -77,8 +72,8 @@ executable(
     dependencies : [
         dep_x11, dep_xdamage, dep_xcomposite, dep_xrender, dep_xext,
         dep_xxf86vm, pixman_dep, drm_dep, wayland_server, wayland_protos,
-        libinput, xkbcommon, math, thread_dep, sdl_dep, wlroots_static_dep,
-        vulkan_dep, libftoff_dep, dep_xtst, cap_dep
+        libinput, xkbcommon, math, thread_dep, sdl_dep, wlroots,
+        vulkan_dep, liftoff, dep_xtst, cap_dep
     ],
     install: true,
 )
-- 
2.28.0

