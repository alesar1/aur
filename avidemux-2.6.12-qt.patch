From 4cb0b19d7b78620d43d0a2ece821111246b81939 Mon Sep 17 00:00:00 2001
From: mean <fixounet@free.fr>
Date: Thu, 31 Mar 2016 21:50:09 +0200
Subject: [PATCH] [UI] Cosmetic, use a define rather than hardcoded value

---
 avidemux/qt4/ADM_userInterfaces/ADM_gui/Q_gui2.cpp | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

diff --git a/avidemux/qt4/ADM_userInterfaces/ADM_gui/Q_gui2.cpp b/avidemux/qt4/ADM_userInterfaces/ADM_gui/Q_gui2.cpp
index 70d8227..1b4d770 100644
--- a/avidemux/qt4/ADM_userInterfaces/ADM_gui/Q_gui2.cpp
+++ b/avidemux/qt4/ADM_userInterfaces/ADM_gui/Q_gui2.cpp
@@ -43,7 +43,8 @@
 using namespace std;
 
 #define ADM_SLIDER_REFRESH_PERIOD 500
-
+#define ADM_LARGE_SCALE     1000000000LL
+#define ADM_SCALE_INCREMENT (ADM_LARGE_SCALE/100LL)
 
 #if defined(USE_SDL) && ( !defined(_WIN32) && !defined(__APPLE__))
     #define SDL_ON_LINUX
@@ -328,9 +329,9 @@ MainWindow::MainWindow(const vector<IScriptEngine*>& scriptEngines) : _scriptEng
 	// Slider
 	slider=ui.horizontalSlider;
 	slider->setMinimum(0);
-	slider->setMaximum(1000000000);
+	slider->setMaximum(ADM_LARGE_SCALE);
 #if 1
-        slider->setTickInterval(10000000);
+        slider->setTickInterval(ADM_SCALE_INCREMENT);
         slider->setTickPosition(QSlider::TicksBothSides);
 #endif
 	connect( slider,SIGNAL(valueChanged(int)),this,SLOT(sliderValueChanged(int)));
@@ -1053,14 +1054,14 @@ double 	UI_readScale( void )
 	double v;
 	if(!slider) v=0;
 	v= (double)(slider->value());
-	v/=10000000;
+	v/=ADM_SCALE_INCREMENT;
 	return v;
 }
 void UI_setScale( double val )
 {
 	if(_upd_in_progres) return;
 	_upd_in_progres++;
-	slider->setValue( (int)(val * 10000000));
+	slider->setValue( (int)(val * ADM_SCALE_INCREMENT));
 	_upd_in_progres--;
 }
 
From 620b36c80a7a8baf2c08feee41ebfb0cdccefb0f Mon Sep 17 00:00:00 2001
From: mean <fixounet@free.fr>
Date: Fri, 1 Apr 2016 06:31:24 +0200
Subject: [PATCH] [Qt] Reduce granularity of seek bar, it causes problems

---
 avidemux/qt4/ADM_userInterfaces/ADM_gui/Q_gui2.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/avidemux/qt4/ADM_userInterfaces/ADM_gui/Q_gui2.cpp b/avidemux/qt4/ADM_userInterfaces/ADM_gui/Q_gui2.cpp
index 1b4d770..7a2f574 100644
--- a/avidemux/qt4/ADM_userInterfaces/ADM_gui/Q_gui2.cpp
+++ b/avidemux/qt4/ADM_userInterfaces/ADM_gui/Q_gui2.cpp
@@ -43,7 +43,7 @@
 using namespace std;
 
 #define ADM_SLIDER_REFRESH_PERIOD 500
-#define ADM_LARGE_SCALE     1000000000LL
+#define ADM_LARGE_SCALE     (10LL*1000LL)
 #define ADM_SCALE_INCREMENT (ADM_LARGE_SCALE/100LL)
 
 #if defined(USE_SDL) && ( !defined(_WIN32) && !defined(__APPLE__))
