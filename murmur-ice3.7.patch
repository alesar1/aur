diff --git a/src/murmur/murmur.pro b/src/murmur/murmur.pro
index bee4dc15..7ed20d6e 100644
--- a/src/murmur/murmur.pro
+++ b/src/murmur/murmur.pro
@@ -88,8 +88,23 @@ ice {
 	win32:CONFIG(debug, debug|release) {
 		LIBS *= -lIceD -lIceUtilD
 	} else {
-		LIBS *= -lIce -lIceUtil
+		# check Ice version, 3.7 merged IceUtil into Ice
+		ICE_VERSION = $$system(slice2cpp --version 2>&1)
+		ICE_MAJOR_VERSION = $$section(ICE_VERSION, ., 0, 0)
+		ICE_MINOR_VERSION = $$section(ICE_VERSION, ., 1, 1)
+
+		!equals(ICE_MAJOR_VERSION, 3) {
+     			error("Unsupported Ice version")
+		}
+		lessThan(ICE_MINOR_VERSION, 7) {
+    			# Ice < 3.7
+    			LIBS *= -lIce -lIceUtil
+		}  else {
+    			# Ice 3.7+
+    			LIBS *= -lIce
+		}
 	}
+
 	DEFINES *= USE_ICE
 
 	win32 {
diff --git a/src/murmur/murmur_ice/murmur_ice.pro b/src/murmur/murmur_ice/murmur_ice.pro
index cbbf5e9b..62cc7abd 100644
--- a/src/murmur/murmur_ice/murmur_ice.pro
+++ b/src/murmur/murmur_ice/murmur_ice.pro
@@ -16,7 +16,7 @@ win32 {
 	!isEmpty(ICE_VERSION) {
 		EXTRA_SLICEFLAGS = -I/usr/share/Ice-$$ICE_VERSION/slice/
 	}
-	slice.commands = slice2cpp --checksum -I/usr/local/share/Ice -I/usr/share/Ice/slice -I/usr/share/slice $$EXTRA_SLICEFLAGS ${QMAKE_FILE_NAME}
+	slice.commands = slice2cpp --checksum -I/usr/local/share/Ice -I/usr/share/Ice/slice -I/usr/share/ice/slice -I/usr/share/slice $$EXTRA_SLICEFLAGS ${QMAKE_FILE_NAME}
 }
 slice.input = SLICEFILES
 slice.CONFIG *= no_link explicit_dependencies
