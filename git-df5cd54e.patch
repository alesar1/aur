From df5cd54ed3acc737631e4592de873efd9dacf0b8 Mon Sep 17 00:00:00 2001
From: Gaerzi <gaerzi@gmail.com>
Date: Fri, 17 Jan 2014 12:05:35 +0100
Subject: [PATCH] Dat write

---
 src/DatArchive.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/DatArchive.cpp b/src/DatArchive.cpp
index 23c33e2..0402c69 100644
--- a/src/DatArchive.cpp
+++ b/src/DatArchive.cpp
@@ -553,7 +553,7 @@ bool DatArchive::write(MemChunk& mc, bool update)
 		entry = getEntry(l);
 		if (nameoffsets[l])
 		{
-			mc.write(entry->getName(), entry->getName().length());
+			mc.write(CHR(entry->getName()), entry->getName().length());
 			mc.write(&zero, 1);
 		}
 	}
-- 
1.8.5.3

