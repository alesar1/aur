#!/bin/sh

if [ -z ${1+x} ]; then
    FILES=$(echo ./*.asm)

    echo
    echo "--> Compiling $FILES"
    echo

    sh "$0" ./*.asm
    exit
fi

if [ ! -f "$1" ]; then
    echo "$0: Can't find file '$1'"
    exit 1
fi

if [ -z ${2+x} ]; then
   FILE_NAME=$(echo $1 | sed "s/.asm/.hex/")
else
   FILE_NAME=$2
fi

a68k "$1" -o"$FILE_NAME" -s -n -rmal
