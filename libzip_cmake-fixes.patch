diff -rupN libzip-1.0.1/CMakeLists.txt libzip-1.0.1-new/CMakeLists.txt
--- libzip-1.0.1/CMakeLists.txt	2015-05-04 22:49:38.000000000 +0200
+++ libzip-1.0.1-new/CMakeLists.txt	2015-11-09 21:12:27.926634684 +0100
@@ -106,3 +106,7 @@ CONFIGURE_FILE(${CMAKE_CURRENT_SOURCE_DI
 # installation
 
 INSTALL(FILES ${CMAKE_CURRENT_BINARY_DIR}/zipconf.h DESTINATION lib/libzip/include)
+
+SET(LIBS -lz)
+CONFIGURE_FILE(libzip.pc.in libzip.pc @ONLY)
+INSTALL(FILES ${CMAKE_CURRENT_BINARY_DIR}/libzip.pc DESTINATION lib/pkgconfig)
diff -rupN libzip-1.0.1/lib/CMakeLists.txt libzip-1.0.1-new/lib/CMakeLists.txt
--- libzip-1.0.1/lib/CMakeLists.txt	2015-04-29 22:46:14.000000000 +0200
+++ libzip-1.0.1-new/lib/CMakeLists.txt	2015-11-09 20:53:15.992812515 +0100
@@ -183,7 +183,13 @@ IF(NOT HAVE_MKSTEMP)
 ENDIF(NOT HAVE_MKSTEMP)
 
 ADD_LIBRARY(zip SHARED ${LIBZIP_SOURCES} ${LIBZIP_EXTRA_FILES} ${LIBZIP_OPSYS_FILES})
-SET_TARGET_PROPERTIES(zip PROPERTIES VERSION 3.0 SOVERSION 3 )
+SET(SOVERSION_MAJ 4)
+SET(SOVERSION_MIN 0)
+SET_TARGET_PROPERTIES(zip PROPERTIES VERSION ${SOVERSION_MAJ}.${SOVERSION_MIN} SOVERSION ${SOVERSION_MAJ})
+IF(WIN32)
+    SET_TARGET_PROPERTIES(zip PROPERTIES SUFFIX "-${SOVERSION_MAJ}${CMAKE_SHARED_LIBRARY_SUFFIX}")
+ENDIF(WIN32)
+
 TARGET_LINK_LIBRARIES(zip ${ZLIB_LIBRARY})
 INSTALL(TARGETS zip
   RUNTIME DESTINATION bin
diff -rupN libzip-1.0.1/man/CMakeLists.txt libzip-1.0.1-new/man/CMakeLists.txt
--- libzip-1.0.1/man/CMakeLists.txt	2015-04-29 17:43:29.000000000 +0200
+++ libzip-1.0.1-new/man/CMakeLists.txt	2015-11-09 21:14:45.138242668 +0100
@@ -99,7 +99,7 @@ ENDif(CMAKE_SYSTEM_NAME MATCHES BSD)
 
 # installation
 
-SET(MAN_PATH man)
+SET(MAN_PATH share/man)
 
 FOREACH(MAN_PAGE ${MAN1_PAGES})
   INSTALL(FILES ${MAN_PAGE}.${MANFMT} DESTINATION ${MAN_PATH}/man1
