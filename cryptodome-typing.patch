diff -ura package.orig/miio/extract_tokens.py package.new/miio/extract_tokens.py
--- package.orig/miio/extract_tokens.py	2017-11-18 19:21:38.466287415 +0100
+++ package.new/miio/extract_tokens.py	2017-11-18 19:19:14.968581127 +0100
@@ -2,7 +2,7 @@
 import click
 import tempfile
 import sqlite3
-from Crypto.Cipher import AES
+from Cryptodome.Cipher import AES
 from pprint import pformat as pf
 import attr
 from android_backup import AndroidBackup
diff -ura package.orig/requirements.txt package.new/requirements.txt
--- package.orig/requirements.txt	2017-11-02 08:22:30.000000000 +0100
+++ package.new/requirements.txt	2017-11-18 22:14:06.909084310 +0100
@@ -3,7 +3,7 @@
 pretty_cron
 construct
 zeroconf
-pycrypto #  for miio-extract-tokens
+pycryptodomex #  for miio-extract-tokens
 attrs
 typing  # for py3.4 support
 pytz  # for tz offset in vacuum
diff -ura package.orig/setup.py package.new/setup.py
--- package.orig/setup.py	2017-11-02 08:22:30.000000000 +0100
+++ package.new/setup.py	2017-11-18 22:13:56.895913715 +0100
@@ -30,9 +30,9 @@
                       'click',
                       'cryptography',
                       'pretty_cron',
-                      'typing',
+                      'typing; python_version < "3.5"',
                       'zeroconf',
-                      'pycrypto',
+                      'pycryptodomex',
                       'attrs',
                       'android_backup',
                       'pytz'],
