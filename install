_get_timer_status()
{
	if systemctl is-enabled update-pacman-mirrorlist.timer -q; then
		_enabled=true
	else
		_enabled=false
	fi
	if systemctl is-active update-pacman-mirrorlist.timer -q; then
		_active=true
	else
		_active=false
	fi
}

post_install()
{
	_get_timer_status
	if ! $_enabled || ! $_active; then
		echo 'If you want to enable automatic daily mirrorlist updates, then run the following as a privileged user:'
		if ! $_enabled && ! $_active; then
			echo 'systemctl enable update-pacman-mirrorlist.timer --now'
		else
			if ! $_enabled; then
				echo 'systemctl enable update-pacman-mirrorlist.timer'
			fi
			if ! $_active; then
				echo 'systemctl start update-pacman-mirrorlist.timer'
			fi
		fi
		echo
	fi
}

pre_remove()
{
	_get_timer_status
	if $_enabled || $_active; then
		echo 'You most likely want to disable automatic mirrorlist updates by running the following as a privileged user:'
		if $_enabled; then
			echo 'rm /etc/systemd/system/multi-user.target.wants/update-pacman-mirrorlist.timer'
		fi
		if $_active; then
			echo 'systemctl stop update-pacman-mirrorlist.timer'
		fi
		echo
	fi
}
