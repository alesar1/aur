From c526b2ac87ce5cb26db187bbd612b90bb35605fa Mon Sep 17 00:00:00 2001
From: Georges Basile Stavracas Neto <georges.stavracas@gmail.com>
Date: Fri, 28 Aug 2020 09:43:24 -0300
Subject: [PATCH 24/24] libobs-opengl: Create GLES2 contexts

They are required for importing DMA-BUF images.
---
 libobs-opengl/gl-wayland-egl.c | 2 +-
 libobs-opengl/gl-x11-egl.c     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/libobs-opengl/gl-wayland-egl.c b/libobs-opengl/gl-wayland-egl.c
index 299fe7ea..33352dfb 100644
--- a/libobs-opengl/gl-wayland-egl.c
+++ b/libobs-opengl/gl-wayland-egl.c
@@ -27,7 +27,7 @@
 static const EGLint config_attribs[] = {EGL_SURFACE_TYPE,
 					EGL_WINDOW_BIT,
 					EGL_RENDERABLE_TYPE,
-					EGL_OPENGL_BIT,
+					EGL_OPENGL_ES2_BIT,
 					EGL_STENCIL_SIZE,
 					0,
 					EGL_DEPTH_SIZE,
diff --git a/libobs-opengl/gl-x11-egl.c b/libobs-opengl/gl-x11-egl.c
index d56f6b71..40e6a7f8 100644
--- a/libobs-opengl/gl-x11-egl.c
+++ b/libobs-opengl/gl-x11-egl.c
@@ -62,7 +62,7 @@ static const EGLint ctx_config_attribs[] = {EGL_STENCIL_SIZE,
 					    EGL_ALPHA_SIZE,
 					    8,
 					    EGL_RENDERABLE_TYPE,
-					    EGL_OPENGL_BIT,
+					    EGL_OPENGL_ES2_BIT,
 					    EGL_SURFACE_TYPE,
 					    EGL_WINDOW_BIT | EGL_PBUFFER_BIT,
 					    EGL_NONE};
-- 
2.28.0

