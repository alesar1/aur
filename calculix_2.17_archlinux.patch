diff -ur CalculiX_orig/ccx_2.17/src/Makefile CalculiX/ccx_2.17/src/Makefile
--- CalculiX_orig/ccx_2.17/src/Makefile
+++ CalculiX/ccx_2.17/src/Makefile
@@ -2,2 +2,2 @@ 
-CFLAGS = -Wall -O2 -I ../../../SPOOLES.2.2 -DARCH="Linux" -DSPOOLES -DARPACK -DMATRIXSTORAGE -DNETWORKOUT
-FFLAGS = -Wall -O2
+CFLAGS = -Wall -O2 -fopenmp -I /usr/include/spooles -DARCH="Linux" -DSPOOLES -DARPACK -DMATRIXSTORAGE -DNETWORKOUT
+FFLAGS = -Wall -O2 -fallow-argument-mismatch
@@ -21,6 +21,1 @@
-DIR=../../../SPOOLES.2.2
-
-LIBS = \
-       $(DIR)/spooles.a \
-	../../../ARPACK/libarpack_INTEL.a \
-       -lpthread -lm -lc
+LIBS = -lpthread -lm -lc -lspooles -larpack -lblas -llapack
diff -ur CalculiX_orig/cgx_2.17/src/Makefile CalculiX/cgx_2.16/src/Makefile
--- CalculiX_orig/cgx_2.17/src/Makefile
+++ CalculiX/cgx_2.17/src/Makefile
@@ -1,14 +1,8 @@
 CFLAGS = -O2 -Wall -Wno-narrowing \
   -I./ \
-  -I/usr/include \
-  -I/usr/include/GL \
-  -I../../libSNL/src \
-  -I../../glut-3.5/src \
-  -I/usr/X11/include 
+  -I/usr/include/libSNL \
+  -I../../glut-3.5/src

-LFLAGS = \
-  -L/usr/lib64 -lGL -lGLU \
-  -L/usr/X11R6/lib64 -lX11 -lXi -lXmu -lXext -lXt -lSM -lICE \
-  -lm -lpthread -lrt
+LFLAGS = -lGL -lGLU -lX11 -lXi -lXmu -lXext -lXt -lSM -lICE -lSNL -lm -lpthread -lrt


@@ -59,1 +53,1 @@
- ../../libSNL/src/*.cpp
+# ../../libSNL/src/*.cpp
diff -ur CalculiX_orig/cgx_2.17/src/cgx.h CalculiX/cgx_2.17/src/cgx.h
--- CalculiX_orig/cgx_2.17/src/cgx.h
+++ CalculiX/cgx_2.17/src/cgx.h
@@ -85,12 +85,12 @@
 #elif defined AFLIB
-  #define     HELPFILE        {"/usr/local/CalculiX/cgx_2.17/doc/cgx/cgx.html",\
-    "/usr/local/CalculiX/ccx_2.17/doc/ccx/ccx.html",\
-    "/usr/local/CalculiX/cgx_2.16/doc/aflib/aflib.pdf"}
+  #define     HELPFILE        {"/usr/share/doc/cgx/cgx.html",\
+    "/usr/share/doc/doc/ccx/ccx.html",\
+    "/usr/share/doc/doc/aflib/aflib.pdf"}
   /* default tet mesher, 0:Netgen ng_vol, 1:tetgen */
   #define     TETMESHER  1
 #else
-  #define     HELPFILE        {"/usr/local/CalculiX/cgx_2.17/doc/cgx/cgx.html",\
-    "/usr/local/CalculiX/ccx_2.17/doc/ccx/ccx.html"}
+  #define     HELPFILE        {"/usr/share/doc/cgx/cgx.html",\
+    "/usr/share/doc/ccx/ccx.html"}
   /* default tet mesher, 0:Netgen ng_vol, 1:tetgen */
   #define     TETMESHER  1
 #endif
diff -ur CalculiX_orig/cgx_2.17/src/uselibSNL.h CalculiX/cgx_2.17/src/uselibSNL.h
--- CalculiX_orig/cgx_2.17/src/uselibSNL.h
+++ CalculiX/cgx_2.17/src/uselibSNL.h
@@ -8,1 +8,3 @@
 #include <cgx.h>
+#undef max
+#undef min
