Index: src/EOFs.c
===================================================================
--- src/EOFs.c	(revision 4704)
+++ src/EOFs.c	(working copy)
@@ -377,7 +377,7 @@
 	      npack = 0;
 	      for ( i = 0; i < gridsize; ++i )
 		{
-		  if ( !DBL_IS_EQUAL(weight[i], 0) && !DBL_IS_EQUAL(weight[i], missval) &&
+		  if ( !DBL_IS_EQUAL(weight[i], 0.0) && !DBL_IS_EQUAL(weight[i], missval) &&
 		       !DBL_IS_EQUAL(in[i], missval) )
 		    pack[npack++] = i;
 		}
@@ -392,7 +392,7 @@
 	  ipack = 0;
 	  for ( i = 0; i < gridsize; ++i )
 	    {
-	      if ( !DBL_IS_EQUAL(weight[i], 0) && !DBL_IS_EQUAL(weight[i], missval) &&
+	      if ( !DBL_IS_EQUAL(weight[i], 0.0) && !DBL_IS_EQUAL(weight[i], missval) &&
 		   !DBL_IS_EQUAL(in[i], missval) && pack[ipack++] != i )
 		{
 		  cdoAbort("Missing values unsupported!");
