--- mapper-0.8.3/doc/manual/CMakeLists.txt.orig	2018-12-11 11:02:06.037852281 +0300
+++ mapper-0.8.3/doc/manual/CMakeLists.txt	2018-12-11 11:04:17.712478253 +0300
@@ -136,19 +136,26 @@
 	# Qt Help generation
 	#
 	
+	find_package(Qt5Core 5.3 REQUIRED)
+	if (Qt5Core_VERSION VERSION_LESS 5.12)
+		set(qcollectiongenerator_name qcollectiongenerator)
+	else()
+		set(qcollectiongenerator_name qhelpgenerator)
+	endif()
+	
 	# Qt provides a broken Qt5::qcollectiongenerator when crosscompiling.
 	if (CMAKE_CROSSCOMPILING AND NOT TARGET Qt5::qcollectiongenerator)
 		find_program(Qt5Help_QCOLLECTIONGENERATOR_EXECUTABLE
-		  NAMES qcollectiongenerator-qt5 qcollectiongenerator
-		  DOC "The path of the Qt Assistant executable"
+		  NAMES ${qcollectiongenerator_name}-qt5 ${qcollectiongenerator_name}
+		  DOC "The path of the Qt Help collection generator executable"
 		)
-		add_executable(Qt5::qcollectiongenerator IMPORTED)
-		set_target_properties(Qt5::qcollectiongenerator PROPERTIES
+		add_executable(Qt5::${qcollectiongenerator_name} IMPORTED)
+		set_target_properties(Qt5::${qcollectiongenerator_name} PROPERTIES
 		  IMPORTED_LOCATION ${Qt5Help_QCOLLECTIONGENERATOR_EXECUTABLE}
 		)
 	elseif(NOT Qt5Help_QCOLLECTIONGENERATOR_EXECUTABLE)
 		find_package(Qt5Help REQUIRED)
-		set(Qt5Help_QCOLLECTIONGENERATOR_EXECUTABLE Qt5::qcollectiongenerator)
+		set(Qt5Help_QCOLLECTIONGENERATOR_EXECUTABLE Qt5::${qcollectiongenerator_name})
 	endif()
 	
 	# Reproducible builds need a modifications to the help collection file.
--- mapper-0.8.3/test/locale_t.cpp.orig	2018-12-11 11:09:52.109108419 +0300
+++ mapper-0.8.3/test/locale_t.cpp	2018-12-11 11:10:55.296401144 +0300
@@ -53,13 +53,19 @@
 {
 	QCOMPARE(QLocale::languageToString(QLocale::Esperanto), QString::fromLatin1("Esperanto"));
 	
+#if QT_VERSION < 0x050c00
 	QEXPECT_FAIL("", "Cannot construct Esperanto QLocale from \"eo\" (issue #792).", Continue);
+#endif
 	QCOMPARE(QLocale(QString::fromLatin1("eo")).language(), QLocale::Esperanto);
 	
+#if QT_VERSION < 0x050c00
 	QEXPECT_FAIL("", "Cannot construct Esperanto QLocale from \"eo_C\".", Continue);
+#endif
 	QCOMPARE(QLocale(QString::fromLatin1("eo_C")).language(), QLocale::Esperanto);
 	
+#if QT_VERSION < 0x050c00
 	QEXPECT_FAIL("", "Cannot construct Esperanto QLocale for AnyScript, AnyCountry.", Continue);
+#endif
 	QCOMPARE(QLocale(QLocale::Esperanto, QLocale::AnyScript, QLocale::AnyCountry).language(), QLocale::Esperanto);
 }
 
