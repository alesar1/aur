From c7c7b4754dcb30d14e46837b8967cc01abf34adc Mon Sep 17 00:00:00 2001
From: Ben Greiner <code@bnavigator.de>
Date: Sat, 11 Jul 2020 04:27:07 +0200
Subject: [PATCH] only call np.delete with actual removal (#430)

---
 control/iosys.py | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/control/iosys.py b/control/iosys.py
index 1b29b5b..1fe1034 100644
--- a/control/iosys.py
+++ b/control/iosys.py
@@ -1645,8 +1645,10 @@ def find_eqpt(sys, x0, u0=[], y0=None, t=0, params={},
         # and were processed above.
 
         # Get the states and inputs that were not listed as fixed
-        state_vars = np.delete(np.array(range(nstates)), ix)
-        input_vars = np.delete(np.array(range(ninputs)), iu)
+        state_vars = (range(nstates) if not len(ix)
+                      else np.delete(np.array(range(nstates)), ix))
+        input_vars = (range(ninputs) if not len(iu)
+                      else np.delete(np.array(range(ninputs)), iu))
 
         # Set the outputs and derivs that will serve as constraints
         output_vars = np.array(iy)
-- 
2.28.0

