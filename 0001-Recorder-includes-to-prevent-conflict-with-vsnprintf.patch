From 3482b1b61375265b7c3fa065bdc0da1fe5d76a0e Mon Sep 17 00:00:00 2001
From: Martchus <martchus@gmx.net>
Date: Sun, 25 Sep 2016 21:36:56 +0200
Subject: [PATCH 1/2] Recorder includes to prevent conflict with vsnprintf

Some files #include <dshow.h>
This is a C header which also #include's stdio.h which adds a #define vsnprintf
This #define vsnprint conflicts with QtCore/qstring.h so reorder the includes
a bit to prevent this situation
---
 src/multimedia/video/qvideosurfaceformat.h              | 1 +
 src/plugins/directshow/player/directshowglobal.h        | 1 +
 src/plugins/directshow/player/directshowmediatypelist.h | 1 +
 3 files changed, 3 insertions(+)

diff --git a/src/multimedia/video/qvideosurfaceformat.h b/src/multimedia/video/qvideosurfaceformat.h
index 83785ac0..25607d08 100644
--- a/src/multimedia/video/qvideosurfaceformat.h
+++ b/src/multimedia/video/qvideosurfaceformat.h
@@ -44,6 +44,7 @@
 #include <QtCore/qpair.h>
 #include <QtCore/qshareddata.h>
 #include <QtCore/qsize.h>
+#include <QtCore/qstring.h>
 #include <QtGui/qimage.h>
 #include <QtMultimedia/qvideoframe.h>
 
diff --git a/src/plugins/directshow/player/directshowglobal.h b/src/plugins/directshow/player/directshowglobal.h
index f7890c52..4f7c8213 100644
--- a/src/plugins/directshow/player/directshowglobal.h
+++ b/src/plugins/directshow/player/directshowglobal.h
@@ -43,6 +43,7 @@
 #include <dshow.h>
 
 #include <QtCore/qglobal.h>
+#include <QtCore/qstring.h>
 
 template <typename T> T *com_cast(IUnknown *unknown, const IID &iid)
 {
diff --git a/src/plugins/directshow/player/directshowmediatypelist.h b/src/plugins/directshow/player/directshowmediatypelist.h
index 2bd8dca5..7b8e572c 100644
--- a/src/plugins/directshow/player/directshowmediatypelist.h
+++ b/src/plugins/directshow/player/directshowmediatypelist.h
@@ -43,6 +43,7 @@
 #include <dshow.h>
 
 #include <QtCore/qvector.h>
+#include <QtCore/qstring.h>
 
 class DirectShowMediaTypeList : public IUnknown
 {
-- 
2.11.0

