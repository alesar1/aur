@@ -40,6 +40,8 @@
 #define MALLOCX_ARENA(x) 0
 #define MALLOCX_TCACHE_NONE 0
 #define MADV_HUGEPAGE 0
+
+#ifndef JEMALLOC_VERSION_MAJOR
 typedef struct extent_hooks_s extent_hooks_t;
 typedef void*(extent_alloc_t)(
     extent_hooks_t*,
@@ -52,6 +54,8 @@
 struct extent_hooks_s {
   extent_alloc_t* alloc;
 };
+#endif // JEMALLOC_VERSION_MAJOR
+
 bool folly::JemallocHugePageAllocator::hugePagesSupported{false};
 #endif // FOLLY_JEMALLOC_HUGE_PAGE_ALLOCATOR_SUPPORTED
