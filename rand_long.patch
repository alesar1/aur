diff a/util.c b/util.c
--- a/util.c
+++ b/util.c
@@ -9,12 +9,7 @@
  */
 
 #include <stdlib.h>
-
-inline long rand_long(long max)
-/* return random long from [0;max[ */
-{
-	return (long) (((double)max)*rand()/(RAND_MAX+1.0));
-}
+#include "util.h"
 
 void shuffle_long(long *array, long elements)
 /* shuffle an int array in place
diff --git a/util.h b/util.h
index d1117d6..36171a5 100644
--- a/util.h
+++ b/util.h
@@ -8,7 +8,12 @@
 #ifndef _UTIL_H_
 #define _UTIL_H_
 
-inline long rand_long(long max);
+inline long rand_long(long max)
+/* return random long from [0;max[ */
+{
+	return (long) (((double)max)*rand()/(RAND_MAX+1.0));
+}
+
 void shuffle_long(long *array, long elements);
 
 #endif
