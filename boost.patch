--- masari-0.3.0.0/src/cryptonote_basic/miner.cpp
+++ masari-0.3.0.0/src/cryptonote_basic/miner.cpp
@@ -630,7 +630,7 @@
         boost::tribool battery_powered(on_battery_power());
         if(!indeterminate( battery_powered ))
         {
-          on_ac_power = !battery_powered;
+          on_ac_power = !(bool)battery_powered;
         }
       }
