diff --git a/oclint-driver/CMakeLists.txt b/oclint-driver/CMakeLists.txt
index bf6578b..0385536 100644
--- a/oclint-driver/CMakeLists.txt
+++ b/oclint-driver/CMakeLists.txt
@@ -33,6 +33,12 @@ ELSE()
         )
 ENDIF()
 
+IF(LLVM_LINK_LLVM_DYLIB)
+  set(USE_SHARED USE_SHARED)
+ENDIF()
+
+LLVM_CONFIG(oclint-${OCLINT_VERSION_RELEASE} ${USE_SHARED} ${REQ_LLVM_LIBRARIES})
+
 TARGET_LINK_LIBRARIES(oclint-${OCLINT_VERSION_RELEASE}
     OCLintDriver
     OCLintRuleSet
