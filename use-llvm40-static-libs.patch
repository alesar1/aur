diff -aur radium-5.7.0.pristine/bin/packages/faust2/compiler/CMakeLists.txt radium-5.7.0.new/bin/packages/faust2/compiler/CMakeLists.txt
--- radium-5.7.0.pristine/bin/packages/faust2/compiler/CMakeLists.txt	2018-05-29 13:38:11.000000000 +0100
+++ radium-5.7.0.new/bin/packages/faust2/compiler/CMakeLists.txt	2018-06-02 16:00:34.790083772 +0100
@@ -5,12 +5,12 @@
 include_directories(boxes documentator draw draw/device draw/schema errors evaluate extended generator normalize parallelize
     parser patternmatcher propagate signals tlib utils ../libraries . ../architecture)
 find_package(OpenSSL REQUIRED)
-find_program(LLVM_CONFIG llvm-config HINTS /usr/bin /usr/local/bin /usr/local/opt/llvm/bin)
+find_program(LLVM_CONFIG llvm-config-4.0 HINTS /usr/bin /usr/local/bin /usr/local/opt/llvm/bin)
 if(NOT LLVM_CONFIG)
     message(FATAL_ERROR "Faust2 requires LLVM tooling to be present in the path")
 endif()
 exec_program(${LLVM_CONFIG} ARGS --includedir OUTPUT_VARIABLE LLVM_DIR)
-exec_program(${LLVM_CONFIG} ARGS --libs OUTPUT_VARIABLE LLVM_LIBS)
+exec_program(${LLVM_CONFIG} ARGS --link-static --libfiles OUTPUT_VARIABLE LLVM_LIBS)
 exec_program(${LLVM_CONFIG} ARGS --version OUTPUT_VARIABLE LLVM_VERSION)
 exec_program(${LLVM_CONFIG} ARGS --ldflags OUTPUT_VARIABLE LLVM_LDFLAGS)
 
diff -aur radium-5.7.0.pristine/bin/packages/faust2/compiler/Makefile.unix radium-5.7.0.new/bin/packages/faust2/compiler/Makefile.unix
--- radium-5.7.0.pristine/bin/packages/faust2/compiler/Makefile.unix	2018-05-29 13:38:11.000000000 +0100
+++ radium-5.7.0.new/bin/packages/faust2/compiler/Makefile.unix	2018-06-02 16:00:34.790083772 +0100
@@ -26,7 +26,7 @@
 # link a suitable llvm-config to a location somewhere on your PATH, or just
 # set LLVM_CONFIG manually.
 
-LLVM_CONFIG = $(lastword $(wildcard /usr/bin/llvm-config* /opt/local/bin/llvm-config* /usr/local/bin/llvm-config*) $(shell which llvm-config 2> /dev/null))
+LLVM_CONFIG = /usr/bin/llvm-config-4.0
 
 ## On Darwin build both 32 and 64-bits intel versions
 ifeq ($(system), Darwin)
@@ -47,7 +47,7 @@
 endif
 endif
 
-LLVM_STATIC_LIBS = $(shell $(LLVM_CONFIG) --libfiles)
+LLVM_STATIC_LIBS = $(shell $(LLVM_CONFIG) --link-static --libfiles)
 LLVM_VERSION = $(shell $(LLVM_CONFIG) --version)
 
 ## On Windows (mingw32) we must link against the socket library.
@@ -225,7 +225,7 @@
 ifneq ($(findstring MINGW32, $(system)),)
 	$(CXX) $(CXXFLAGS) $(LDFLAGS) $(objects) main.o libcode.o global.o `$(LLVM_CONFIG) --ldflags` $(LLVMLIBS) $(CLANGLIBS) $(LIBS) -lpthread -o faust
 else
-	$(CXX) $(CXXFLAGS) $(LDFLAGS) $(objects) main.o libcode.o global.o `$(LLVM_CONFIG) --ldflags` $(LLVMLIBS) $(CLANGLIBS) -ldl -lcrypto -lz -lncurses -lpthread -o faust
+	$(CXX) $(CXXFLAGS) $(LDFLAGS) $(objects) main.o libcode.o global.o `$(LLVM_CONFIG) --ldflags` $(LLVM_STATIC_LIBS) $(CLANGLIBS) -ldl -lcrypto -lz -lncurses -lpthread -o faust
 endif
 
 ifeq ($(system), Darwin)
diff -aur radium-5.7.0.pristine/build_linux_common.sh radium-5.7.0.new/build_linux_common.sh
--- radium-5.7.0.pristine/build_linux_common.sh	2018-05-29 13:38:11.000000000 +0100
+++ radium-5.7.0.new/build_linux_common.sh	2018-06-02 16:03:46.770084003 +0100
@@ -106,17 +106,11 @@
 PYTHONLIBPATH=`$PYTHONEXE -c "import sys;print '-L'+sys.prefix+'/lib'"`
 PYTHONLIBNAME=`$PYTHONEXE -c "import sys;print '-lpython'+sys.version[:3]"`
 
-LLVM_OPTS=`llvm-config --cppflags`
-
-MAYBELLVM=`llvm-config --libdir`/libLLVM-`llvm-config --version`.so
-if [ -f $MAYBELLVM ]; then
-    LLVMLIBS=-lLLVM-`llvm-config --version`
-else
-    LLVMLIBS=`llvm-config --libs`
-fi
+LLVM_OPTS=`llvm-config-4.0 --cppflags`
+LLVMLIBS=`llvm-config-4.0 --link-static --libfiles`
 
 if env |grep INCLUDE_FAUSTDEV ; then
-    FAUSTLDFLAGS="bin/packages/QScintilla_gpl-2.10.1/Qt4Qt5/libqscintilla2_qt5.a bin/packages/faust2/compiler/libfaust.a `$PKG --libs uuid` `llvm-config --ldflags` $LLVMLIBS -lcrypto -lncurses"
+    FAUSTLDFLAGS="bin/packages/QScintilla_gpl-2.10.1/Qt4Qt5/libqscintilla2_qt5.a bin/packages/faust2/compiler/libfaust.a `$PKG --libs uuid` $LLVMLIBS -lcrypto -lncurses"
 else    
     FAUSTLDFLAGS=""
 fi
