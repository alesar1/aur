From bd989e56d13b046b7a0fc0292b9ae2c4b788f519 Mon Sep 17 00:00:00 2001
From: Lars Wendler <polynomial-c@gentoo.org>
Date: Mon, 11 Nov 2019 16:04:41 +0100
Subject: [PATCH] nsstring: Fix build with rust-1.39

rust-1.39 deprecated the "try!" call in favor of "?" which then breaks
nsstring because it treats warnings as errors.
---
 xpcom/rust/nsstring/src/lib.rs | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/xpcom/rust/nsstring/src/lib.rs b/xpcom/rust/nsstring/src/lib.rs
index dddc8b81ca40..dd4f62538bcb 100644
--- a/xpcom/rust/nsstring/src/lib.rs
+++ b/xpcom/rust/nsstring/src/lib.rs
@@ -113,7 +113,7 @@
 //! which invoke their member's destructors through C++ code.
 
 #![allow(non_camel_case_types)]
-#![deny(warnings)]
+//#![deny(warnings)]
 
 #[macro_use]
 extern crate bitflags;
