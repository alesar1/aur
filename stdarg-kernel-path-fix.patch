From b676f8efe97a62f3c0ac677d0a2b8968b7d5331b Mon Sep 17 00:00:00 2001
From: egnappahz <egnappah@gmail.com>
Date: Thu, 27 Jan 2022 09:50:59 +0100
Subject: [PATCH] stdarg kernel path fix

---
 uds/memoryAlloc.h    | 2 +-
 uds/stringUtils.h    | 4 ++--
 vdo/vdoStringUtils.h | 2 +-
 vdo/vio.h            | 2 +-
 4 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/uds/memoryAlloc.h b/uds/memoryAlloc.h
index b144a708..f69e8931 100644
--- a/uds/memoryAlloc.h
+++ b/uds/memoryAlloc.h
@@ -22,7 +22,7 @@
 #ifndef MEMORY_ALLOC_H
 #define MEMORY_ALLOC_H 1
 
-#include <stdarg.h>
+#include <linux/stdarg.h>
 
 #include "compiler.h"
 #include "cpu.h"
diff --git a/uds/stringUtils.h b/uds/stringUtils.h
index 305e28eb..51c129b3 100644
--- a/uds/stringUtils.h
+++ b/uds/stringUtils.h
@@ -22,7 +22,7 @@
 #ifndef STRING_UTILS_H
 #define STRING_UTILS_H
 
-#include <stdarg.h>
+#include <linux/stdarg.h>
 #include <linux/kernel.h>
 #include <linux/string.h>
 
@@ -88,7 +88,7 @@ int __must_check uds_fixed_sprintf(const char *what,
  * @param [in]  error    The error code to return for exceeding the specified
  *                       space, UDS_SUCCESS if no logging required.
  * @param [in]  fmt      The sprintf format specification.
- * @param [in]  ap       The variable argument pointer (see <stdarg.h>).
+ * @param [in]  ap       The variable argument pointer (see <linux/stdarg.h>).
  * @param [out] needed   If non-NULL, the actual amount of string space
  *                       required, which may be smaller or larger than
  *                       buf_size.
diff --git a/vdo/vdoStringUtils.h b/vdo/vdoStringUtils.h
index cbae05e0..39160551 100644
--- a/vdo/vdoStringUtils.h
+++ b/vdo/vdoStringUtils.h
@@ -22,7 +22,7 @@
 #ifndef VDO_STRING_UTILS_H
 #define VDO_STRING_UTILS_H
 
-#include <stdarg.h>
+#include <linux/stdarg.h>
 #include <linux/types.h>
 
 /**
diff --git a/vdo/vio.h b/vdo/vio.h
index b5ea4284..9d5a3110 100644
--- a/vdo/vio.h
+++ b/vdo/vio.h
@@ -22,7 +22,7 @@
 #ifndef VIO_H
 #define VIO_H
 
-#include <stdarg.h>
+#include <linux/stdarg.h>
 
 #include "kernelLayer.h"
 
-- 
2.35.0

