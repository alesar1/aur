diff --git a/include/ClientCaches.py b/include/ClientCaches.py
index 19cb427..d8a2334 100644
--- a/include/ClientCaches.py
+++ b/include/ClientCaches.py
@@ -765,6 +765,8 @@ class ClientFilesManager( object ):
         
         thumbnail_dimensions = options[ 'thumbnail_dimensions' ]
         
+        resized_path = self._GenerateExpectedThumbnailPath( location, hash, False )
+        
         try:
             
             thumbnail_resized = HydrusFileHandling.GenerateThumbnail( full_size_path, thumbnail_dimensions )
@@ -773,7 +775,7 @@ class ClientFilesManager( object ):
             
             try:
                 
-                HydrusPaths.DeletePath( path )
+                HydrusPaths.DeletePath( resized_path )
                 
             except:
                 
@@ -785,8 +787,6 @@ class ClientFilesManager( object ):
             thumbnail_resized = HydrusFileHandling.GenerateThumbnail( full_size_path, thumbnail_dimensions )
             
         
-        resized_path = self._GenerateExpectedThumbnailPath( location, hash, False )
-        
         try:
             
             with open( resized_path, 'wb' ) as f:
