# Pacman hook that generates/updates rustup completion.
# Installed by rustup-shell-completion-hook

[Trigger]
Operation = Install
Operation = Upgrade
Type = Package
Target = rustup
Target = zsh
Target = rustup-shell-completion-hook

[Action]
Description = Generating rustup zsh completion if needed...
When = PostTransaction
Depends = rustup
Exec = /usr/bin/env sh -c "[[ -d /usr/share/zsh/site-functions ]] && rustup completions zsh > /usr/share/zsh/site-functions/_rustup"
