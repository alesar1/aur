diff --git a/src/Makefile.am b/src/Makefile.am
index f17d979..fb6d03a 100644
--- a/src/Makefile.am
+++ b/src/Makefile.am
@@ -7,6 +7,8 @@ AM_CXXFLAGS += -DDATADIR="\"$(datadir)\""
 AM_CXXFLAGS += @COVERAGE_CXXFLAGS@
 AM_CXXFLAGS += @FORTIFY_CXXFLAGS@ # simulate Arch Linux build (--with-fortify)
 
+AM_CXXFLAGS += -Werror=format-security 	-fstack-clash-protection -fcf-protection -Wp,-D_GLIBCXX_ASSERTIONS
+
 
 
 AM_CXXFLAGS += -Wuninitialized
diff --git a/src/utils.cc b/src/utils.cc
index b15edea..778506d 100644
--- a/src/utils.cc
+++ b/src/utils.cc
@@ -219,13 +219,6 @@ xclose ( FILE *fp)
 	return ret;
 }
 
-/* Fclose or panic */
-	void
-ck_fclose ( FILE *stream)
-{
-	if (fclose (stream) == EOF)
-		panic ("Couldn't close %s", __fp_name (stream));
-}
 
 /* fopen or panic */
 void *
